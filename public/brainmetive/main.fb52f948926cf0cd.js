"use strict";(self.webpackChunkBrainmetive=self.webpackChunkBrainmetive||[]).push([[179],{600:()=>{function Se(n){return"function"==typeof n}function Pa(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const wc=Pa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Fa(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Mn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(s){e=s instanceof wc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{$E(s)}catch(o){e=e??[],o instanceof wc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new wc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$E(e);else{if(e instanceof Mn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Fa(t,e)}remove(e){const{_finalizers:t}=this;t&&Fa(t,e),e instanceof Mn&&e._removeParent(this)}}Mn.EMPTY=(()=>{const n=new Mn;return n.closed=!0,n})();const BE=Mn.EMPTY;function jE(n){return n instanceof Mn||n&&"closed"in n&&Se(n.remove)&&Se(n.add)&&Se(n.unsubscribe)}function $E(n){Se(n)?n():n.unsubscribe()}const Gi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bc={setTimeout(n,e,...t){const{delegate:r}=bc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=bc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function HE(n){bc.setTimeout(()=>{const{onUnhandledError:e}=Gi;if(!e)throw n;e(n)})}function GE(){}const tL=cp("C",void 0,void 0);function cp(n,e,t){return{kind:n,value:e,error:t}}let qi=null;function Ic(n){if(Gi.useDeprecatedSynchronousErrorHandling){const e=!qi;if(e&&(qi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=qi;if(qi=null,t)throw r}}else n()}class dp extends Mn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jE(e)&&e.add(this)):this.destination=uL}static create(e,t,r){return new La(e,t,r)}next(e){this.isStopped?fp(function rL(n){return cp("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?fp(function nL(n){return cp("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fp(tL,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const sL=Function.prototype.bind;function hp(n,e){return sL.call(n,e)}class oL{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ec(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ec(r)}else Ec(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ec(t)}}}class La extends dp{constructor(e,t,r){let i;if(super(),Se(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Gi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hp(e.next,s),error:e.error&&hp(e.error,s),complete:e.complete&&hp(e.complete,s)}):i=e}this.destination=new oL(i)}}function Ec(n){Gi.useDeprecatedSynchronousErrorHandling?function iL(n){Gi.useDeprecatedSynchronousErrorHandling&&qi&&(qi.errorThrown=!0,qi.error=n)}(n):HE(n)}function fp(n,e){const{onStoppedNotification:t}=Gi;t&&bc.setTimeout(()=>t(n,e))}const uL={closed:!0,next:GE,error:function aL(n){throw n},complete:GE},pp="function"==typeof Symbol&&Symbol.observable||"@@observable";function zi(n){return n}function qE(n){return 0===n.length?zi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ze=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function dL(n){return n&&n instanceof dp||function cL(n){return n&&Se(n.next)&&Se(n.error)&&Se(n.complete)}(n)&&jE(n)}(t)?t:new La(t,r,i);return Ic(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=zE(r))((i,s)=>{const o=new La({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[pp](){return this}pipe(...t){return qE(t)(this)}toPromise(t){return new(t=zE(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function zE(n){var e;return null!==(e=n??Gi.Promise)&&void 0!==e?e:Promise}const hL=Pa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ir=(()=>{class n extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new WE(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new hL}next(t){Ic(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ic(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ic(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?BE:(this.currentObservers=null,s.push(t),new Mn(()=>{this.currentObservers=null,Fa(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ze;return t.source=this,t}}return n.create=(e,t)=>new WE(e,t),n})();class WE extends ir{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:BE}}function KE(n){return Se(n?.lift)}function mt(n){return e=>{if(KE(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(n,e,t,r,i){return new fL(n,e,t,r,i)}class fL extends dp{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function de(n,e){return mt((t,r)=>{let i=0;t.subscribe(ot(r,s=>{r.next(n.call(e,s,i++))}))})}function YE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Wi(n){return this instanceof Wi?(this.v=n,this):new Wi(n)}function mL(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Wi?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function yL(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function JE(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const XE=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function eC(n){return Se(n?.then)}function tC(n){return Se(n[pp])}function nC(n){return Symbol.asyncIterator&&Se(n?.[Symbol.asyncIterator])}function rC(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const iC=function _L(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sC(n){return Se(n?.[iC])}function oC(n){return mL(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Wi(t.read());if(i)return yield Wi(void 0);yield yield Wi(r)}}finally{t.releaseLock()}})}function aC(n){return Se(n?.getReader)}function jn(n){if(n instanceof Ze)return n;if(null!=n){if(tC(n))return function wL(n){return new Ze(e=>{const t=n[pp]();if(Se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(XE(n))return function bL(n){return new Ze(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(eC(n))return function IL(n){return new Ze(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,HE)})}(n);if(nC(n))return uC(n);if(sC(n))return function EL(n){return new Ze(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(aC(n))return function CL(n){return uC(oC(n))}(n)}throw rC(n)}function uC(n){return new Ze(e=>{(function DL(n,e){var t,r,i,s;return function pL(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=yL(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ar(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function At(n,e,t=1/0){return Se(e)?At((r,i)=>de((s,o)=>e(r,s,i,o))(jn(n(r,i))),t):("number"==typeof e&&(t=e),mt((r,i)=>function TL(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let y=!1;jn(t(g,c++)).subscribe(ot(e,b=>{i?.(b),s?f(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;u.length&&l<r;){const b=u.shift();o?Ar(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(ot(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Js(n=1/0){return At(zi,n)}const Sr=new Ze(n=>n.complete());function mp(n){return n[n.length-1]}function lC(n){return Se(mp(n))?n.pop():void 0}function Va(n){return function SL(n){return n&&Se(n.schedule)}(mp(n))?n.pop():void 0}function cC(n,e=0){return mt((t,r)=>{t.subscribe(ot(r,i=>Ar(r,n,()=>r.next(i),e),()=>Ar(r,n,()=>r.complete(),e),i=>Ar(r,n,()=>r.error(i),e)))})}function dC(n,e=0){return mt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function hC(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ze(t=>{Ar(t,e,()=>{const r=n[Symbol.asyncIterator]();Ar(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Je(n,e){return e?function PL(n,e){if(null!=n){if(tC(n))return function xL(n,e){return jn(n).pipe(dC(e),cC(e))}(n,e);if(XE(n))return function RL(n,e){return new Ze(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(eC(n))return function NL(n,e){return jn(n).pipe(dC(e),cC(e))}(n,e);if(nC(n))return hC(n,e);if(sC(n))return function kL(n,e){return new Ze(t=>{let r;return Ar(t,e,()=>{r=n[iC](),Ar(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}(n,e);if(aC(n))return function OL(n,e){return hC(oC(n),e)}(n,e)}throw rC(n)}(n,e):jn(n)}function yp(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new La({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function De(n){for(let e in n)if(n[e]===De)return e;throw Error("Could not find renamed property on target object.")}function vp(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Te(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Te).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function _p(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const VL=De({__forward_ref__:De});function Me(n){return n.__forward_ref__=Me,n.toString=function(){return Te(this())},n}function Q(n){return wp(n)?n():n}function wp(n){return"function"==typeof n&&n.hasOwnProperty(VL)&&n.__forward_ref__===Me}class N extends Error{constructor(e,t){super(function Cc(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function Dc(n,e){throw new N(-201,!1)}function mn(n,e){null==n&&function _e(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function se(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $n(n){return{providers:n.providers||[],imports:n.imports||[]}}function Tc(n){return fC(n,Ac)||fC(n,gC)}function fC(n,e){return n.hasOwnProperty(e)?n[e]:null}function pC(n){return n&&(n.hasOwnProperty(bp)||n.hasOwnProperty(WL))?n[bp]:null}const Ac=De({\u0275prov:De}),bp=De({\u0275inj:De}),gC=De({ngInjectableDef:De}),WL=De({ngInjectorDef:De});var q=(()=>((q=q||{})[q.Default=0]="Default",q[q.Host=1]="Host",q[q.Self=2]="Self",q[q.SkipSelf=4]="SkipSelf",q[q.Optional=8]="Optional",q))();let Ip;function xn(n){const e=Ip;return Ip=n,e}function mC(n,e,t){const r=Tc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&q.Optional?null:void 0!==e?e:void Dc(Te(n))}function ii(n){return{toString:n}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),sr=(()=>{return(n=sr||(sr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",sr;var n})();const Ae=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xs={},ve=[],Sc=De({\u0275cmp:De}),Ep=De({\u0275dir:De}),Cp=De({\u0275pipe:De}),yC=De({\u0275mod:De}),xr=De({\u0275fac:De}),Ua=De({__NG_ELEMENT_ID__:De});let QL=0;function yn(n){return ii(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ve,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||sr.Emulated,id:"c"+QL++,styles:n.styles||ve,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=wC(n.inputs,r),i.outputs=wC(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(vC).filter(_C):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(zt).filter(_C):null,i})}function vC(n){return we(n)||qt(n)}function _C(n){return null!==n}function or(n){return ii(()=>({type:n.type,bootstrap:n.bootstrap||ve,declarations:n.declarations||ve,imports:n.imports||ve,exports:n.exports||ve,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function wC(n,e){if(null==n)return Xs;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const Y=yn;function we(n){return n[Sc]||null}function qt(n){return n[Ep]||null}function zt(n){return n[Cp]||null}function vn(n,e){const t=n[yC]||null;if(!t&&!0===e)throw new Error(`Type ${Te(n)} does not have '\u0275mod' property.`);return t}function sn(n){return Array.isArray(n)&&"object"==typeof n[1]}function qn(n){return Array.isArray(n)&&!0===n[1]}function Ap(n){return 0!=(8&n.flags)}function Rc(n){return 2==(2&n.flags)}function kc(n){return 1==(1&n.flags)}function zn(n){return null!==n.template}function tV(n){return 0!=(256&n[2])}function Ji(n,e){return n.hasOwnProperty(xr)?n[xr]:null}class iV{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Rn(){return EC}function EC(n){return n.type.prototype.ngOnChanges&&(n.setInput=oV),sV}function sV(){const n=DC(this),e=n?.current;if(e){const t=n.previous;if(t===Xs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function oV(n,e,t,r){const i=DC(n)||function aV(n,e){return n[CC]=e}(n,{previous:Xs,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new iV(u&&u.currentValue,e,o===Xs),n[r]=e}Rn.ngInherit=!0;const CC="__ngSimpleChanges__";function DC(n){return n[CC]||null}function Xe(n){for(;Array.isArray(n);)n=n[0];return n}function Oc(n,e){return Xe(e[n])}function On(n,e){return Xe(e[n.index])}function Rp(n,e){return n.data[e]}function wn(n,e){const t=e[n];return sn(t)?t:t[0]}function Pc(n){return 64==(64&n[2])}function si(n,e){return null==e?null:n[e]}function AC(n){n[18]=0}function kp(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const J={lFrame:FC(null),bindingsEnabled:!0};function MC(){return J.bindingsEnabled}function D(){return J.lFrame.lView}function he(){return J.lFrame.tView}function at(){let n=xC();for(;null!==n&&64===n.type;)n=n.parent;return n}function xC(){return J.lFrame.currentTNode}function ar(n,e){const t=J.lFrame;t.currentTNode=n,t.isParent=e}function Op(){return J.lFrame.isParent}function oo(){return J.lFrame.bindingIndex++}function EV(n,e){const t=J.lFrame;t.bindingIndex=t.bindingRootIndex=n,Fp(e)}function Fp(n){J.lFrame.currentDirectiveIndex=n}function Vp(n){J.lFrame.currentQueryIndex=n}function DV(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function OC(n,e,t){if(t&q.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&q.Host||(i=DV(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=J.lFrame=PC();return r.currentTNode=e,r.lView=n,!0}function Up(n){const e=PC(),t=n[1];J.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function PC(){const n=J.lFrame,e=null===n?null:n.child;return null===e?FC(n):e}function FC(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function LC(){const n=J.lFrame;return J.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const VC=LC;function Bp(){const n=LC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Kt(){return J.lFrame.selectedIndex}function oi(n){J.lFrame.selectedIndex=n}function Lc(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function Vc(n,e,t){UC(n,e,3,t)}function Uc(n,e,t,r){(3&n[2])===t&&UC(n,e,t,r)}function jp(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function UC(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(OV(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function OV(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ga{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Bc(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];jC(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function BC(n){return 3===n||4===n||6===n}function jC(n){return 64===n.charCodeAt(0)}function jc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||$C(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function $C(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function HC(n){return-1!==n}function ao(n){return 32767&n}function uo(n,e){let t=function UV(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Hp=!0;function $c(n){const e=Hp;return Hp=n,e}let BV=0;const ur={};function za(n,e){const t=qp(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Gp(r.data,n),Gp(e,null),Gp(r.blueprint,null));const i=Hc(n,e),s=n.injectorIndex;if(HC(i)){const o=ao(i),a=uo(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Gp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function qp(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Hc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=JC(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Gc(n,e,t){!function jV(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ua)&&(r=t[Ua]),null==r&&(r=t[Ua]=BV++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function zC(n,e,t){if(t&q.Optional)return n;Dc()}function WC(n,e,t,r){if(t&q.Optional&&void 0===r&&(r=null),0==(t&(q.Self|q.Host))){const i=n[9],s=xn(void 0);try{return i?i.get(e,r,t&q.Optional):mC(e,r,t&q.Optional)}finally{xn(s)}}return zC(r,0,t)}function KC(n,e,t,r=q.Default,i){if(null!==n){if(1024&e[2]){const o=function zV(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=QC(s,o,t,r|q.Self,ur);if(a!==ur)return a;let u=s.parent;if(!u){const l=o[21];if(l){const c=l.get(t,ur,r);if(c!==ur)return c}u=JC(o),o=o[15]}s=u}return i}(n,e,t,r,ur);if(o!==ur)return o}const s=QC(n,e,t,r,ur);if(s!==ur)return s}return WC(e,t,r,i)}function QC(n,e,t,r,i){const s=function GV(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ua)?n[Ua]:void 0;return"number"==typeof e?e>=0?255&e:qV:e}(t);if("function"==typeof s){if(!OC(e,n,r))return r&q.Host?zC(i,0,r):WC(e,t,r,i);try{const o=s(r);if(null!=o||r&q.Optional)return o;Dc()}finally{VC()}}else if("number"==typeof s){let o=null,a=qp(n,e),u=-1,l=r&q.Host?e[16][6]:null;for((-1===a||r&q.SkipSelf)&&(u=-1===a?Hc(n,e):e[a+8],-1!==u&&ZC(r,!1)?(o=e[1],a=ao(u),e=uo(u,e)):a=-1);-1!==a;){const c=e[1];if(YC(s,a,c.data)){const d=HV(a,e,t,o,r,l);if(d!==ur)return d}u=e[a+8],-1!==u&&ZC(r,e[1].data[a+8]===l)&&YC(s,a,e)?(o=c,a=ao(u),e=uo(u,e)):a=-1}}return i}function HV(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=function qc(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&zn(f)&&f.type===t)return u}return null}(a,o,t,null==r?Rc(a)&&Hp:r!=o&&0!=(3&a.type),i&q.Host&&s===a);return null!==c?Wa(e,o,c,a):ur}function Wa(n,e,t,r){let i=n[t];const s=e.data;if(function PV(n){return n instanceof Ga}(i)){const o=i;o.resolving&&function UL(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new N(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ye(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}(s[t]));const a=$c(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?xn(o.injectImpl):null;OC(n,r,q.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function kV(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=EC(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&xn(u),$c(a),o.resolving=!1,VC()}}return i}function YC(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function ZC(n,e){return!(n&q.Self||n&q.Host&&e)}class lo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return KC(this._tNode,this._lView,e,r,t)}}function qV(){return new lo(at(),D())}function zp(n){return wp(n)?()=>{const e=zp(Q(n));return e&&e()}:Ji(n)}function JC(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const ho="__parameters__";function po(n,e,t){return ii(()=>{const r=function Wp(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(ho)?u[ho]:Object.defineProperty(u,ho,{value:[]})[ho];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class z{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=se({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function kr(n,e){n.forEach(t=>Array.isArray(t)?kr(t,e):e(t))}function eD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function zc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function In(n,e,t){let r=go(n,e);return r>=0?n[1|r]=t:(r=~r,function YV(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Qp(n,e){const t=go(n,e);if(t>=0)return n[1|t]}function go(n,e){return function rD(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ja={},Zp="__NG_DI_FLAG__",Kc="ngTempTokenPath",i2=/\n/gm,iD="__source";let Xa;function mo(n){const e=Xa;return Xa=n,e}function o2(n,e=q.Default){if(void 0===Xa)throw new N(-203,!1);return null===Xa?mC(n,void 0,e):Xa.get(n,e&q.Optional?null:void 0,e)}function H(n,e=q.Default){return(function KL(){return Ip}()||o2)(Q(n),e)}function ze(n,e=q.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),H(n,e)}function Jp(n){const e=[];for(let t=0;t<n.length;t++){const r=Q(n[t]);if(Array.isArray(r)){if(0===r.length)throw new N(900,!1);let i,s=q.Default;for(let o=0;o<r.length;o++){const a=r[o],u=a2(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function eu(n,e){return n[Zp]=e,n.prototype[Zp]=e,n}function a2(n){return n[Zp]}const tu=eu(po("Optional"),8),nu=eu(po("SkipSelf"),4);let eg;const ug=new z("ENVIRONMENT_INITIALIZER"),TD=new z("INJECTOR",-1),AD=new z("INJECTOR_DEF_TYPES");class SD{get(e,t=Ja){if(t===Ja){const r=new Error(`NullInjectorError: No provider for ${Te(e)}!`);throw r.name="NullInjectorError",r}return t}}function q2(...n){return{\u0275providers:MD(0,n)}}function MD(n,...e){const t=[],r=new Set;let i;return kr(e,s=>{const o=s;lg(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&xD(i,t),t}function xD(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];kr(i,s=>{e.push(s)})}}function lg(n,e,t,r){if(!(n=Q(n)))return!1;let i=null,s=pC(n);const o=!s&&we(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=pC(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)lg(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{kr(s.imports,c=>{lg(c,e,t,r)&&(l||(l=[]),l.push(c))})}finally{}void 0!==l&&xD(l,e)}if(!a){const l=Ji(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:ve},{provide:AD,useValue:i,multi:!0},{provide:ug,useValue:()=>H(i),multi:!0})}const u=s.providers;null==u||a||kr(u,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}const z2=De({provide:String,useValue:De});function cg(n){return null!==n&&"object"==typeof n&&z2 in n}function Xi(n){return"function"==typeof n}const dg=new z("Set Injector scope."),td={},K2={};let hg;function nd(){return void 0===hg&&(hg=new SD),hg}class li{}class kD extends li{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pg(e,o=>this.processProvider(o)),this.records.set(TD,_o(void 0,this)),i.has("environment")&&this.records.set(li,_o(void 0,this));const s=this.records.get(dg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(AD.multi,ve,q.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=mo(this),r=xn(void 0);try{return e()}finally{mo(t),xn(r)}}get(e,t=Ja,r=q.Default){this.assertNotDestroyed();const i=mo(this),s=xn(void 0);try{if(!(r&q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function X2(n){return"function"==typeof n||"object"==typeof n&&n instanceof z}(e)&&Tc(e);a=u&&this.injectableDefInScope(u)?_o(fg(e),td):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&q.Self?nd():this.parent).get(e,t=r&q.Optional&&t===Ja?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Kc]=o[Kc]||[]).unshift(Te(e)),i)throw o;return function u2(n,e,t,r){const i=n[Kc];throw e[iD]&&i.unshift(e[iD]),n.message=function l2(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Te(e);if(Array.isArray(e))i=e.map(Te).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Te(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(i2,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Kc]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{xn(s),mo(i)}}resolveInjectorInitializers(){const e=mo(this),t=xn(void 0);try{const r=this.get(ug.multi,ve,q.Self);for(const i of r)i()}finally{mo(e),xn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Te(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(e){let t=Xi(e=Q(e))?e:Q(e&&e.provide);const r=function Y2(n){return cg(n)?_o(void 0,n.useValue):_o(OD(n),td)}(e);if(Xi(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=_o(void 0,td,!0),i.factory=()=>Jp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===td&&(t.value=K2,t.value=t.factory()),"object"==typeof t.value&&t.value&&function J2(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Q(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function fg(n){const e=Tc(n),t=null!==e?e.factory:Ji(n);if(null!==t)return t;if(n instanceof z)throw new N(204,!1);if(n instanceof Function)return function Q2(n){const e=n.length;if(e>0)throw function Za(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new N(204,!1);const t=function qL(n){const e=n&&(n[Ac]||n[gC]);if(e){const t=function zL(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new N(204,!1)}function OD(n,e,t){let r;if(Xi(n)){const i=Q(n);return Ji(i)||fg(i)}if(cg(n))r=()=>Q(n.useValue);else if(function RD(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Jp(n.deps||[]));else if(function ND(n){return!(!n||!n.useExisting)}(n))r=()=>H(Q(n.useExisting));else{const i=Q(n&&(n.useClass||n.provide));if(!function Z2(n){return!!n.deps}(n))return Ji(i)||fg(i);r=()=>new i(...Jp(n.deps))}return r}function _o(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function eU(n){return!!n.\u0275providers}function pg(n,e){for(const t of n)Array.isArray(t)?pg(t,e):eU(t)?pg(t.\u0275providers,e):e(t)}class PD{}class rU{resolveComponentFactory(e){throw function nU(n){const e=Error(`No component factory found for ${Te(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let uu=(()=>{class n{}return n.NULL=new rU,n})();function iU(){return wo(at(),D())}function wo(n,e){return new En(On(n,e))}let En=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=iU,n})();class LD{}let Or=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function oU(){const n=D(),t=wn(at().index,n);return(sn(t)?t:n)[11]}(),n})(),aU=(()=>{class n{}return n.\u0275prov=se({token:n,providedIn:"root",factory:()=>null}),n})();class lu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const uU=new lu("14.2.0"),gg={};function wg(n){return n.ngOriginalError}class bo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&wg(e);for(;t&&wg(t);)t=wg(t);return t||null}}const bg=new Map;let wU=0;const Eg="__ngContext__";function Vt(n,e){sn(e)?(n[Eg]=e[20],function IU(n){bg.set(n[20],n)}(e)):n[Eg]=e}function cu(n){const e=n[Eg];return"number"==typeof e?function HD(n){return bg.get(n)||null}(e):e||null}function Cg(n){const e=cu(n);return e?sn(e)?e:e.lView:null}function Pr(n){return n instanceof Function?n():n}var on=(()=>((on=on||{})[on.Important=1]="Important",on[on.DashCase=2]="DashCase",on))();function Tg(n,e){return undefined(n,e)}function du(n){const e=n[3];return qn(e)?e[3]:e}function Ag(n){return YD(n[13])}function Sg(n){return YD(n[4])}function YD(n){for(;null!==n&&!qn(n);)n=n[4];return n}function Eo(n,e,t,r,i){if(null!=r){let s,o=!1;qn(r)?s=r:sn(r)&&(o=!0,r=r[0]);const a=Xe(r);0===n&&null!==t?null==i?n0(e,t,a):es(e,t,a,i||null,!0):1===n&&null!==t?es(e,t,a,i||null,!0):2===n?function c0(n,e,t){const r=rd(n,e);r&&function QU(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function JU(n,e,t,r,i){const s=t[7];s!==Xe(t)&&Eo(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];hu(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function xg(n,e,t){return n.createElement(e,t)}function JD(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,kp(i,-1)),t.splice(r,1)}function Ng(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&JD(i,r),e>0&&(n[t-1][4]=r[4]);const s=zc(n,10+e);!function jU(n,e){hu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function XD(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&hu(n,e,t,3,null,null),function GU(n){let e=n[13];if(!e)return Rg(n[1],n);for(;e;){let t=null;if(sn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)sn(e)&&Rg(e[1],e),e=e[3];null===e&&(e=n),sn(e)&&Rg(e[1],e),t=e&&e[4]}e=t}}(e)}}function Rg(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function KU(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ga)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function WU(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Xe(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&qn(e[3])){t!==e[3]&&JD(t,e);const r=e[19];null!==r&&r.detachView(n)}!function EU(n){bg.delete(n[20])}(e)}}function e0(n,e,t){return function t0(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===sr.None||i===sr.Emulated)return null}return On(r,t)}(n,e.parent,t)}function es(n,e,t,r,i){n.insertBefore(e,t,r,i)}function n0(n,e,t){n.appendChild(e,t)}function r0(n,e,t,r,i){null!==r?es(n,e,t,r,i):n0(n,e,t)}function rd(n,e){return n.parentNode(e)}let a0=function o0(n,e,t){return 40&n.type?On(n,t):null};function id(n,e,t,r){const i=e0(n,r,e),s=e[11],a=function s0(n,e,t){return a0(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)r0(s,i,t[u],a,!1);else r0(s,i,t,a,!1)}function sd(n,e){if(null!==e){const t=e.type;if(3&t)return On(e,n);if(4&t)return Og(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return sd(n,r);{const i=n[e.index];return qn(i)?Og(-1,i):Xe(i)}}if(32&t)return Tg(e,n)()||Xe(n[e.index]);{const r=l0(n,e);return null!==r?Array.isArray(r)?r[0]:sd(du(n[16]),r):sd(n,e.next)}}return null}function l0(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Og(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return sd(r,i)}return e[7]}function Pg(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Vt(Xe(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)Pg(n,e,t.child,r,i,s,!1),Eo(e,n,i,a,s);else if(32&u){const l=Tg(t,r);let c;for(;c=l();)Eo(e,n,i,c,s);Eo(e,n,i,a,s)}else 16&u?d0(n,e,r,t,i,s):Eo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function hu(n,e,t,r,i,s){Pg(t,r,n.firstChild,e,i,s,!1)}function d0(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Eo(e,n,i,u[l],s);else Pg(n,e,u,o[3],i,s,!0)}function h0(n,e,t){n.setAttribute(e,"style",t)}function Fg(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function f0(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const p0="ng-template";function eB(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==f0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function g0(n){return 4===n.type&&n.value!==p0}function tB(n,e,t){return e===(4!==n.type||t?n.value:p0)}function nB(n,e,t){let r=4;const i=n.attrs||[],s=function sB(n){for(let e=0;e<n.length;e++)if(BC(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!tB(n,u,t)||""===u&&1===e.length){if(Wn(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!eB(n.attrs,l,t)){if(Wn(r))return!1;o=!0}continue}const d=rB(8&r?"class":u,i,g0(n),t);if(-1===d){if(Wn(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==f0(f,l,0)||2&r&&l!==h){if(Wn(r))return!1;o=!0}}}}else{if(!o&&!Wn(r)&&!Wn(u))return!1;if(o&&Wn(u))continue;o=!1,r=u|1&r}}return Wn(r)||o}function Wn(n){return 0==(1&n)}function rB(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function oB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function m0(n,e,t=!1){for(let r=0;r<e.length;r++)if(nB(n,e[r],t))return!0;return!1}function y0(n,e){return n?":not("+e.trim()+")":e}function uB(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Wn(o)&&(e+=y0(s,i),i=""),r=o,s=s||!Wn(r);t++}return""!==i&&(e+=y0(s,i)),e}const ne={};function vt(n){v0(he(),D(),Kt()+n,!1)}function v0(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Vc(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Uc(e,s,0,t)}oi(t)}function I0(n,e=null,t=null,r){const i=E0(n,e,t,r);return i.resolveInjectorInitializers(),i}function E0(n,e=null,t=null,r,i=new Set){const s=[t||ve,q2(n)];return r=r||("object"==typeof n?void 0:Te(n)),new kD(s,e||nd(),r||null,i)}let Pn=(()=>{class n{static create(t,r){if(Array.isArray(t))return I0({name:""},r,t,"");{const i=t.name??"";return I0({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ja,n.NULL=new SD,n.\u0275prov=se({token:n,providedIn:"any",factory:()=>H(TD)}),n.__NG_ELEMENT_ID__=-1,n})();function T(n,e=q.Default){const t=D();return null===t?H(n,e):KC(at(),t,Q(n),e)}function jg(){throw new Error("invalid")}function ad(n,e){return n<<17|e<<2}function Kn(n){return n>>17&32767}function $g(n){return 2|n}function Fr(n){return(131068&n)>>2}function Hg(n,e){return-131069&n|e<<2}function Gg(n){return 1|n}function B0(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Vp(i),o.contentQueries(2,e[s],s)}}}function cd(n,e,t,r,i,s,o,a,u,l,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||n&&1024&n[2])&&(d[2]|=1024),AC(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=s,d[20]=function bU(){return wU++}(),d[21]=c,d[16]=2==e.type?n[16]:d,d}function Do(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Jg(n,e,t,r,i){const s=xC(),o=Op(),u=n.data[e]=function qB(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function IV(){return J.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Ha(){const n=J.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ar(s,!0),s}function To(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function dd(n,e,t){Up(e);try{const r=n.viewQuery;null!==r&&am(1,r,t);const i=n.template;null!==i&&j0(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&B0(n,e),n.staticViewQueries&&am(2,n.viewQuery,t);const s=n.components;null!==s&&function jB(n,e){for(let t=0;t<e.length;t++)aj(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Bp()}}function fu(n,e,t,r){const i=e[2];if(128!=(128&i)){Up(e);try{AC(e),function NC(n){return J.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&j0(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&Vc(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Uc(e,l,0,null),jp(e,0)}if(function sj(n){for(let e=Ag(n);null!==e;e=Sg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&kp(s,1),i[2]|=512}}}(e),function ij(n){for(let e=Ag(n);null!==e;e=Sg(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Pc(r)&&fu(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&B0(n,e),o){const l=n.contentCheckHooks;null!==l&&Vc(e,l)}else{const l=n.contentHooks;null!==l&&Uc(e,l,1),jp(e,1)}!function UB(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)oi(~i);else{const s=i,o=t[++r],a=t[++r];EV(o,s),a(2,e[s])}}}finally{oi(-1)}}(n,e);const a=n.components;null!==a&&function BB(n,e){for(let t=0;t<e.length;t++)oj(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&am(2,u,r),o){const l=n.viewCheckHooks;null!==l&&Vc(e,l)}else{const l=n.viewHooks;null!==l&&Uc(e,l,2),jp(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,kp(e[3],-1))}finally{Bp()}}}function $B(n,e,t,r){const i=e[10],o=function TC(n){return 4==(4&n[2])}(e);try{!o&&i.begin&&i.begin(),o&&dd(n,e,r),fu(n,e,t,r)}finally{!o&&i.end&&i.end()}}function j0(n,e,t,r,i){const s=Kt(),o=2&r;try{oi(-1),o&&e.length>22&&v0(n,e,22,!1),t(r,i)}finally{oi(s)}}function H0(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=tm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function tm(n,e,t,r,i,s,o,a,u,l){const c=22+r,d=c+i,h=function HB(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ne);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function q0(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function z0(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||g0(e)?null:rj(d,s);o.push(h),a=q0(d,l,a),u=q0(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function W0(n,e){const t=wn(e,n);16&t[2]||(t[2]|=32)}function K0(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function QB(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function Q0(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Y0(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function ej(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;zn(e)&&(t[""]=n)}}function Z0(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function J0(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ji(i.type)),o=new Ga(s,zn(i),T);n.blueprint[r]=o,t[r]=o,K0(n,e,0,r,To(n,t,i.hostVars,ne),i)}function tj(n,e,t){const r=On(e,n),i=H0(t),s=n[10],o=hd(n,cd(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function nj(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function rj(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function oj(n,e){const t=wn(e,n);if(Pc(t)){const r=t[1];48&t[2]?fu(r,t,r.template,t[8]):t[5]>0&&im(t)}}function im(n){for(let r=Ag(n);null!==r;r=Sg(r))for(let i=10;i<r.length;i++){const s=r[i];if(Pc(s))if(512&s[2]){const o=s[1];fu(o,s,o.template,s[8])}else s[5]>0&&im(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=wn(t[r],n);Pc(i)&&i[5]>0&&im(i)}}function aj(n,e){const t=wn(e,n),r=t[1];(function uj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),dd(r,t,t[8])}function hd(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function sm(n){for(;n;){n[2]|=32;const e=du(n);if(tV(n)&&!e)return n;n=e}return null}function am(n,e,t){Vp(0),e(n,t)}function tT(n){return n[7]||(n[7]=[])}function nT(n){return n.cleanup||(n.cleanup=[])}function iT(n,e){const t=n[9],r=t?t.get(bo,null):null;r&&r.handleError(e)}function um(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function fd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=_p(i,a):2==s&&(r=_p(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function pd(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Xe(s)),qn(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&pd(u[1],u,l,r)}const o=t.type;if(8&o)pd(n,e,t.child,r);else if(32&o){const a=Tg(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=l0(e,t);if(Array.isArray(a))r.push(...a);else{const u=du(e[16]);pd(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class pu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return pd(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(qn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Ng(e,r),zc(t,r))}this._attachedToViewContainer=!1}XD(this._lView[1],this._lView)}onDestroy(e){!function G0(n,e,t,r){const i=tT(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&nT(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){sm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function om(n,e,t){const r=e[10];r.begin&&r.begin();try{fu(n,e,n.template,t)}catch(i){throw iT(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function HU(n,e){hu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e}}class cj extends pu{constructor(e){super(e),this._view=e}detectChanges(){!function eT(n){!function lj(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Cg(t);if(null!==r){const i=r[1];$B(i,r,i.template,t)}}}(n[8])}(this._view)}checkNoChanges(){}get context(){return null}}class lm extends uu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=we(e);return new gu(t,this.ngModule)}}function sT(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class hj{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,gg,r);return i!==gg||t===gg?i:this.parentInjector.get(e,t,r)}}class gu extends PD{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function lB(n){return n.map(uB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return sT(this.componentDef.inputs)}get outputs(){return sT(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof li?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new hj(e,s):e,a=o.get(LD,null);if(null===a)throw new N(407,!1);const u=o.get(aU,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function GB(n,e,t){return n.selectRootElement(e,t===sr.ShadowDom)}(l,r,this.componentDef.encapsulation):xg(a.createRenderer(null,this.componentDef),c,function dj(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f={components:[]},p=tm(0,null,null,1,0,null,null,null,null,null),g=cd(null,p,f,h,null,null,a,l,u,o,null);let y,b;Up(g);try{const A=function gj(n,e,t,r,i,s){const o=t[1];t[22]=n;const u=Do(o,22,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(fd(u,l,!0),null!==n&&(Bc(i,n,l),null!==u.classes&&Fg(i,n,u.classes),null!==u.styles&&h0(i,n,u.styles)));const c=r.createRenderer(n,e),d=cd(t,H0(e),null,e.onPush?32:16,t[22],u,r,c,s||null,null,null);return o.firstCreatePass&&(Gc(za(u,t),o,e.type),Y0(o,u),Z0(u,t.length,1)),hd(t,d),t[22]=d}(d,this.componentDef,g,a,l);if(d)if(r)Bc(l,d,["ng-version",uU.full]);else{const{attrs:_,classes:x}=function cB(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Wn(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);_&&Bc(l,d,_),x&&x.length>0&&Fg(l,d,x.join(" "))}if(b=Rp(p,22),void 0!==t){const _=b.projection=[];for(let x=0;x<this.ngContentSelectors.length;x++){const L=t[x];_.push(null!=L?Array.from(L):null)}}y=function mj(n,e,t,r,i){const s=t[1],o=function KB(n,e,t){const r=at();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),J0(n,r,e,To(n,e,1,null),t),z0(n,r));const i=Wa(e,n,r.directiveStart,r);Vt(i,e);const s=On(r,e);return s&&Vt(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,null!==i)for(const u of i)u(o,e);if(e.contentQueries){const u=at();e.contentQueries(1,o,u.directiveStart)}const a=at();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(oi(a.index),K0(t[1],a,0,a.directiveStart,a.directiveEnd,e),Q0(e,o)),o}(A,this.componentDef,g,f,[vj]),dd(p,g,null)}finally{Bp()}return new pj(this.componentType,y,wo(b,g),g,b)}}class pj extends class tU{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new cj(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;um(s[1],s,i,e,t),W0(s,this._tNode.index)}}get injector(){return new lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function vj(){const n=at();Lc(D()[1],n)}function be(n){let e=function oT(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(zn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new N(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=cm(n.inputs),o.declaredInputs=cm(n.declaredInputs),o.outputs=cm(n.outputs);const a=i.hostBindings;a&&Ij(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&wj(n,u),l&&bj(n,l),vp(n.inputs,i.inputs),vp(n.declaredInputs,i.declaredInputs),vp(n.outputs,i.outputs),zn(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===be&&(t=!1)}}e=Object.getPrototypeOf(e)}!function _j(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=jc(i.hostAttrs,t=jc(t,i.hostAttrs))}}(r)}function cm(n){return n===Xs?{}:n===ve?[]:n}function wj(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function bj(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Ij(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Ut(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function hi(n,e,t){const r=D();return Ut(r,oo(),e)&&function Cn(n,e,t,r,i,s,o,a){const u=On(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(um(n,t,c,r,i),Rc(e)&&W0(t,e.index)):3&e.type&&(r=function zB(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(he(),function Be(){const n=J.lFrame;return Rp(n.tView,n.selectedIndex)}(),r,n,e,r[11],t,!1),hi}function hm(n,e,t,r,i){const o=i?"class":"style";um(n,t,e.inputs[o],o,r)}function I(n,e,t,r){const i=D(),s=he(),o=22+n,a=i[11],u=i[o]=xg(a,e,function RV(){return J.lFrame.currentNamespace}()),l=s.firstCreatePass?function Oj(n,e,t,r,i,s,o){const a=e.consts,l=Do(e,n,2,i,si(a,s));return function nm(n,e,t,r){let i=!1;if(MC()){const s=function JB(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];m0(t,o.selectors,!1)&&(i||(i=[]),Gc(za(t,e),n,o.type),zn(o)?(Y0(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,Z0(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=To(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=jc(t.mergedAttrs,d.hostAttrs),J0(n,t,e,l,d),ej(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}z0(n,t)}o&&function XB(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new N(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=jc(t.mergedAttrs,t.attrs),i}(e,t,l,si(a,o)),null!==l.attrs&&fd(l,l.attrs,!1),null!==l.mergedAttrs&&fd(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];ar(l,!0);const c=l.mergedAttrs;null!==c&&Bc(a,u,c);const d=l.classes;null!==d&&Fg(a,u,d);const h=l.styles;return null!==h&&h0(a,u,h),64!=(64&l.flags)&&id(s,i,u,l),0===function pV(){return J.lFrame.elementDepthCount}()&&Vt(u,i),function gV(){J.lFrame.elementDepthCount++}(),kc(l)&&(function Xg(n,e,t){!MC()||(function YB(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||za(t,e),Vt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=zn(u);l&&tj(e,t,u);const c=Wa(e,n,a,t);Vt(c,e),null!==o&&nj(0,a-i,c,u,0,o),l&&(wn(t.index,e)[8]=c)}}(n,e,t,On(t,e)),128==(128&t.flags)&&function ZB(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function CV(){return J.lFrame.currentDirectiveIndex}();try{oi(s);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];Fp(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Q0(u,l)}}finally{oi(-1),Fp(o)}}(n,e,t))}(s,i,l),function $0(n,e,t){if(Ap(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,l,i)),null!==r&&function em(n,e,t=On){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}(i,l),I}function E(){let n=at();Op()?function Pp(){J.lFrame.isParent=!1}():(n=n.parent,ar(n,!1));const e=n;!function mV(){J.lFrame.elementDepthCount--}();const t=he();return t.firstCreatePass&&(Lc(t,n),Ap(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function LV(n){return 0!=(16&n.flags)}(e)&&hm(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function VV(n){return 0!=(32&n.flags)}(e)&&hm(t,e,D(),e.stylesWithoutHost,!1),E}function Ie(n,e,t,r){return I(n,e,t,r),E(),Ie}function vu(n){return!!n&&"function"==typeof n.then}const gm=function yT(n){return!!n&&"function"==typeof n.subscribe};function j(n,e,t,r){const i=D(),s=he(),o=at();return function _T(n,e,t,r,i,s,o,a){const u=kc(r),c=n.firstCreatePass&&nT(n),d=e[8],h=tT(e);let f=!0;if(3&r.type||a){const y=On(r,e),b=a?a(y):y,A=h.length,_=a?L=>a(Xe(L[r.index])):r.index;let x=null;if(!a&&u&&(x=function Lj(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,f=!1;else{s=bT(r,e,d,s,!1);const L=t.listen(b,i,s);h.push(s,L),c&&c.push(i,_,A,A+1)}}else s=bT(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const y=g.length;if(y)for(let b=0;b<y;b+=2){const B=e[g[b]][g[b+1]].subscribe(s),Ce=h.length;h.push(s,B),c&&c.push(i,r.index,Ce,-(Ce+1))}}}(s,i,i[11],o,n,e,0,r),j}function wT(n,e,t,r){try{return!1!==t(r)}catch(i){return iT(n,i),!1}}function bT(n,e,t,r,i){return function s(o){if(o===Function)return r;sm(2&n.flags?wn(n.index,e):e);let u=wT(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=wT(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function NT(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Kn(s):Fr(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];Gj(n[a],e)&&(u=!0,n[a+1]=r?Gg(c):$g(c)),a=r?Kn(c):Fr(c)}u&&(n[t+1]=r?$g(s):Gg(s))}function Gj(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&go(n,e)>=0}function yd(n,e){return function Qn(n,e,t,r){const i=D(),s=he(),o=function Rr(n){const e=J.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function BT(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Kt()],o=function UT(n,e){return e>=n.expandoStartIndex}(n,t);(function GT(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function Xj(n,e,t,r){const i=function Lp(n){const e=J.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=_u(t=ym(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=ym(i,n,e,t,r),null===s){let u=function e$(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Fr(r))return n[Kn(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=ym(null,n,e,u[1],r),u=_u(u,e.attrs,r),function t$(n,e,t,r){n[Kn(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function n$(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=_u(r,n[s].hostAttrs,t);return _u(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function $j(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Kn(o),u=Fr(o);n[r]=t;let c,l=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||go(d,c)>0)&&(l=!0)}else c=t;if(i)if(0!==u){const h=Kn(n[a+1]);n[r+1]=ad(h,a),0!==h&&(n[h+1]=Hg(n[h+1],r)),n[a+1]=function MB(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ad(a,0),0!==a&&(n[a+1]=Hg(n[a+1],r)),a=r;else n[r+1]=ad(u,0),0===a?a=r:n[u+1]=Hg(n[u+1],r),u=r;l&&(n[r+1]=$g(n[r+1])),NT(n,c,r,!0),NT(n,c,r,!1),function Hj(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&go(s,e)>=0&&(t[r+1]=Gg(t[r+1]))}(e,c,n,r,s),o=ad(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ne&&Ut(i,o,e)&&function $T(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];vd(function R0(n){return 1==(1&n)}(l)?HT(u,e,t,i,Fr(l),o):void 0)||(vd(s)||function N0(n){return 2==(2&n)}(l)&&(s=HT(u,null,t,i,a,o)),function XU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:on.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=on.Important),n.setStyle(t,r,i,s))}}(r,o,Oc(Kt(),t),i,s))}(s,s.data[Kt()],i,i[11],n,i[o+1]=function s$(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Te(function ui(n){return n instanceof class yD{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,o)}(n,e,null,!0),yd}function ym(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=_u(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function _u(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),In(n,o,!!t||e[++s]))}return void 0===n?null:n}function HT(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===ne&&(h=d?ve:void 0);let f=d?Qp(h,r):c===r?h:void 0;if(l&&!vd(f)&&(f=Qp(u,r)),vd(f)&&(a=f,o))return a;const p=n[i+1];i=o?Kn(p):Fr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Qp(u,r))}return a}function vd(n){return void 0!==n}function C(n,e=""){const t=D(),r=he(),i=n+22,s=r.firstCreatePass?Do(r,i,1,e,null):r.data[i],o=t[i]=function Mg(n,e){return n.createText(e)}(t[11],e);id(r,t,o,s),ar(s,!1)}function Vr(n){return rs("",n,""),Vr}function rs(n,e,t){const r=D(),i=function So(n,e,t,r){return Ut(n,oo(),t)?e+te(t)+r:ne}(r,n,e,t);return i!==ne&&function Lr(n,e,t){const r=Oc(e,n);!function ZD(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,Kt(),i),rs}const Vo="en-US";let hA=Vo;function wm(n,e,t,r,i){if(n=Q(n),Array.isArray(n))for(let s=0;s<n.length;s++)wm(n[s],e,t,r,i);else{const s=he(),o=D();let a=Xi(n)?n:Q(n.provide),u=OD(n);const l=at(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Xi(n)||!n.multi){const f=new Ga(u,i,T),p=Im(a,e,i?c:c+h,d);-1===p?(Gc(za(l,o),s,a),bm(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Im(a,e,c+h,d),p=Im(a,e,c,c+h),g=f>=0&&t[f],y=p>=0&&t[p];if(i&&!y||!i&&!g){Gc(za(l,o),s,a);const b=function EH(n,e,t,r,i){const s=new Ga(n,t,T);return s.multi=[],s.index=e,s.componentProviders=0,LA(s,i,r&&!t),s}(i?IH:bH,t.length,i,r,u);!i&&y&&(t[p].providerFactory=b),bm(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(b),o.push(b)}else bm(s,n,f>-1?f:p,LA(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function bm(n,e,t,r){const i=Xi(e),s=function W2(n){return!!n.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function LA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Im(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function bH(n,e,t,r){return Em(this.multi,[])}function IH(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Wa(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),Em(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Em(i,s);return s}function Em(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Oe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function wH(n,e,t){const r=he();if(r.firstCreatePass){const i=zn(n);wm(t,r.data,r.blueprint,i,!0),wm(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ss{}class VA{}class UA extends ss{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lm(this);const r=vn(e);this._bootstrapComponents=Pr(r.bootstrap),this._r3Injector=E0(e,t,[{provide:ss,useValue:this},{provide:uu,useValue:this.componentFactoryResolver}],Te(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Cm extends VA{constructor(e){super(),this.moduleType=e}create(e){return new UA(this.moduleType,e)}}class DH extends ss{constructor(e,t,r){super(),this.componentFactoryResolver=new lm(this),this.instance=null;const i=new kD([...e,{provide:ss,useValue:this},{provide:uu,useValue:this.componentFactoryResolver}],t||nd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ed(n,e,t=null){return new DH(n,e,t).injector}let TH=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=MD(0,t.type),i=r.length>0?Ed([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=se({token:n,providedIn:"environment",factory:()=>new n(H(li))}),n})();function BA(n){n.getStandaloneInjector=e=>e.get(TH).getOrCreateStandaloneInjector(n)}function os(n,e,t){const r=function Wt(){const n=J.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=D();return i[r]===ne?function dr(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function yu(n,e){return n[e]}(i,r)}function Tm(n){return e=>{setTimeout(n,void 0,e)}}const $e=class ZH extends ir{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Tm(s),i&&(i=Tm(i)),o&&(o=Tm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Mn&&e.add(a),a}};let Zn=(()=>{class n{}return n.__NG_ELEMENT_ID__=nG,n})();function nG(){return function eS(n,e){let t;const r=e[n.index];if(qn(r))t=r;else{let i;if(8&n.type)i=Xe(r);else{const s=e[11];i=s.createComment("");const o=On(n,e);es(s,rd(s,o),i,function YU(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=function X0(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}(r,e,i,n),hd(e,t)}return new JA(t,n,e)}(at(),D())}const rG=Zn,JA=class extends rG{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wo(this._hostTNode,this._hostLView)}get injector(){return new lo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Hc(this._hostTNode,this._hostLView);if(HC(e)){const t=uo(e,this._hostLView),r=ao(e);return new lo(t[1].data[r+8],t)}return new lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=XA(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Ya(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new gu(we(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(li,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function fV(n){return qn(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new JA(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function qU(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],eD(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function zU(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=Og(s,o),u=r[11],l=rd(u,o[7]);return null!==l&&function $U(n,e,t,r,i,s){r[0]=i,r[6]=e,hu(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),eD(Sm(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=XA(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Ng(this._lContainer,t);r&&(zc(Sm(this._lContainer),t),XD(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Ng(this._lContainer,t);return r&&null!=zc(Sm(this._lContainer),t)?new pu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function XA(n){return n[8]}function Sm(n){return n[8]||(n[8]=[])}function Td(...n){}const Ad=new z("Application Initializer");let Sd=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Td,this.reject=Td,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(vu(s))t.push(s);else if(gm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(H(Ad,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Au=new z("AppId",{providedIn:"root",factory:function CS(){return`${jm()}${jm()}${jm()}`}});function jm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DS=new z("Platform Initializer"),TS=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),AS=new z("appBootstrapListener");let kG=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Br=new z("LocaleId",{providedIn:"root",factory:()=>ze(Br,q.Optional|q.SkipSelf)||function OG(){return typeof $localize<"u"&&$localize.locale||Vo}()});class FG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let $m=(()=>{class n{compileModuleSync(t){return new Cm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Pr(vn(t).declarations).reduce((o,a)=>{const u=we(a);return u&&o.push(new gu(u)),o},[]);return new FG(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UG=(()=>Promise.resolve(0))();function Hm(n){typeof Zone>"u"?UG.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ct{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function BG(){let n=Ae.requestAnimationFrame,e=Ae.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function HG(n){const e=()=>{!function $G(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ae,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,qm(n),n.isCheckStableRunning=!0,Gm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),qm(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return xS(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),NS(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return xS(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),NS(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,qm(n),Gm(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ct.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(ct.isInAngularZone())throw new N(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,jG,Td,Td);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const jG={};function Gm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qm(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function xS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NS(n){n._nesting--,Gm(n)}class GG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const RS=new z(""),Md=new z("");let Km,zm=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Km||(function qG(n){Km=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ct.assertNotInAngularZone(),Hm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hm(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(H(ct),H(Wm),H(Md))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),Wm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Km?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),fi=null;const kS=new z("AllowMultipleToken"),Qm=new z("PlatformDestroyListeners");class OS{constructor(e,t){this.name=e,this.token=t}}function FS(n,e,t=[]){const r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=Ym();if(!o||o.injector.get(kS,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function KG(n){if(fi&&!fi.get(kS,!1))throw new N(400,!1);fi=n;const e=n.get(VS);(function PS(n){const e=n.get(DS,null);e&&e.forEach(t=>t())})(n)}(function LS(n=[],e){return Pn.create({name:e,providers:[{provide:dg,useValue:"platform"},{provide:Qm,useValue:new Set([()=>fi=null])},...n]})}(a,r))}return function YG(n){const e=Ym();if(!e)throw new N(401,!1);return e}()}}function Ym(){return fi?.get(VS)??null}let VS=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function BS(n,e){let t;return t="noop"===n?new GG:("zone.js"===n?void 0:n)||new ct(e),t}(r?.ngZone,function US(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:ct,useValue:i}];return i.run(()=>{const o=Pn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(bo,null);if(!u)throw new N(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{u.handleError(c)}});a.onDestroy(()=>{Nd(this._modules,a),l.unsubscribe()})}),function jS(n,e,t){try{const r=t();return vu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(Sd);return l.runInitializers(),l.donePromise.then(()=>(function fA(n){mn(n,"Expected localeId to be defined"),"string"==typeof n&&(hA=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Br,Vo)||Vo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=$S({},r);return function zG(n,e,t){const r=new Cm(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(xd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new N(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new N(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Qm,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(H(Pn))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function $S(n,e){return Array.isArray(e)?e.reduce($S,n):{...n,...e}}let xd=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ze(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ze(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ct.assertNotInAngularZone(),Hm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{ct.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),l.unsubscribe()}});this.isStable=function FL(...n){const e=Va(n),t=function ML(n,e){return"number"==typeof mp(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?jn(r[0]):Js(t)(Je(r,e)):Sr}(s,o.pipe(function LL(n={}){const{connector:e=(()=>new ir),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,l=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return mt((g,y)=>{l++,!d&&!c&&h();const b=u=u??e();y.add(()=>{l--,0===l&&!d&&!c&&(a=yp(p,i))}),b.subscribe(y),!o&&l>0&&(o=new La({next:A=>b.next(A),error:A=>{d=!0,h(),a=yp(f,t,A),b.error(A)},complete:()=>{c=!0,h(),a=yp(f,r),b.complete()}}),jn(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof PD;if(!this._injector.get(Sd).done)throw!i&&function eo(n){const e=we(n)||qt(n)||zt(n);return null!==e&&e.standalone}(t),new N(405,false);let o;o=i?t:this._injector.get(uu).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function WG(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ss),l=o.create(Pn.NULL,[],r||o.selector,a),c=l.location.nativeElement,d=l.injector.get(RS,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),Nd(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new N(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Nd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(AS,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Nd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new N(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(H(ct),H(li),H(bo))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let GS=!0,Rd=(()=>{class n{}return n.__NG_ELEMENT_ID__=XG,n})();function XG(n){return function e3(n,e,t){if(Rc(n)&&!t){const r=wn(n.index,e);return new pu(r,r)}return 47&n.type?new pu(e[16],e):null}(at(),D(),16==(16&n))}const f3=FS(null,"core",[]);let p3=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(H(xd))},n.\u0275mod=or({type:n}),n.\u0275inj=$n({}),n})();let Fd=null;function gr(){return Fd}const an=new z("DocumentToken");let ty=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=se({token:n,factory:function(){return function v3(){return H(tM)}()},providedIn:"platform"}),n})();const _3=new z("Location Initialized");let tM=(()=>{class n extends ty{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gr().getBaseHref(this._doc)}onPopState(t){const r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){nM()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){nM()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(H(an))},n.\u0275prov=se({token:n,factory:function(){return function w3(){return new tM(H(an))}()},providedIn:"platform"}),n})();function nM(){return!!window.history.pushState}function ny(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function rM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Hr(n){return n&&"?"!==n[0]?"?"+n:n}let us=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=se({token:n,factory:function(){return ze(sM)},providedIn:"root"}),n})();const iM=new z("appBaseHref");let sM=(()=>{class n extends us{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ze(an).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ny(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Hr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Hr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Hr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(H(ty),H(iM,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b3=(()=>{class n extends us{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ny(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Hr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Hr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(H(ty),H(iM,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),ry=(()=>{class n{constructor(t){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=rM(oM(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Hr(r))}normalize(t){return n.stripTrailingSlash(function E3(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,oM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Hr,n.joinWithSlash=ny,n.stripTrailingSlash=rM,n.\u0275fac=function(t){return new(t||n)(H(us))},n.\u0275prov=se({token:n,factory:function(){return function I3(){return new ry(H(us))}()},providedIn:"root"}),n})();function oM(n){return n.replace(/\/index.html$/,"")}let Bq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=or({type:n}),n.\u0275inj=$n({}),n})();let Gq=(()=>{class n{}return n.\u0275prov=se({token:n,providedIn:"root",factory:()=>new qq(H(an),window)}),n})();class qq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function zq(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=IM(this.window.history)||IM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function IM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _y extends class d4 extends class y3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function m3(n){Fd||(Fd=n)}(new _y)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function h4(){return Ru=Ru||document.querySelector("base"),Ru?Ru.getAttribute("href"):null}();return null==t?null:function f4(n){Wd=Wd||document.createElement("a"),Wd.setAttribute("href",n);const e=Wd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ru=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function oq(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Wd,Ru=null;const TM=new z("TRANSITION_ID"),g4=[{provide:Ad,useFactory:function p4(n,e,t){return()=>{t.get(Sd).donePromise.then(()=>{const r=gr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[TM,an,Pn],multi:!0}];let y4=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const Kd=new z("EventManagerPlugins");let Qd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(H(Kd),H(ct))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class AM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=gr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let SM=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),ku=(()=>{class n extends SM{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(MM),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(MM))}}return n.\u0275fac=function(t){return new(t||n)(H(an))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function MM(n){gr().remove(n)}const wy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},by=/%COMP%/g;function Yd(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Yd(n,i,t):(i=i.replace(by,n),t.push(i))}return t}function RM(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Iy=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ey(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case sr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new E4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case sr.ShadowDom:return new C4(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Yd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(H(Qd),H(ku),H(Au))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class Ey{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(wy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(OM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(OM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=wy[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=wy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(on.DashCase|on.Important)?e.style.setProperty(t,r,i&on.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&on.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,RM(r)):this.eventManager.addEventListener(e,t,RM(r))}}function OM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class E4 extends Ey{constructor(e,t,r,i){super(e),this.component=r;const s=Yd(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function w4(n){return"_ngcontent-%COMP%".replace(by,n)}(i+"-"+r.id),this.hostAttr=function b4(n){return"_nghost-%COMP%".replace(by,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class C4 extends Ey{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Yd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let D4=(()=>{class n extends AM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(H(an))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const PM=["alt","control","meta","shift"],T4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let S4=(()=>{class n extends AM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),PM.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=T4[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),PM.forEach(o=>{o!==i&&(0,A4[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(H(an))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const LM=[{provide:TS,useValue:"browser"},{provide:DS,useValue:function M4(){_y.makeCurrent()},multi:!0},{provide:an,useFactory:function N4(){return function _2(n){eg=n}(document),document},deps:[]}],R4=FS(f3,"browser",LM),VM=new z(""),UM=[{provide:Md,useClass:class m4{addToWindow(e){Ae.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?gr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:RS,useClass:zm,deps:[ct,Wm,Md]},{provide:zm,useClass:zm,deps:[ct,Wm,Md]}],BM=[{provide:dg,useValue:"root"},{provide:bo,useFactory:function x4(){return new bo},deps:[]},{provide:Kd,useClass:D4,multi:!0,deps:[an,ct,TS]},{provide:Kd,useClass:S4,multi:!0,deps:[an]},{provide:Iy,useClass:Iy,deps:[Qd,ku,Au]},{provide:LD,useExisting:Iy},{provide:SM,useExisting:ku},{provide:ku,useClass:ku,deps:[an]},{provide:Qd,useClass:Qd,deps:[Kd,ct]},{provide:class Wq{},useClass:y4,deps:[]},[]];let k4=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Au,useValue:t.appId},{provide:TM,useExisting:Au},g4]}}}return n.\u0275fac=function(t){return new(t||n)(H(VM,12))},n.\u0275mod=or({type:n}),n.\u0275inj=$n({providers:[...BM,...UM],imports:[Bq,p3]}),n})(),jM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(H(an))},n.\u0275prov=se({token:n,factory:function(t){let r=null;return r=t?new t:function P4(){return new jM(H(an))}(),r},providedIn:"root"}),n})();function $(...n){return Je(n,Va(n))}typeof window<"u"&&window;class tr extends ir{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Zd=Pa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:H4}=Array,{getPrototypeOf:G4,prototype:q4,keys:z4}=Object;function GM(n){if(1===n.length){const e=n[0];if(H4(e))return{args:e,keys:null};if(function W4(n){return n&&"object"==typeof n&&G4(n)===q4}(e)){const t=z4(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:K4}=Array;function qM(n){return de(e=>function Q4(n,e){return K4(e)?n(...e):n(e)}(n,e))}function zM(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function WM(...n){const e=Va(n),t=lC(n),{args:r,keys:i}=GM(n);if(0===r.length)return Je([],e);const s=new Ze(function Y4(n,e,t=zi){return r=>{KM(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)KM(e,()=>{const l=Je(n[u],e);let c=!1;l.subscribe(ot(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>zM(i,o):zi));return t?s.pipe(qM(t)):s}function KM(n,e,t){n?Ar(t,n,e):e()}function Ty(...n){return function Z4(){return Js(1)}()(Je(n,Va(n)))}function QM(n){return new Ze(e=>{jn(n()).subscribe(e)})}function Ou(n,e){const t=Se(n)?n:()=>n,r=i=>i.error(t());return new Ze(e?i=>e.schedule(r,0,i):r)}function Ay(){return mt((n,e)=>{let t=null;n._refCount++;const r=ot(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class YM extends Ze{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,KE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mn;const t=this.getSubject();e.add(this.source.subscribe(ot(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mn.EMPTY)}return e}refCount(){return Ay()(this)}}function mr(n,e){return mt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ot(r,u=>{i?.unsubscribe();let l=0;const c=s++;jn(n(u,c)).subscribe(i=ot(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Pu(n){return n<=0?()=>Sr:mt((e,t)=>{let r=0;e.subscribe(ot(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gi(n,e){return mt((t,r)=>{let i=0;t.subscribe(ot(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Jd(n){return mt((e,t)=>{let r=!1;e.subscribe(ot(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ZM(n=X4){return mt((e,t)=>{let r=!1;e.subscribe(ot(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function X4(){return new Zd}function mi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gi((i,s)=>n(i,s,r)):zi,Pu(1),t?Jd(e):ZM(()=>new Zd))}function ls(n,e){return Se(e)?At(n,e,1):At(n,1)}function jt(n,e,t){const r=Se(n)||e||t?{next:n,error:e,complete:t}:n;return r?mt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ot(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):zi}function yi(n){return mt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ot(t,void 0,void 0,o=>{s=jn(n(o,yi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function ez(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(ot(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function JM(n,e){return mt(ez(n,e,arguments.length>=2,!0))}function Sy(n){return n<=0?()=>Sr:mt((e,t)=>{let r=[];e.subscribe(ot(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function XM(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gi((i,s)=>n(i,s,r)):zi,Sy(1),t?Jd(e):ZM(()=>new Zd))}function My(n){return mt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ue="primary",Fu=Symbol("RouteTitle");class rz{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $o(n){return new rz(n)}function iz(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function yr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ex(n[i],e[i]))return!1;return!0}function ex(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function tx(n){return Array.prototype.concat.apply([],n)}function nx(n){return n.length>0?n[n.length-1]:null}function St(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function vi(n){return gm(n)?n:vu(n)?Je(Promise.resolve(n)):$(n)}const az={exact:function sx(n,e,t){if(!ds(n.segments,e.segments)||!Xd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!sx(n.children[r],e.children[r],t))return!1;return!0},subset:ox},rx={exact:function uz(n,e){return yr(n,e)},subset:function lz(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ex(n[t],e[t]))},ignored:()=>!0};function ix(n,e,t){return az[t.paths](n.root,e.root,t.matrixParams)&&rx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ox(n,e,t){return ax(n,e,e.segments,t)}function ax(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ds(i,t)||e.hasChildren()||!Xd(i,t,r))}if(n.segments.length===t.length){if(!ds(n.segments,t)||!Xd(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ox(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ds(n.segments,i)&&Xd(n.segments,i,r)&&n.children[ue])&&ax(n.children[ue],e,s,r)}}function Xd(n,e,t){return e.every((r,i)=>rx[t](n[i].parameters,r.parameters))}class cs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$o(this.queryParams)),this._queryParamMap}toString(){return hz.serialize(this)}}class le{constructor(e,t){this.segments=e,this.children=t,this.parent=null,St(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eh(this)}}class Lu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$o(this.parameters)),this._parameterMap}toString(){return dx(this)}}function ds(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ux=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=se({token:n,factory:function(){return new Ny},providedIn:"root"}),n})();class Ny{parse(e){const t=new bz(e);return new cs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vu(e.root,!0)}`,r=function gz(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${th(t)}=${th(i)}`).join("&"):`${th(t)}=${th(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function fz(n){return encodeURI(n)}(e.fragment)}`:""}`}}const hz=new Ny;function eh(n){return n.segments.map(e=>dx(e)).join("/")}function Vu(n,e){if(!n.hasChildren())return eh(n);if(e){const t=n.children[ue]?Vu(n.children[ue],!1):"",r=[];return St(n.children,(i,s)=>{s!==ue&&r.push(`${s}:${Vu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function dz(n,e){let t=[];return St(n.children,(r,i)=>{i===ue&&(t=t.concat(e(r,i)))}),St(n.children,(r,i)=>{i!==ue&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ue?[Vu(n.children[ue],!1)]:[`${i}:${Vu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ue]?`${eh(n)}/${t[0]}`:`${eh(n)}/(${t.join("//")})`}}function lx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function th(n){return lx(n).replace(/%3B/gi,";")}function Ry(n){return lx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nh(n){return decodeURIComponent(n)}function cx(n){return nh(n.replace(/\+/g,"%20"))}function dx(n){return`${Ry(n.path)}${function pz(n){return Object.keys(n).map(e=>`;${Ry(e)}=${Ry(n[e])}`).join("")}(n.parameters)}`}const mz=/^[^\/()?;=#]+/;function rh(n){const e=n.match(mz);return e?e[0]:""}const yz=/^[^=?&#]+/,_z=/^[^&#]+/;class bz{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new le(e,t)),r}parseSegment(){const e=rh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(e),new Lu(nh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=rh(this.remaining);i&&(r=i,this.capture(r))}e[nh(t)]=nh(r)}parseQueryParam(e){const t=function vz(n){const e=n.match(yz);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function wz(n){const e=n.match(_z);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=cx(t),s=cx(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new N(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ue]:new le([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new N(4011,!1)}}function ky(n){return n.segments.length>0?new le([],{[ue]:n}):n}function ih(n){const e={};for(const r of Object.keys(n.children)){const s=ih(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Iz(n){if(1===n.numberOfChildren&&n.children[ue]){const e=n.children[ue];return new le(n.segments.concat(e.segments),e.children)}return n}(new le(n.segments,e))}function hs(n){return n instanceof cs}function Dz(n,e,t,r,i){if(0===t.length)return Ho(e.root,e.root,e.root,r,i);const s=function px(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fx(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return St(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new fx(t,e,r)}(t);return s.toRoot()?Ho(e.root,e.root,new le([],{}),r,i):function o(u){const l=function Az(n,e,t,r){if(n.isAbsolute)return new Go(e.root,!0,0);if(-1===r)return new Go(t,t===e.root,0);return function gx(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new Go(r,!1,i-s)}(t,r+(Uu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),c=l.processChildren?ju(l.segmentGroup,l.index,s.commands):Py(l.segmentGroup,l.index,s.commands);return Ho(e.root,l.segmentGroup,c,r,i)}(n.snapshot?._lastPathIndex)}function Uu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bu(n){return"object"==typeof n&&null!=n&&n.outlets}function Ho(n,e,t,r,i){let o,s={};r&&St(r,(u,l)=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=n===e?t:hx(n,e,t);const a=ky(ih(o));return new cs(a,s,i)}function hx(n,e,t){const r={};return St(n.children,(i,s)=>{r[s]=i===e?t:hx(i,e,t)}),new le(n.segments,r)}class fx{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Uu(r[0]))throw new N(4003,!1);const i=r.find(Bu);if(i&&i!==nx(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Go{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Py(n,e,t){if(n||(n=new le([],{})),0===n.segments.length&&n.hasChildren())return ju(n,e,t);const r=function Mz(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Bu(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!yx(u,l,o))return s;r+=2}else{if(!yx(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new le(n.segments.slice(0,r.pathIndex),{});return s.children[ue]=new le(n.segments.slice(r.pathIndex),n.children),ju(s,0,i)}return r.match&&0===i.length?new le(n.segments,{}):r.match&&!n.hasChildren()?Fy(n,e,t):r.match?ju(n,0,i):Fy(n,e,t)}function ju(n,e,t){if(0===t.length)return new le(n.segments,{});{const r=function Sz(n){return Bu(n[0])?n[0].outlets:{[ue]:n}}(t),i={};return St(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Py(n.children[o],e,s))}),St(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new le(n.segments,i)}}function Fy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Bu(s)){const u=xz(s.outlets);return new le(r,u)}if(0===i&&Uu(t[0])){r.push(new Lu(n.segments[e].path,mx(t[0]))),i++;continue}const o=Bu(s)?s.outlets[ue]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Uu(a)?(r.push(new Lu(o,mx(a))),i+=2):(r.push(new Lu(o,{})),i++)}return new le(r,{})}function xz(n){const e={};return St(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Fy(new le([],{}),0,t))}),e}function mx(n){const e={};return St(n,(t,r)=>e[r]=`${t}`),e}function yx(n,e,t){return n==t.path&&yr(e,t.parameters)}class qr{constructor(e,t){this.id=e,this.url=t}}class Ly extends qr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fs extends qr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sh extends qr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vx extends qr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nz extends qr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rz extends qr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kz extends qr{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oz extends qr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pz extends qr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fz{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lz{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vz{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uz{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bz{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jz{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _x{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Vy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Vy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Uy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Uy(e,this._root).map(t=>t.value)}}function Vy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Vy(n,t);if(r)return r}return null}function Uy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Uy(n,t);if(r.length)return r.unshift(e),r}return[]}class zr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function qo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bx extends wx{constructor(e,t){super(e),this.snapshot=t,By(this,e)}toString(){return this.snapshot.toString()}}function Ix(n,e){const t=function Hz(n,e){const o=new oh([],{},{},"",{},ue,e,null,n.root,-1,{});return new Cx("",new zr(o,[]))}(n,e),r=new tr([new Lu("",{})]),i=new tr({}),s=new tr({}),o=new tr({}),a=new tr(""),u=new vr(r,i,o,a,s,ue,e,t.root);return u.snapshot=t.root,new bx(new zr(u,[]),t)}class vr{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(de(l=>l[Fu]))??$(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(e=>$o(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(e=>$o(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ex(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Gz(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class oh{constructor(e,t,r,i,s,o,a,u,l,c,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[Fu],this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$o(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$o(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cx extends wx{constructor(e,t){super(t),this.url=e,By(this,t)}toString(){return Dx(this._root)}}function By(n,e){e.value._routerState=n,e.children.forEach(t=>By(n,t))}function Dx(n){const e=n.children.length>0?` { ${n.children.map(Dx).join(", ")} } `:"";return`${n.value}${e}`}function jy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,yr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),yr(e.params,t.params)||n.params.next(t.params),function sz(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!yr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),yr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $y(n,e){const t=yr(n.params,e.params)&&function cz(n,e){return ds(n,e)&&n.every((t,r)=>yr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||$y(n.parent,e.parent))}function $u(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function zz(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $u(n,r,i);return $u(n,r)})}(n,e,t);return new zr(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>$u(n,a)),o}}const r=function Wz(n){return new vr(new tr(n.url),new tr(n.params),new tr(n.queryParams),new tr(n.fragment),new tr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>$u(n,s));return new zr(r,i)}}const Hy="ngNavigationCancelingError";function Tx(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=hs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ax(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Ax(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Hy]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Sx(n){return Mx(n)&&hs(n.url)}function Mx(n){return n&&n[Hy]}class Kz{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hu,this.attachRef=null}}let Hu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Kz,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ah=!1;let Gy=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.name=i||ue,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,ah);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,ah);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,ah);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new N(4013,ah);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Qz(t,a,i.injector);if(r&&function Yz(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(T(Hu),T(Zn),function Ka(n){return function $V(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(BC(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(at(),n)}("name"),T(Rd),T(li))},n.\u0275dir=Y({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Qz{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vr?this.route:e===Hu?this.childContexts:this.parent.get(e,t)}}let qy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["ng-component"]],standalone:!0,features:[BA],decls:1,vars:0,template:function(t,r){1&t&&Ie(0,"router-outlet")},dependencies:[Gy],encapsulation:2}),n})();function xx(n,e){return n.providers&&!n._injector&&(n._injector=Ed(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wy(n){const e=n.children&&n.children.map(Wy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=qy),t}function Un(n){return n.outlet||ue}function Nx(n,e){const t=n.filter(r=>Un(r)===e);return t.push(...n.filter(r=>Un(r)!==e)),t}function Gu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class t5{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=qo(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),St(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=qo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=qo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=qo(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new jz(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Uz(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(jy(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),jy(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Gu(i.snapshot),u=a?.get(uu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Rx{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uh{constructor(e,t){this.component=e,this.route=t}}function n5(n,e,t){const r=n._root;return qu(r,e?e._root:null,t,[r.value])}function zo(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function GL(n){return null!==Tc(n)}(n)?e.get(n):n:r}function qu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=qo(e);return n.children.forEach(o=>{(function i5(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function s5(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ds(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ds(n.url,e.url)||!yr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$y(n,e)||!yr(n.queryParams,e.queryParams);default:return!$y(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Rx(r)):(s.data=o.data,s._resolvedData=o._resolvedData),qu(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new uh(a.outlet.component,o))}else o&&zu(e,a,i),i.canActivateChecks.push(new Rx(r)),qu(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),St(s,(o,a)=>zu(o,t.getContext(a),i)),i}function zu(n,e,t){const r=qo(n),i=n.value;St(r,(s,o)=>{zu(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new uh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Wu(n){return"function"==typeof n}function Ky(n){return n instanceof Zd||"EmptyError"===n?.name}const lh=Symbol("INITIAL_VALUE");function Wo(){return mr(n=>WM(n.map(e=>e.pipe(Pu(1),function J4(...n){const e=Va(n);return mt((t,r)=>{(e?Ty(n,t,e):Ty(n,t)).subscribe(r)})}(lh)))).pipe(de(e=>{for(const t of e)if(!0!==t){if(t===lh)return lh;if(!1===t||t instanceof cs)return t}return!0}),gi(e=>e!==lh),Pu(1)))}function kx(n){return function lL(...n){return qE(n)}(jt(e=>{if(hs(e))throw Tx(0,e)}),de(e=>!0===e))}const Qy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ox(n,e,t,r,i){const s=Yy(n,e,t);return s.matched?function I5(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?$(i.map(o=>{const a=zo(o,n);return vi(function d5(n){return n&&Wu(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Wo(),kx()):$(!0)}(r=xx(e,r),e,t).pipe(de(o=>!0===o?s:{...Qy})):$(s)}function Yy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Qy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||iz)(t,n,e);if(!i)return{...Qy};const s={};St(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ch(n,e,t,r,i="corrected"){if(t.length>0&&function D5(n,e,t){return t.some(r=>dh(n,e,r)&&Un(r)!==ue)}(n,t,r)){const o=new le(e,function C5(n,e,t,r){const i={};i[ue]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Un(s)!==ue){const o=new le([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Un(s)]=o}return i}(n,e,r,new le(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function T5(n,e,t){return t.some(r=>dh(n,e,r))}(n,t,r)){const o=new le(n.segments,function E5(n,e,t,r,i,s){const o={};for(const a of r)if(dh(n,t,a)&&!i[Un(a)]){const u=new le([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Un(a)]=u}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new le(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function dh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Px(n,e,t,r){return!!(Un(n)===r||r!==ue&&dh(e,t,n))&&("**"===n.path||Yy(e,n,t).matched)}function Fx(n,e,t){return 0===e.length&&!n.children[t]}const hh=!1;class fh{constructor(e){this.segmentGroup=e||null}}class Lx{constructor(e){this.urlTree=e}}function Ku(n){return Ou(new fh(n))}function Vx(n){return Ou(new Lx(n))}class x5{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=ch(this.urlTree.root,[],[],this.config).segmentGroup,t=new le(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ue).pipe(de(s=>this.createUrlTree(ih(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yi(s=>{if(s instanceof Lx)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof fh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ue).pipe(de(i=>this.createUrlTree(ih(i),e.queryParams,e.fragment))).pipe(yi(i=>{throw i instanceof fh?this.noMatchError(i):i}))}noMatchError(e){return new N(4002,hh)}createUrlTree(e,t,r){const i=ky(e);return new cs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(de(s=>new le([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Je(i).pipe(ls(s=>{const o=r.children[s],a=Nx(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(de(u=>({segment:u,outlet:s})))}),JM((s,o)=>(s[o.outlet]=o.segment,s),{}),XM())}expandSegment(e,t,r,i,s,o){return Je(r).pipe(ls(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(yi(l=>{if(l instanceof fh)return $(null);throw l}))),mi(a=>!!a),yi((a,u)=>{if(Ky(a))return Fx(t,i,s)?$(new le([],{})):Ku(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return Px(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Ku(t):Ku(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Vx(s):this.lineralizeSegments(r,s).pipe(At(o=>{const a=new le(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=Yy(t,i,s);if(!a)return Ku(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?Vx(d):this.lineralizeSegments(i,d).pipe(At(h=>this.expandSegment(e,t,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=xx(r,e),r.loadChildren?(r._loadedRoutes?$({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(de(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new le(i,{})))):$(new le(i,{}))):Ox(t,r,i,e).pipe(mr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(At(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:p}=ch(t,a,u,h),g=new le(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(de(_=>new le(a,_)));if(0===h.length&&0===p.length)return $(new le(a,{}));const y=Un(r)===s;return this.expandSegment(d,g,h,p,y?ue:s,!0).pipe(de(A=>new le(a.concat(A.segments),A.children)))})):Ku(t)))}getChildConfig(e,t,r){return t.children?$({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?$({routes:t._loadedRoutes,injector:t._loadedInjector}):function b5(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?$(!0):$(i.map(o=>{const a=zo(o,n);return vi(function a5(n){return n&&Wu(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Wo(),kx())}(e,t,r).pipe(At(i=>i?this.configLoader.loadChildren(e,t).pipe(jt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function S5(n){return Ou(Ax(hh,3))}())):$({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[ue])return Ou(new N(4e3,hh));i=i.children[ue]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new cs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return St(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return St(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new le(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new N(4001,hh);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class R5{}class P5{constructor(e,t,r,i,s,o,a,u){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=ch(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ue).pipe(de(t=>{if(null===t)return null;const r=new oh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zr(r,t),s=new Cx(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=Ex(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Je(Object.keys(r.children)).pipe(ls(i=>{const s=r.children[i],o=Nx(t,i);return this.processSegmentGroup(e,o,s,i)}),JM((i,s)=>i&&s?(i.push(...s),i):null),function tz(n,e=!1){return mt((t,r)=>{let i=0;t.subscribe(ot(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Jd(null),XM(),de(i=>{if(null===i)return null;const s=Ux(i);return function F5(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return Je(t).pipe(ls(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),mi(o=>!!o),yi(o=>{if(Ky(o))return Fx(r,i,s)?$([]):$(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!Px(t,r,i,s))return $(null);let o;if("**"===t.path){const a=i.length>0?nx(i).parameters:{},u=jx(r)+i.length;o=$({snapshot:new oh(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hx(t),Un(t),t.component??t._loadedComponent??null,t,Bx(r),u,Gx(t),u),consumedSegments:[],remainingSegments:[]})}else o=Ox(r,t,i,e).pipe(de(({matched:a,consumedSegments:u,remainingSegments:l,parameters:c})=>{if(!a)return null;const d=jx(r)+u.length;return{snapshot:new oh(u,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hx(t),Un(t),t.component??t._loadedComponent??null,t,Bx(r),d,Gx(t),d),consumedSegments:u,remainingSegments:l}}));return o.pipe(mr(a=>{if(null===a)return $(null);const{snapshot:u,consumedSegments:l,remainingSegments:c}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function L5(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=ch(r,l,c,h.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(de(y=>null===y?null:[new zr(u,y)]));if(0===h.length&&0===p.length)return $([new zr(u,[])]);const g=Un(t)===s;return this.processSegment(d,h,f,p,g?ue:s).pipe(de(y=>null===y?null:[new zr(u,y)]))}))}}function V5(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ux(n){const e=[],t=new Set;for(const r of n){if(!V5(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Ux(r.children);e.push(new zr(r.value,i))}return e.filter(r=>!t.has(r))}function Bx(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jx(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Hx(n){return n.data||{}}function Gx(n){return n.resolve||{}}function qx(n){return"string"==typeof n.title||null===n.title}function Zy(n){return mr(e=>{const t=n(e);return t?Je(t).pipe(de(()=>e)):$(e)})}let zx=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[Fu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=se({token:n,factory:function(){return ze(Wx)},providedIn:"root"}),n})(),Wx=(()=>{class n extends zx{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(H(jM))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class z5{}class K5 extends class W5{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const gh=new z("",{providedIn:"root",factory:()=>({})}),Jy=new z("ROUTES");let Xy=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return $(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=vi(t.loadComponent()).pipe(jt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),My(()=>{this.componentLoaders.delete(t)})),i=new YM(r,()=>new ir).pipe(Ay());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(de(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,l,c=!1;Array.isArray(a)?l=a:(u=a.create(t).injector,l=tx(u.get(Jy,[],q.Self|q.Optional)));return{routes:l.map(Wy),injector:u}}),My(()=>{this.childrenLoaders.delete(r)})),o=new YM(s,()=>new ir).pipe(Ay());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return vi(t()).pipe(At(r=>r instanceof VA||Array.isArray(r)?$(r):Je(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(H(Pn),H($m))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Y5{}class Z5{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function J5(n){throw n}function X5(n,e,t){return e.parse("/")}const e8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},t8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Qx(){const n=ze(ux),e=ze(Hu),t=ze(ry),r=ze(Pn),i=ze($m),s=ze(Jy,{optional:!0})??[],o=ze(gh,{optional:!0})??{},a=ze(Wx),u=ze(zx,{optional:!0}),l=ze(Y5,{optional:!0}),c=ze(z5,{optional:!0}),d=new rt(null,n,e,t,r,i,tx(s));return l&&(d.urlHandlingStrategy=l),c&&(d.routeReuseStrategy=c),d.titleStrategy=u??a,function n8(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let rt=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ir,this.errorHandler=J5,this.malformedUriErrorHandler=X5,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>$(void 0),this.urlHandlingStrategy=new Z5,this.routeReuseStrategy=new K5,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Xy),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new Lz(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new Fz(h)),this.ngModule=o.get(ss),this.console=o.get(kG);const d=o.get(ct);this.isNgZoneEnabled=d instanceof ct&&ct.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function oz(){return new cs(new le([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ix(this.currentUrlTree,this.rootComponentType),this.transitions=new tr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(gi(i=>0!==i.id),de(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),mr(i=>{let s=!1,o=!1;return $(i).pipe(jt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mr(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Yx(a.source)&&(this.browserUrlTree=a.extractedUrl),$(a).pipe(mr(d=>{const h=this.transitions.getValue();return r.next(new Ly(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Sr:Promise.resolve(d)}),function N5(n,e,t,r){return mr(i=>function M5(n,e,t,r,i){return new x5(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(de(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),jt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function B5(n,e,t,r,i,s){return At(o=>function O5(n,e,t,r,i,s,o="emptyOnly",a="legacy"){return new P5(n,e,t,r,i,o,a,s).recognize().pipe(mr(u=>null===u?function k5(n){return new Ze(e=>e.error(n))}(new R5):$(u)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(de(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),jt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Nz(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=a,b=new Ly(h,this.serializeUrl(f),p,g);r.next(b);const A=Ix(f,this.rootComponentType).snapshot;return $(i={...a,targetSnapshot:A,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Sr}),jt(a=>{const u=new Rz(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),de(a=>i={...a,guards:n5(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function f5(n,e){return At(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?$({...t,guardsResult:!0}):function p5(n,e,t,r){return Je(n).pipe(At(i=>function w5(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$(s.map(a=>{const u=Gu(e)??i,l=zo(a,u);return vi(function c5(n){return n&&Wu(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):u.runInContext(()=>l(n,e,t,r))).pipe(mi())})).pipe(Wo()):$(!0)}(i.component,i.route,t,e,r)),mi(i=>!0!==i,!0))}(o,r,i,n).pipe(At(a=>a&&function o5(n){return"boolean"==typeof n}(a)?function g5(n,e,t,r){return Je(e).pipe(ls(i=>Ty(function y5(n,e){return null!==n&&e&&e(new Vz(n)),$(!0)}(i.route.parent,r),function m5(n,e){return null!==n&&e&&e(new Bz(n)),$(!0)}(i.route,r),function _5(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function r5(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>QM(()=>$(o.guards.map(u=>{const l=Gu(o.node)??t,c=zo(u,l);return vi(function l5(n){return n&&Wu(n.canActivateChild)}(c)?c.canActivateChild(r,n):l.runInContext(()=>c(r,n))).pipe(mi())})).pipe(Wo())));return $(s).pipe(Wo())}(n,i.path,t),function v5(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(s=>QM(()=>{const o=Gu(e)??t,a=zo(s,o);return vi(function u5(n){return n&&Wu(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(mi())}));return $(i).pipe(Wo())}(n,i.route,t))),mi(i=>!0!==i,!0))}(r,s,n,e):$(a)),de(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),jt(a=>{if(i.guardsResult=a.guardsResult,hs(a.guardsResult))throw Tx(0,a.guardsResult);const u=new kz(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),gi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Zy(a=>{if(a.guards.canActivateChecks.length)return $(a).pipe(jt(u=>{const l=new Oz(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),mr(u=>{let l=!1;return $(u).pipe(function j5(n,e){return At(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return $(t);let s=0;return Je(i).pipe(ls(o=>function $5(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!qx(i)&&(s[Fu]=i.title),function H5(n,e,t,r){const i=function G5(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return $({});const s={};return Je(i).pipe(At(o=>function q5(n,e,t,r){const i=Gu(e)??r,s=zo(n,i);return vi(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(mi(),jt(a=>{s[o]=a}))),Sy(1),function nz(n){return de(()=>n)}(s),yi(o=>Ky(o)?Sr:Ou(o)))}(s,n,e,r).pipe(de(o=>(n._resolvedData=o,n.data=Ex(n,t).resolve,i&&qx(i)&&(n.data[Fu]=i.title),null)))}(o.route,r,n,e)),jt(()=>s++),Sy(1),At(o=>s===i.length?$(t):Sr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),jt({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),jt(u=>{const l=new Pz(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),Zy(a=>{const u=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(jt(d=>{l.component=d}),de(()=>{})));for(const d of l.children)c.push(...u(d));return c};return WM(u(a.targetSnapshot.root)).pipe(Jd(),Pu(1))}),Zy(()=>this.afterPreactivation()),de(a=>{const u=function qz(n,e,t){const r=$u(n,e._root,t?t._root:void 0);return new bx(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),jt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>de(r=>(new t5(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),jt({next(){s=!0},complete(){s=!0}}),My(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),yi(a=>{if(o=!0,Mx(a)){Sx(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new sh(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),Sx(a)){const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yx(i.source)};this.scheduleNavigation(l,"imperative",null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new vx(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Sr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Wy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),Dz(l,this.currentUrlTree,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=hs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function r8(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new N(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...e8}:!1===r?{...t8}:r,hs(t))return ix(this.currentUrlTree,t,i);const s=this.parseUrl(t);return ix(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new fs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((h,f)=>{a=h,u=f});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new sh(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){jg()},n.\u0275prov=se({token:n,factory:function(){return Qx()},providedIn:"root"}),n})();function Yx(n){return"imperative"!==n}class Zx{}let o8=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(gi(t=>t instanceof fs),ls(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Ed(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Je(i).pipe(Js())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):$(null);const s=i.pipe(At(o=>null===o?$(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Je([s,this.loader.loadComponent(r)]).pipe(Js()):s})}}return n.\u0275fac=function(t){return new(t||n)(H(rt),H($m),H(li),H(Zx),H(Xy))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nv=new z("");let Jx=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ly?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _x&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new _x(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){jg()},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function Ko(n,e){return{\u0275kind:n,\u0275providers:e}}function rv(n){return[{provide:Jy,multi:!0,useValue:n}]}function e1(){const n=ze(Pn);return e=>{const t=n.get(xd);if(e!==t.components[0])return;const r=n.get(rt),i=n.get(t1);1===n.get(iv)&&r.initialNavigation(),n.get(n1,null,q.Optional)?.setUpPreloading(),n.get(nv,null,q.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const t1=new z("",{factory:()=>new ir}),iv=new z("",{providedIn:"root",factory:()=>1});const n1=new z("");function c8(n){return Ko(0,[{provide:n1,useExisting:o8},{provide:Zx,useExisting:n}])}const r1=new z("ROUTER_FORROOT_GUARD"),d8=[ry,{provide:ux,useClass:Ny},{provide:rt,useFactory:Qx},Hu,{provide:vr,useFactory:function Xx(n){return n.routerState.root},deps:[rt]},Xy];function h8(){return new OS("Router",rt)}let i1=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[d8,[],rv(t),{provide:r1,useFactory:m8,deps:[[rt,new tu,new nu]]},{provide:gh,useValue:r||{}},r?.useHash?{provide:us,useClass:b3}:{provide:us,useClass:sM},{provide:nv,useFactory:()=>{const n=ze(rt),e=ze(Gq),t=ze(gh);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Jx(n,e,t)}},r?.preloadingStrategy?c8(r.preloadingStrategy).\u0275providers:[],{provide:OS,multi:!0,useFactory:h8},r?.initialNavigation?y8(r):[],[{provide:s1,useFactory:e1},{provide:AS,multi:!0,useExisting:s1}]]}}static forChild(t){return{ngModule:n,providers:[rv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(H(r1,8))},n.\u0275mod=or({type:n}),n.\u0275inj=$n({imports:[qy]}),n})();function m8(n){return"guarded"}function y8(n){return["disabled"===n.initialNavigation?Ko(3,[{provide:Ad,multi:!0,useFactory:()=>{const e=ze(rt);return()=>{e.setUpLocationChangeListener()}}},{provide:iv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ko(2,[{provide:iv,useValue:0},{provide:Ad,multi:!0,deps:[Pn],useFactory:e=>{const t=e.get(_3,Promise.resolve(null));let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(rt),a=e.get(t1);(function i(s){e.get(rt).events.pipe(gi(a=>a instanceof fs||a instanceof sh||a instanceof vx),de(a=>a instanceof fs||a instanceof sh&&(0===a.code||1===a.code)&&null),gi(a=>null!==a),Pu(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?$(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const s1=new z("");function o1(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){o1(s,r,i,o,a,"next",u)}function a(u){o1(s,r,i,o,a,"throw",u)}o(void 0)})}}const a1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},u1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(a1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},_h=function(n){return function(n){const e=a1(n);return u1.encodeByteArray(e,!0)}(n).replace(/\./g,"")};class c1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function _t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function h1(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function f1(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function p1(){const n=_t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}class Wr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function x8(n,e){return n.replace(N8,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Wr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const N8=/\{\$([^}]+)}/g;function bh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(m1(s)&&m1(o)){if(!bh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function m1(n){return null!==n&&"object"==typeof n}function Ih(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Zu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class O8{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function P8(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=av),void 0===i.error&&(i.error=av),void 0===i.complete&&(i.complete=av);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function av(){}function Dn(n){return n&&n._delegate?n._delegate:n}class ps{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const gs="[DEFAULT]";class j8{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new c1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function H8(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===gs?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class G8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new j8(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const lv=[];var me=(()=>{return(n=me||(me={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",me;var n})();const y1={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},q8=me.INFO,z8={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},W8=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=z8[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class cv{constructor(e){this.name=e,this._logLevel=q8,this._logHandler=W8,this._userLogHandler=null,lv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?y1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}let v1,_1;const w1=new WeakMap,dv=new WeakMap,b1=new WeakMap,hv=new WeakMap,fv=new WeakMap;let pv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return dv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||b1.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _i(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function t6(n){return"function"==typeof n?function e6(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y8(){return _1||(_1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(gv(this),e),_i(w1.get(this))}:function(...e){return _i(n.apply(gv(this),e))}:function(e,...t){const r=n.call(gv(this),e,...t);return b1.set(r,e.sort?e.sort():[e]),_i(r)}}(n):(n instanceof IDBTransaction&&function J8(n){if(dv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});dv.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Q8(){return v1||(v1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,pv):n)}function _i(n){if(n instanceof IDBRequest)return function Z8(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(_i(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&w1.set(t,n)}).catch(()=>{}),fv.set(e,n),e}(n);if(hv.has(n))return hv.get(n);const e=t6(n);return e!==n&&(hv.set(n,e),fv.set(e,n)),e}const gv=n=>fv.get(n),r6=["get","getKey","getAll","getAllKeys","count"],i6=["put","add","delete","clear"],mv=new Map;function I1(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(mv.get(e))return mv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=i6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!r6.includes(t))return;const s=function(){var o=m(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return mv.set(e,s),s}!function X8(n){pv=n(pv)}(n=>({...n,get:(e,t,r)=>I1(e,t)||n.get(e,t,r),has:(e,t)=>!!I1(e,t)||n.has(e,t)}));class s6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function o6(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const yv="@firebase/app",ms=new cv("@firebase/app"),vv="[DEFAULT]",R6={[yv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ys=new Map,Eh=new Map;function k6(n,e){try{n.container.addComponent(e)}catch(t){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qo(n){const e=n.name;if(Eh.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;Eh.set(e,n);for(const t of ys.values())k6(t,n);return!0}function Ch(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const wi=new Qu("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class P6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}function C1(n=vv){const e=ys.get(n);if(!e)throw wi.create("no-app",{appName:n});return e}function bi(n,e,t){var r;let i=null!==(r=R6[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ms.warn(a.join(" "))}Qo(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Xu="firebase-heartbeat-store";let wv=null;function D1(){return wv||(wv=function n6(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=_i(o);return r&&o.addEventListener("upgradeneeded",u=>{r(_i(o.result),u.oldVersion,u.newVersion,_i(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Xu)}}).catch(n=>{throw wi.create("idb-open",{originalErrorMessage:n.message})})),wv}function bv(){return(bv=m(function*(n){var e;try{return(yield D1()).transaction(Xu).objectStore(Xu).get(A1(n))}catch(t){if(t instanceof Wr)ms.warn(t.message);else{const r=wi.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});ms.warn(r.message)}}})).apply(this,arguments)}function T1(n,e){return Iv.apply(this,arguments)}function Iv(){return(Iv=m(function*(n,e){var t;try{const i=(yield D1()).transaction(Xu,"readwrite");return yield i.objectStore(Xu).put(e,A1(n)),i.done}catch(r){if(r instanceof Wr)ms.warn(r.message);else{const i=wi.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});ms.warn(i.message)}}})).apply(this,arguments)}function A1(n){return`${n.name}!${n.options.appId}`}class $6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new G6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=S1();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=S1(),{heartbeatsToSend:r,unsentEntries:i}=function H6(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),M1(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),M1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=_h(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function S1(){return(new Date).toISOString().substring(0,10)}class G6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!function A8(){return"object"==typeof indexedDB}()&&function S8(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function U6(n){return bv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return T1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return T1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function M1(n){return _h(JSON.stringify({version:2,heartbeats:n})).length}!function q6(n){Qo(new ps("platform-logger",e=>new s6(e),"PRIVATE")),Qo(new ps("heartbeat",e=>new $6(e),"PRIVATE")),bi(yv,"0.7.32",n),bi(yv,"0.7.32","esm2017"),bi("fire-js","")}("");const z6=function x1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},N1=new Qu("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),R1=new cv("@firebase/auth");function Dh(n,...e){R1.logLevel<=me.ERROR&&R1.error(`Auth (9.9.4): ${n}`,...e)}function ln(n,...e){throw Ev(n,...e)}function _r(n,...e){return Ev(n,...e)}function k1(n,e,t){const r=Object.assign(Object.assign({},z6()),{[e]:t});return new Qu("auth","Firebase",r).create(e,{appName:n.name})}function Ev(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return N1.create(n,...e)}function R(n,e,...t){if(!n)throw Ev(e,...t)}function wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dh(e),new Error(e)}function Ii(n,e){n||wr(e)}const O1=new Map;function Kr(n){Ii(n instanceof Function,"Expected a class definition");let e=O1.get(n);return e?(Ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,O1.set(n,e),e)}function el(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function P1(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class tl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ii(t>e,"Short delay should be less than long delay!"),this.isMobile=d1()||f1()}get(){return function Q6(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Cv(){return"http:"===P1()||"https:"===P1()}()||h1()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dv(n,e){Ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class F1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},J6=new tl(3e4,6e4);function ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function wt(n,e,t,r){return Tv.apply(this,arguments)}function Tv(){return(Tv=m(function*(n,e,t,r,i={}){return L1(n,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ih(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),F1.fetch()(V1(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function L1(n,e,t){return Av.apply(this,arguments)}function Av(){return(Av=m(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Z6),e);try{const i=new X6(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw nl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw nl(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw nl(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw nl(n,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw k1(n,c,l);ln(n,c)}}catch(i){if(i instanceof Wr)throw i;ln(n,"network-request-failed")}})).apply(this,arguments)}function Qr(n,e,t,r){return Sv.apply(this,arguments)}function Sv(){return(Sv=m(function*(n,e,t,r,i={}){const s=yield wt(n,e,t,r,i);return"mfaPendingCredential"in s&&ln(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function V1(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Dv(n.config,i):`${n.config.apiScheme}://${i}`}class X6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),J6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nl(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=_r(n,e,r);return i.customData._tokenResponse=t,i}function Mv(){return(Mv=m(function*(n,e){return wt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function nW(n,e){return Nv.apply(this,arguments)}function Nv(){return(Nv=m(function*(n,e){return wt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function rl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Rv(){return(Rv=m(function*(n,e=!1){const t=Dn(n),r=yield t.getIdToken(e),i=Th(r);R(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:rl(kv(i.auth_time)),issuedAtTime:rl(kv(i.iat)),expirationTime:rl(kv(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function kv(n){return 1e3*Number(n)}function Th(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const s=function(n){try{return u1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(r);return s?JSON.parse(s):(Dh("Failed to decode base64 JWT payload"),null)}catch(s){return Dh("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function Yr(n,e){return Ov.apply(this,arguments)}function Ov(){return(Ov=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Wr&&sW(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function sW({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class oW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class U1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function il(n){return Pv.apply(this,arguments)}function Pv(){return(Pv=m(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Yr(n,nW(t,{idToken:r}));R(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?lW(s.providerUserInfo):[],a=uW(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new U1(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function Fv(){return(Fv=m(function*(n){const e=Dn(n);yield il(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function uW(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lW(n){return n.map(e=>{var{providerId:t}=e,r=YE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Lv(){return(Lv=m(function*(n,e){const t=yield L1(n,{},m(function*(){const r=Ih({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=V1(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",F1.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function iW(n){const e=Th(n);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return R(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function cW(n,e){return Lv.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new sl;return r&&(R("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return wr("not implemented")}}function Ei(n,e){R("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class vs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=YE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new U1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield Yr(t,t.stsTokenManager.getToken(t.auth,e));return R(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function rW(n){return Rv.apply(this,arguments)}(this,e)}reload(){return function aW(n){return Fv.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield il(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield Yr(e,function eW(n,e){return Mv.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,b=null!==(l=t.createdAt)&&void 0!==l?l:void 0,A=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:x,isAnonymous:L,providerData:B,stsTokenManager:Ce}=t;R(_&&Ce,e,"internal-error");const rr=sl.fromJSON(this.name,Ce);R("string"==typeof _,e,"internal-error"),Ei(d,e.name),Ei(h,e.name),R("boolean"==typeof x,e,"internal-error"),R("boolean"==typeof L,e,"internal-error"),Ei(f,e.name),Ei(p,e.name),Ei(g,e.name),Ei(y,e.name),Ei(b,e.name),Ei(A,e.name);const Zs=new vs({uid:_,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:rr,createdAt:b,lastLoginAt:A});return B&&Array.isArray(B)&&(Zs.providerData=B.map(_c=>Object.assign({},_c))),y&&(Zs._redirectEventId=y),Zs}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new sl;i.updateFromServerResponse(t);const s=new vs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield il(s),s})()}}const B1=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ah(n,e,t){return`firebase:${n}:${e}:${t}`}class Zo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ah(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ah("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?vs._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){if(!t.length)return new Zo(Kr(B1),e,r);const i=(yield Promise.all(t.map(function(){var l=m(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Kr(B1);const o=Ah(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=vs._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=m(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return l.apply(this,arguments)}}())),new Zo(s,e,r)):new Zo(s,e,r)})()}}function j1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z1(e))return"Blackberry";if(W1(e))return"Webos";if(Vv(e))return"Safari";if((e.includes("chrome/")||H1(e))&&!e.includes("edge/"))return"Chrome";if(q1(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function $1(n=_t()){return/firefox\//i.test(n)}function Vv(n=_t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H1(n=_t()){return/crios\//i.test(n)}function G1(n=_t()){return/iemobile/i.test(n)}function q1(n=_t()){return/android/i.test(n)}function z1(n=_t()){return/blackberry/i.test(n)}function W1(n=_t()){return/webos/i.test(n)}function Sh(n=_t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function K1(n=_t()){return Sh(n)||q1(n)||W1(n)||z1(n)||/windows phone/i.test(n)||G1(n)}function Q1(n,e=[]){let t;switch(n){case"Browser":t=j1(_t());break;case"Worker":t=`${j1(_t())}-${n}`;break;default:t=n}return`${t}/JsCore/9.9.4/${e.length?e.join(","):"FirebaseCore-web"}`}class pW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class gW{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y1(this),this.idTokenSubscription=new Y1(this),this.beforeStateQueue=new pW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Kr(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Zo.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return R(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){var r;try{yield il(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Y6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?Dn(e):null;return r&&R(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return m(function*(){if(!r._deleted)return e&&R(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(Kr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&Kr(e)||t._popupRedirectResolver;R(r,t,"argument-error"),t.redirectPersistenceManager=yield Zo.create(t,[Kr(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return R(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function cn(n){return Dn(n)}class Y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=function k8(n,e){const t=new O8(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class X1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,t){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}function Bv(){return(Bv=m(function*(n,e){return wt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function $v(){return($v=m(function*(n,e){return Qr(n,"POST","/v1/accounts:signInWithPassword",ht(n,e))})).apply(this,arguments)}function Kv(){return(Kv=m(function*(n,e){return Qr(n,"POST","/v1/accounts:signInWithEmailLink",ht(n,e))})).apply(this,arguments)}function Qv(){return(Qv=m(function*(n,e){return Qr(n,"POST","/v1/accounts:signInWithEmailLink",ht(n,e))})).apply(this,arguments)}class ol extends X1{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ol(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ol(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return m(function*(){switch(t.signInMethod){case"password":return function _W(n,e){return $v.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function CW(n,e){return Kv.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:ln(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return m(function*(){switch(r.signInMethod){case"password":return function tN(n,e){return Bv.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function DW(n,e){return Qv.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:ln(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Zr(n,e){return Yv.apply(this,arguments)}function Yv(){return(Yv=m(function*(n,e){return Qr(n,"POST","/v1/accounts:signInWithIdp",ht(n,e))})).apply(this,arguments)}class ll{constructor(e){var t,r,i,s,o,a;const u=Yu(Zu(e)),l=null!==(t=u.apiKey)&&void 0!==t?t:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function RW(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);R(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function kW(n){const e=Yu(Zu(n)).link,t=e?Yu(Zu(e)).deep_link_id:null,r=Yu(Zu(n)).deep_link_id;return(r?Yu(Zu(r)).link:null)||r||t||e||n}(e);try{return new ll(t)}catch{return null}}}let nN=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ol._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=ll.parseLink(r);return R(i,"argument-error"),ol._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ci{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class OW extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function rN(n,e){return n_.apply(this,arguments)}function n_(){return(n_=m(function*(n,e){return Qr(n,"POST","/v1/accounts:signUp",ht(n,e))})).apply(this,arguments)}class Bn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield vs._fromIdTokenResponse(e,r,i),o=iN(r);return new Bn({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=iN(r);return new Bn({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function iN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Nh extends Wr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Nh(e,t,r,i)}}function sN(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Nh._fromErrorAndOperation(n,s,e,r):s})}function s_(n,e){return o_.apply(this,arguments)}function o_(){return(o_=m(function*(n,e,t=!1){const r=yield Yr(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Bn._forOperation(n,"link",r)})).apply(this,arguments)}function u_(){return(u_=m(function*(n,e,t=!1){var r;const{auth:i}=n,s="reauthenticate";try{const o=yield Yr(n,sN(i,s,e,n),t);R(o.idToken,i,"internal-error");const a=Th(o.idToken);R(a,i,"internal-error");const{sub:u}=a;return R(n.uid===u,i,"user-mismatch"),Bn._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&ln(i,"user-mismatch"),o}})).apply(this,arguments)}function uN(n,e){return l_.apply(this,arguments)}function l_(){return(l_=m(function*(n,e,t=!1){const r="signIn",i=yield sN(n,r,e),s=yield Bn._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function d_(){return(d_=m(function*(n,e){return uN(cn(n),e)})).apply(this,arguments)}function E_(){return(E_=m(function*(n,e,t){const r=cn(n),i=yield rN(r,{returnSecureToken:!0,email:e,password:t}),s=yield Bn._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Oh(n,e,t,r){return Dn(n).onAuthStateChanged(e,t,r)}const Ph="__sak";class cN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const r7=(()=>{class n extends cN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function e7(){const n=_t();return Vv(n)||Sh(n)}()&&function fW(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=K1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function hW(){return p1()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),dN=(()=>{class n extends cN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let s7=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(u).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function i7(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function V_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class o7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const c=V_("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ft(){return window}function U_(){return typeof ft().WorkerGlobalScope<"u"&&"function"==typeof ft().importScripts}function B_(){return(B_=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hN="firebaseLocalStorageDb",Fh="firebaseLocalStorage",fN="fbase_key";class dl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lh(n,e){return n.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function j_(){const n=indexedDB.open(hN,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Fh,{keyPath:fN})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),yield function h7(){const n=indexedDB.deleteDatabase(hN);return new dl(n).toPromise()}(),e(yield j_()))}))})}function pN(n,e,t){return $_.apply(this,arguments)}function $_(){return($_=m(function*(n,e,t){const r=Lh(n,!0).put({[fN]:e,value:t});return new dl(r).toPromise()})).apply(this,arguments)}function H_(){return(H_=m(function*(n,e){const t=Lh(n,!1).get(e),r=yield new dl(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function gN(n,e){const t=Lh(n,!0).delete(e);return new dl(t).toPromise()}const m7=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield j_()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return U_()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=s7._getInstance(function c7(){return U_()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function u7(){return B_.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new o7(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function l7(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield j_();return yield pN(t,Ph,"1"),yield gN(t,Ph),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>pN(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function f7(n,e){return H_.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>gN(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=Lh(o,!1).getAll();return new dl(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function yN(n){return`__${n}${Math.floor(1e6*Math.random())}`}function ws(n,e){return e?Kr(e):(R(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}yN("rcb"),new tl(3e4,6e4);class X_ extends X1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function k7(n){return uN(n.auth,new X_(n),n.bypassAuthState)}function O7(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),function aN(n,e){return u_.apply(this,arguments)}(t,new X_(n),n.bypassAuthState)}function P7(n){return ew.apply(this,arguments)}function ew(){return(ew=m(function*(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),s_(t,new X_(n),n.bypassAuthState)})).apply(this,arguments)}new tl(2e3,1e4);const hl=new Map;class V7 extends class F7{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k7;case"linkViaPopup":case"linkViaRedirect":return P7;case"reauthViaPopup":case"reauthViaRedirect":return O7;default:ln(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=hl.get(t.auth._key());if(!r){try{const s=(yield function U7(n,e){return sw.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}hl.set(t.auth._key(),r)}return t.bypassAuthState||hl.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function sw(){return(sw=m(function*(n,e){const t=wN(e),r=_N(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function B7(n,e){hl.set(n._key(),e)}function _N(n){return Kr(n._redirectPersistence)}function wN(n){return Ah("pendingRedirect",n.config.apiKey,n.name)}function bN(n,e){return hw.apply(this,arguments)}function hw(){return(hw=m(function*(n,e,t=!1){const r=cn(n),i=ws(r,e),o=yield new V7(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class q7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function z7(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CN(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!CN(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(_r(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(EN(e))}saveEventToCache(e){this.cachedEventUids.add(EN(e)),this.lastProcessedEventTime=Date.now()}}function EN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function CN({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function W7(n){return pw.apply(this,arguments)}function pw(){return(pw=m(function*(n,e={}){return wt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const K7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q7=/^https?/;function gw(){return(gw=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield W7(n);for(const t of e)try{if(Z7(t))return}catch{}ln(n,"unauthorized-domain")})).apply(this,arguments)}function Z7(n){const e=el(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!Q7.test(t))return!1;if(K7.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const J7=new tl(3e4,6e4);function DN(){const n=ft().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Uh=null;function eK(n){return Uh=Uh||function X7(n){return new Promise((e,t)=>{var r,i,s;function o(){DN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DN(),t(_r(n,"network-request-failed"))},timeout:J7.get()})}if(null!==(i=null===(r=ft().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ft().gapi)||void 0===s||!s.load){const a=yN("iframefcb");return ft()[a]=()=>{gapi.load?o():t(_r(n,"network-request-failed"))},function mN(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=_r("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function w7(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Uh=null,e})}(n),Uh}const tK=new tl(5e3,15e3),iK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oK(n){const e=n.config;R(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dv(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:"9.9.4"},i=sK.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ih(r).slice(1)}`}function mw(){return mw=m(function*(n){const e=yield eK(n),t=ft().gapi;return R(t,n,"internal-error"),e.open({where:document.body,url:oK(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iK,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=_r(n,"network-request-failed"),u=ft().setTimeout(()=>{o(a)},tK.get());function l(){ft().clearTimeout(u),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),mw.apply(this,arguments)}const uK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class TN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AN(n,e,t,r,i,s){R(n.config.authDomain,n,"auth-domain-config-required"),R(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:"9.9.4",eventId:i};if(e instanceof Ci){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function R8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof OW){const u=e.getScopes().filter(l=>""!==l);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function yK({config:n}){return n.emulator?Dv(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Ih(a).slice(1)}`}const yw="webStorageSupport",_K=class vK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dN,this._completeRedirectFn=bN,this._overrideRedirectResult=B7}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;Ii(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=AN(e,t,r,el(),i);return function fK(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},uK),{width:r.toString(),height:i.toString(),top:s,left:o}),l=_t().toLowerCase();t&&(a=H1(l)?"_blank":t),$1(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function dW(n=_t()){var e;return Sh(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function pK(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new TN(null);const d=window.open(e||"",a,c);R(d,n,"popup-blocked");try{d.focus()}catch{}return new TN(d)}(e,a,V_())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function a7(n){ft().location.href=n}(AN(e,t,r,el(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ii(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function aK(n){return mw.apply(this,arguments)}(e),i=new q7(e);return r.register("authEvent",s=>(R(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yw,{type:yw},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[yw];void 0!==o&&t(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Y7(n){return gw.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return K1()||Vv()||Sh()}};var MN="@firebase/auth";class wK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bs(n=C1()){const e=Ch(n,"auth");return e.isInitialized()?e.getImmediate():function W6(n,e){const t=Ch(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(bh(t.getOptions(),e??{}))return i;ln(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:_K,persistence:[m7,r7,dN]})}!function IK(n){Qo(new ps("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{R(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),R(!o?.includes(":"),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q1(n)},c=new gW(a,u,l);return function K6(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Kr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qo(new ps("auth-internal",e=>{const t=cn(e.getProvider("auth").getImmediate());return new wK(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(MN,"0.20.6",function bK(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),bi(MN,"0.20.6","esm2017")}("Browser");let EK=(()=>{class n{constructor(){this.juegoIniciado=!1,this.palabraRandom="A H O R C A D O",this.palabraRandomReal="",this.palabraRandomRealProgress="",this.palabraShowed=new Array,this.letrasProbadas=new Array,this.stringLetrasProbadas="\xa1Ac\xe1 se muestran tus letras probadas!",this.vidas=6,this.mensajeTemporal="Mensaje temporal",this.flagEstaLogeado=!1,this.palabrasAhorcado=["PERRO","COCINA","AUTO","FE","DENTISTA","OTORRINO","GATO","LUNA","SOL","TECLADO","CAMIONETA","FRASCO","VIDRIO","SONRISA","RAMPA","SOGA","MARIHUANA","AGUA","GASEOSA","HIELO","CHIP","MASCOTA","ALFOMBRA","VIDEO","TABLETA","MESA","LAMPARA","INTERRUPTOR","PELO","OJOS","NARIZ","CUBO","PELOTA","CELULAR","ENCHUFE","PAJARO","PEZ","PILETA","GUITARRA","BAJO","BATERIA","MICROFONO","MADERA","METAL","ESTANTE","CAJA","MOCHILA","CARTUCHERA","REGLA","LAPIZ","GOMA","SACAPUNTAS","TELGOPOR","PLANETA","MONTA\xd1A","OIDO","CONTROL","LUZ","NUMERO","CABALLO","HORMIGA","CARACOL","ELECTRICIDAD","FOTO","AMOR","PLANTACION","QUESO","HARINA","POZO","TITULO","INVERSION","NOMBRE","PALABRA","COLECTIVO","CAMION","ZAPATILLA","MEDIAS","PANTALON","CORBATA","CINTURON","COLLAR","JOYA","GORRO","SOMBRERO","BUFANDA","CORPI\xd1O","CAMPERA","GOTA","BOLSA","ELECTRICISTA","INGENIERIA","TECNICATURA","CALENDARIO","FECHA","DIA","MILENIO","SIGLO","DECADA","A\xd1O","MES"],Oh(bs(),r=>{if(r){const i=r.uid;this.usuario=r.email,this.usuarioID=i,console.log(this.usuario),console.log(this.usuarioID),document.getElementById("error-login-message")?.setAttribute("hidden","true"),document.getElementById("send-button")?.removeAttribute("hidden"),document.getElementById("chat-input")?.removeAttribute("hidden"),document.getElementById("btnComenzar")?.removeAttribute("hidden"),this.flagEstaLogeado=!0}else document.getElementById("error-login-message")?.removeAttribute("hidden"),document.getElementById("send-button")?.setAttribute("hidden","true"),document.getElementById("chat-input")?.setAttribute("hidden","true")})}comenzarJuego(){1==this.flagEstaLogeado&&(this.vidas=6,this.pickearPalabraRandom(),this.mostrarFotoAhorcado(6),this.juegoIniciado=!0,this.limpiarLetrasProbadas(),this.actualizarLetrasProbadas())}letraClickeada(t){0==this.fueClickeadaAnteriormente(t)&&1==this.juegoIniciado?(this.letrasProbadas.push(t),this.actualizarLetrasProbadas(),1==this.verificarCoincidenciaLetra(t)?(this.mostrarMensajeTemporal("Muy bien!"),this.mostrarLetraCoincidente(t),1==this.verificarSiGano()&&(this.juegoIniciado=!1,this.mostrarMensajeTemporal("\xa1Ganaste, muy bien!"))):this.vidas>-1&&(this.vidas=this.vidas-1,this.vidas>=-1&&this.actualizarFotoPorVidasActuales(),this.vidas<0&&(this.juegoIniciado=!1,this.mostrarMensajeTemporal("\xa1Perdiste!"),this.revelarPalabraRandom()))):1==this.fueClickeadaAnteriormente(t)?this.mostrarMensajeTemporal("\xa1La letra ya fue presionada!"):0==this.juegoIniciado&&this.mostrarMensajeTemporal("\xa1El juego no est\xe1 iniciado!")}mostrarLetraCoincidente(t){if(1==this.palabraRandomReal.includes(t)){let r=this.palabraRandomRealProgress;for(;1==r.includes(t);)r=r.replace(t,".");this.palabraRandomRealProgress=r,console.log(this.palabraRandomRealProgress);let i=new Array;for(let s=0;s<this.palabraRandomReal.length;s++)this.palabraRandomReal[s]==t&&i.push(s);console.log("INDICES DE CARACTERES COINCIDENTES:"),console.log(i),this.palabraRandomRealProgress=this.palabraRandomRealProgress.replace(".",t),console.log(this.palabraRandomRealProgress),i.forEach((s,o)=>{this.palabraShowed[s]=t}),console.log(this.palabraShowed),this.actualizarRevelacionPalabraMostrada()}}actualizarRevelacionPalabraMostrada(){let t=this.palabraShowed.toString();do{t=t.replace(","," ")}while(1==t.includes(","));this.palabraRandom=t}verificarSiGano(){return 1!=this.palabraRandom.includes("_")}fueClickeadaAnteriormente(t){let r;return r=1==this.letrasProbadas.includes(t),r}actualizarLetrasProbadas(){this.stringLetrasProbadas=this.letrasProbadas.toString()}verificarCoincidenciaLetra(t){return console.log(this.palabraRandomReal),1==this.palabraRandomReal.includes(t)}mostrarMensajeTemporal(t){let r=document.getElementById("container-mensaje-temporal");r?.removeAttribute("hidden"),this.mensajeTemporal=t,setTimeout(()=>{this.mensajeTemporal="",r?.setAttribute("hidden","true")},3500)}revelarPalabraRandom(){for(let t=0;t<this.palabraRandomReal.length;t++)this.palabraShowed[t]=this.palabraRandomReal[t];this.actualizarRevelacionPalabraMostrada()}actualizarFotoPorVidasActuales(){switch(console.log("VIDAS: "+this.vidas),this.vidas){case-1:this.mostrarFotoAhorcado(-1);break;case 0:this.mostrarFotoAhorcado(0);break;case 1:this.mostrarFotoAhorcado(1);break;case 2:this.mostrarFotoAhorcado(2);break;case 3:this.mostrarFotoAhorcado(3);break;case 4:this.mostrarFotoAhorcado(4);break;case 5:this.mostrarFotoAhorcado(5);break;case 6:this.mostrarFotoAhorcado(6)}}mostrarFotoAhorcado(t){let r=document.getElementById("img-0vidas"),i=document.getElementById("img-1vidas"),s=document.getElementById("img-2vidas"),o=document.getElementById("img-3vidas"),a=document.getElementById("img-4vidas"),u=document.getElementById("img-5vidas"),l=document.getElementById("img-6vidas"),c=document.getElementById("img-lose-game");switch(t){case-1:c?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true");break;case 0:r?.removeAttribute("hidden"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true");break;case 1:i?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true");break;case 2:s?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true");break;case 3:o?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true");break;case 4:a?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true");break;case 5:u?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true");break;case 6:l?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),c?.setAttribute("hidden","true")}}pickearPalabraRandom(){let t=Math.floor(99*Math.random())+1,r=this.palabrasAhorcado[t];this.palabraRandomReal=r,this.mostrarPalabraEnMesa(r)}mostrarPalabraEnMesa(t){let r=this.convertirPalabraIncognita(t);this.palabraRandom=r}convertirPalabraIncognita(t){let r=t.length,i=[];for(let o=0;o<r;o++)i[o]="_";console.log(i);let s=i.toString();do{s=s.replace(","," "),console.log(s)}while(1==s.includes(","));do{this.palabraShowed.pop()}while(this.palabraShowed.length>=1);for(let o=0;o<t.length;o++)this.palabraShowed.push("_");return console.log(s),s}limpiarLetrasProbadas(){if(this.letrasProbadas.length>=1)do{this.letrasProbadas.pop()}while(this.letrasProbadas.length>=1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["app-ahorcado"]],decls:85,vars:3,consts:[[1,"row","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],["id","expositor-vidas",1,"col-auto","d-none","d-lg-block"],["width","300","height","300","id","img-0vidas","src","../../../assets/game-files/ahorcado-files/0vidas.png",1,"bd-placeholder-img"],["width","300","height","300","hidden","","id","img-1vidas","src","../../../assets/game-files/ahorcado-files/1vidas.png",1,"bd-placeholder-img"],["width","300","height","300","hidden","","id","img-2vidas","src","../../../assets/game-files/ahorcado-files/2vidas.png",1,"bd-placeholder-img"],["width","300","height","300","hidden","","id","img-3vidas","src","../../../assets/game-files/ahorcado-files/3vidas.png",1,"bd-placeholder-img"],["width","300","height","300","hidden","","id","img-4vidas","src","../../../assets/game-files/ahorcado-files/4vidas.png",1,"bd-placeholder-img"],["width","300","height","300","hidden","","id","img-5vidas","src","../../../assets/game-files/ahorcado-files/5vidas.png",1,"bd-placeholder-img"],["width","300","height","300","hidden","","id","img-6vidas","src","../../../assets/game-files/ahorcado-files/6vidas.png",1,"bd-placeholder-img"],["width","300","height","300","hidden","","id","img-lose-game","src","../../../assets/game-files/ahorcado-files/lose.png",1,"bd-placeholder-img"],[1,"col","p-4","d-flex","flex-column","position-static"],["id","expositor-adivinanza",1,"row","p-4","d-flex","flex-column","position-static"],["id","expositor-letras",1,"text-bg-dark"],["id","error-container"],["id","error-login-message"],["id","container-letras-probadas",1,"col","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],[1,"container-mini-text"],["id","text-letrasProbadas"],["id","container-mensaje-temporal","hidden","",1,"col","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],["id","text-mensaje"],[1,"row","p-4","d-flex","flex-column","position-static"],["href","#","id","btnComenzar","hidden","",1,"btnMenu",3,"click"],[1,"keyboard-row"],["href","#","data","Q",1,"letra",3,"click"],["href","#","data","W",1,"letra",3,"click"],["href","#","data","E",1,"letra",3,"click"],["href","#","data","R",1,"letra",3,"click"],["href","#","data","T",1,"letra",3,"click"],["href","#","data","Y",1,"letra",3,"click"],["href","#","data","U",1,"letra",3,"click"],["href","#","data","I",1,"letra",3,"click"],["href","#","data","O",1,"letra",3,"click"],["href","#","data","P",1,"letra",3,"click"],["href","#","data","A",1,"letra",3,"click"],["href","#","data","S",1,"letra",3,"click"],["href","#","data","D",1,"letra",3,"click"],["href","#","data","F",1,"letra",3,"click"],["href","#","data","G",1,"letra",3,"click"],["href","#","data","H",1,"letra",3,"click"],["href","#","data","J",1,"letra",3,"click"],["href","#","data","K",1,"letra",3,"click"],["href","#","data","L",1,"letra",3,"click"],["href","#","data","\xd1",1,"letra",3,"click"],["href","#","data","Z",1,"letra",3,"click"],["href","#","data","X",1,"letra",3,"click"],["href","#","data","C",1,"letra",3,"click"],["href","#","data","V",1,"letra",3,"click"],["href","#","data","B",1,"letra",3,"click"],["href","#","data","N",1,"letra",3,"click"],["href","#","data","M",1,"letra",3,"click"]],template:function(t,r){1&t&&(I(0,"div",0)(1,"div",1),Ie(2,"img",2)(3,"img",3)(4,"img",4)(5,"img",5)(6,"img",6)(7,"img",7)(8,"img",8)(9,"img",9),E(),I(10,"div",10)(11,"div",11),C(12),E()(),I(13,"div",12)(14,"div",13)(15,"label",14),C(16,"No es posible jugar sin antes iniciar sesi\xf3n. \xa1Necesitamos identificarte!"),E()(),I(17,"div",15)(18,"div",16)(19,"a",17),C(20),E()()(),I(21,"div",18)(22,"div",16)(23,"a",19),C(24),E()()(),I(25,"div",20)(26,"button",21),j("click",function(){return r.comenzarJuego()}),C(27,"Comenzar"),E()(),I(28,"div",22)(29,"button",23),j("click",function(){return r.letraClickeada("Q")}),C(30,"Q"),E(),I(31,"button",24),j("click",function(){return r.letraClickeada("W")}),C(32,"W"),E(),I(33,"button",25),j("click",function(){return r.letraClickeada("E")}),C(34,"E"),E(),I(35,"button",26),j("click",function(){return r.letraClickeada("R")}),C(36,"R"),E(),I(37,"button",27),j("click",function(){return r.letraClickeada("T")}),C(38,"T"),E(),I(39,"button",28),j("click",function(){return r.letraClickeada("Y")}),C(40,"Y"),E(),I(41,"button",29),j("click",function(){return r.letraClickeada("U")}),C(42,"U"),E(),I(43,"button",30),j("click",function(){return r.letraClickeada("I")}),C(44,"I"),E(),I(45,"button",31),j("click",function(){return r.letraClickeada("O")}),C(46,"O"),E(),I(47,"button",32),j("click",function(){return r.letraClickeada("P")}),C(48,"P"),E()(),I(49,"div",22)(50,"button",33),j("click",function(){return r.letraClickeada("A")}),C(51,"A"),E(),I(52,"button",34),j("click",function(){return r.letraClickeada("S")}),C(53,"S"),E(),I(54,"button",35),j("click",function(){return r.letraClickeada("D")}),C(55,"D"),E(),I(56,"button",36),j("click",function(){return r.letraClickeada("F")}),C(57,"F"),E(),I(58,"button",37),j("click",function(){return r.letraClickeada("G")}),C(59,"G"),E(),I(60,"button",38),j("click",function(){return r.letraClickeada("H")}),C(61,"H"),E(),I(62,"button",39),j("click",function(){return r.letraClickeada("J")}),C(63,"J"),E(),I(64,"button",40),j("click",function(){return r.letraClickeada("K")}),C(65,"K"),E(),I(66,"button",41),j("click",function(){return r.letraClickeada("L")}),C(67,"L"),E(),I(68,"button",42),j("click",function(){return r.letraClickeada("\xd1")}),C(69,"\xd1"),E()(),I(70,"div",22)(71,"button",43),j("click",function(){return r.letraClickeada("Z")}),C(72,"Z"),E(),I(73,"button",44),j("click",function(){return r.letraClickeada("X")}),C(74,"X"),E(),I(75,"button",45),j("click",function(){return r.letraClickeada("C")}),C(76,"C"),E(),I(77,"button",46),j("click",function(){return r.letraClickeada("V")}),C(78,"V"),E(),I(79,"button",47),j("click",function(){return r.letraClickeada("B")}),C(80,"B"),E(),I(81,"button",48),j("click",function(){return r.letraClickeada("N")}),C(82,"N"),E(),I(83,"button",49),j("click",function(){return r.letraClickeada("M")}),C(84,"M"),E()()()()),2&t&&(vt(12),Vr(r.palabraRandom),vt(8),Vr(r.stringLetrasProbadas),vt(4),Vr(r.mensajeTemporal))},styles:[".bd-placeholder-img[_ngcontent-%COMP%]{padding:1rem}#letras[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-wrap:wrap;gap:9px}#expositor-letras[_ngcontent-%COMP%]{padding:1rem;width:100%;text-align:center;border-radius:5px}#expositor-adivinanza[_ngcontent-%COMP%]{font-size:80px;font-family:Courier New,Courier,monospace;font-weight:400;margin:4rem 5rem 2rem}#expositor-vidas[_ngcontent-%COMP%]{display:flex;background-color:#fff;border-radius:15px;border:1px solid black;align-self:center;margin-left:3rem;margin-top:2rem;margin-bottom:2rem}#error-container[_ngcontent-%COMP%]{text-align:center}#error-login-message[_ngcontent-%COMP%]{border:1px solid white;border-radius:10px;color:#d25a5a;padding:.5rem;width:100%;margin-top:1rem}#text-mensaje[_ngcontent-%COMP%], #text-letrasProbadas[_ngcontent-%COMP%]{height:min-content;padding:.3rem;font-family:Courier New,Courier,monospace;font-weight:500;font-size:17px}.container-mini-text[_ngcontent-%COMP%]{text-align:center;padding:.5rem 1rem;border-radius:2rem}.btnMenu[_ngcontent-%COMP%]{align-self:center;width:30%;height:2rem;font-size:20px;margin:.5rem;border-radius:10px;text-align:center;font-family:Courier New,Courier,monospace;font-weight:600}.letra[_ngcontent-%COMP%]{width:3rem;height:3rem;font-size:25px;margin:.5rem;border-radius:10px;text-align:center;font-family:Courier New,Courier,monospace;font-weight:600}"]}),n})(),CK=(()=>{class n{constructor(){this.juegoIniciado=!1,this.todosLosNumerosRevelados=!1,this.numerosMayorOMenor=new Array(1,2,3,4,5,6,7,8,9,10),this.numerosMostrados=new Array,this.stringNumerosProbados="Ac\xe1 se muestran los numeros ya vistos",this.mensajeTemporal="Este es un mensaje temporal",this.vidas=3,this.puntaje=0,this.flagEstaLogeado=!1,Oh(bs(),r=>{if(r){const i=r.uid;this.usuario=r.email,this.usuarioID=i,console.log(this.usuario),console.log(this.usuarioID),document.getElementById("error-login-message")?.setAttribute("hidden","true"),document.getElementById("btnComenzar")?.removeAttribute("hidden"),document.getElementById("btnMayor")?.removeAttribute("hidden"),document.getElementById("btnMenor")?.removeAttribute("hidden"),this.flagEstaLogeado=!0}else document.getElementById("error-login-message")?.removeAttribute("hidden"),document.getElementById("btnComenzar")?.setAttribute("hidden","true"),document.getElementById("btnMayor")?.setAttribute("hidden","true"),document.getElementById("btnMenor")?.setAttribute("hidden","true")})}comenzarJuego(){this.vidas=3,this.puntaje=0,this.numerosMayorOMenor=[1,2,3,4,5,6,7,8,9,10],this.limpiarNumerosMostrados();let t=this.pickearNumeroRandom();this.mostrarCarta(t),this.numerosMostrados.push(t),this.actualizarNumerosMostrados(),this.desconsiderarCarta(t),console.log(this.numerosMayorOMenor),this.juegoIniciado=!0,this.todosLosNumerosRevelados=!1}esMayor(){if(1==this.juegoIniciado&&0==this.todosLosNumerosRevelados){let t=this.pickearNumeroRandom();this.numerosMostrados[this.numerosMostrados.length-1]<t?(this.puntaje=this.puntaje+100,this.mostrarMensajeTemporal("\xa1Bien!")):(this.puntaje>0&&(this.puntaje=this.puntaje-100),this.vidas--,this.vidas<=0&&(this.juegoIniciado=!1),this.mostrarMensajeTemporal("\xa1Mal!")),this.mostrarCarta(t),this.desconsiderarCarta(t),this.numerosMostrados.push(t),this.actualizarNumerosMostrados(),10==this.numerosMostrados.length&&(this.todosLosNumerosRevelados=!0)}else 0==this.juegoIniciado?this.mostrarMensajeTemporal("\xa1El juego no est\xe1 iniciado!"):1==this.todosLosNumerosRevelados&&this.mostrarMensajeTemporal("\xa1El juego finaliz\xf3, todos los n\xfameros fueron mostrados!")}esMenor(){if(1==this.juegoIniciado&&0==this.todosLosNumerosRevelados){let t=this.pickearNumeroRandom();this.numerosMostrados[this.numerosMostrados.length-1]>t?(this.puntaje=this.puntaje+100,this.mostrarMensajeTemporal("\xa1Bien!")):(this.puntaje>0&&(this.puntaje=this.puntaje-100),this.vidas--,this.vidas<=0&&(this.juegoIniciado=!1),this.mostrarMensajeTemporal("\xa1Mal!")),this.mostrarCarta(t),this.desconsiderarCarta(t),this.numerosMostrados.push(t),this.actualizarNumerosMostrados(),10==this.numerosMostrados.length&&(this.todosLosNumerosRevelados=!0)}else 0==this.juegoIniciado?this.mostrarMensajeTemporal("\xa1El juego no est\xe1 iniciado!"):1==this.todosLosNumerosRevelados&&this.mostrarMensajeTemporal("\xa1El juego finaliz\xf3, todos los n\xfameros fueron mostrados!")}pickearNumeroRandom(){let r=this.numerosMayorOMenor.length-1-1,i=Math.random(),s=Math.floor(i*(r-0+1));s++,1==this.numerosMayorOMenor.length&&(s=0);let o=s;return console.log("INDICE RANDOM: "+o),this.numerosMayorOMenor[o]}mostrarCarta(t){let r=document.getElementById("img-card1"),i=document.getElementById("img-card2"),s=document.getElementById("img-card3"),o=document.getElementById("img-card4"),a=document.getElementById("img-card5"),u=document.getElementById("img-card6"),l=document.getElementById("img-card7"),c=document.getElementById("img-card8"),d=document.getElementById("img-card9"),h=document.getElementById("img-card10");switch(t){case 1:r?.removeAttribute("hidden"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true"),d?.setAttribute("hidden","true"),h?.setAttribute("hidden","true");break;case 2:i?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true"),d?.setAttribute("hidden","true"),h?.setAttribute("hidden","true");break;case 3:s?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true"),d?.setAttribute("hidden","true"),h?.setAttribute("hidden","true");break;case 4:o?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true"),d?.setAttribute("hidden","true"),h?.setAttribute("hidden","true");break;case 5:a?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true"),d?.setAttribute("hidden","true"),h?.setAttribute("hidden","true");break;case 6:u?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true"),d?.setAttribute("hidden","true"),h?.setAttribute("hidden","true");break;case 7:l?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),c?.setAttribute("hidden","true"),d?.setAttribute("hidden","true"),h?.setAttribute("hidden","true");break;case 8:c?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),d?.setAttribute("hidden","true"),h?.setAttribute("hidden","true");break;case 9:d?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true"),h?.setAttribute("hidden","true");break;case 10:h?.removeAttribute("hidden"),r?.setAttribute("hidden","true"),i?.setAttribute("hidden","true"),s?.setAttribute("hidden","true"),o?.setAttribute("hidden","true"),a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),l?.setAttribute("hidden","true"),c?.setAttribute("hidden","true"),d?.setAttribute("hidden","true")}}desconsiderarCarta(t){let r=new Array;switch(t){case 1:r=this.numerosMayorOMenor.filter(i=>1!=i);break;case 2:r=this.numerosMayorOMenor.filter(i=>2!=i);break;case 3:r=this.numerosMayorOMenor.filter(i=>3!=i);break;case 4:r=this.numerosMayorOMenor.filter(i=>4!=i);break;case 5:r=this.numerosMayorOMenor.filter(i=>5!=i);break;case 6:r=this.numerosMayorOMenor.filter(i=>6!=i);break;case 7:r=this.numerosMayorOMenor.filter(i=>7!=i);break;case 8:r=this.numerosMayorOMenor.filter(i=>8!=i);break;case 9:r=this.numerosMayorOMenor.filter(i=>9!=i);break;case 10:r=this.numerosMayorOMenor.filter(i=>10!=i)}this.numerosMayorOMenor=r}limpiarNumerosMostrados(){if(this.numerosMayorOMenor.length>=1)do{this.numerosMostrados.pop()}while(this.numerosMostrados.length>=1)}actualizarNumerosMostrados(){this.stringNumerosProbados=this.numerosMostrados.toString()}mostrarMensajeTemporal(t){let r=document.getElementById("container-mensaje-temporal");r?.removeAttribute("hidden"),this.mensajeTemporal=t,setTimeout(()=>{this.mensajeTemporal="",r?.setAttribute("hidden","true")},2500)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["app-mayor-o-menor"]],decls:41,vars:4,consts:[[1,"row","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],["id","expositor-cartas",1,"col-auto","d-none","d-lg-block"],["width","260","height","350","id","img-card-dorso-static","src","../../../assets/game-files/mayor-o-menor-files/cartas/dorso.PNG",1,"bd-placeholder-img"],[1,"col","p-4","d-flex","flex-column","position-static"],["width","260","height","350","id","img-card-dorso","hidden","","src","../../../assets/game-files/mayor-o-menor-files/cartas/dorso.PNG",1,"bd-placeholder-img"],["width","300","height","400","id","img-card1","hidden","","src","../../../assets/game-files/mayor-o-menor-files/cartas/card-1.png",1,"bd-placeholder-img"],["width","300","height","400","id","img-card2","hidden","","src","../../../assets/game-files/mayor-o-menor-files/cartas/card-2.png",1,"bd-placeholder-img"],["width","300","height","400","id","img-card3","hidden","","src","../../../assets/game-files/mayor-o-menor-files/cartas/card-3.png",1,"bd-placeholder-img"],["width","300","height","400","id","img-card4","hidden","","src","../../../assets/game-files/mayor-o-menor-files/cartas/card-4.png",1,"bd-placeholder-img"],["width","300","height","400","id","img-card5","hidden","","src","../../../assets/game-files/mayor-o-menor-files/cartas/card-5.png",1,"bd-placeholder-img"],["width","300","height","400","id","img-card6","hidden","","src","../../../assets/game-files/mayor-o-menor-files/cartas/card-6.png",1,"bd-placeholder-img"],["width","300","height","400","id","img-card7","hidden","","src","../../../assets/game-files/mayor-o-menor-files/cartas/card-7.png",1,"bd-placeholder-img"],["width","300","height","400","id","img-card8","hidden","","src","../../../assets/game-files/mayor-o-menor-files/cartas/card-8.png",1,"bd-placeholder-img"],["width","300","height","400","id","img-card9","hidden","","src","../../../assets/game-files/mayor-o-menor-files/cartas/card-9.png",1,"bd-placeholder-img"],["width","300","height","400","id","img-card10","hidden","","src","../../../assets/game-files/mayor-o-menor-files/cartas/card-10.png",1,"bd-placeholder-img"],["id","expositor-menu",1,"text-bg-dark"],["id","error-container"],["id","error-login-message"],["id","container-letras-probadas",1,"col","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],[1,"container-mini-text"],["id","text-letrasProbadas"],["id","container-mensaje-temporal","hidden","",1,"col","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],["id","text-mensaje"],[1,"row","p-4","d-flex","flex-column","position-static"],["id","btnComenzar","hidden","",1,"btnMenu",3,"click"],[1,"keyboard-row"],["id","btnMayor","hidden","",1,"btnMenu",3,"click"],["id","btnMenor","hidden","",1,"btnMenu",3,"click"]],template:function(t,r){1&t&&(I(0,"div",0)(1,"div",1),Ie(2,"img",2),E(),I(3,"div",3),Ie(4,"img",4)(5,"img",5)(6,"img",6)(7,"img",7)(8,"img",8)(9,"img",9)(10,"img",10)(11,"img",11)(12,"img",12)(13,"img",13)(14,"img",14),E(),I(15,"div",15)(16,"div",16)(17,"label",17),C(18,"No es posible jugar sin antes iniciar sesi\xf3n. \xa1Necesitamos identificarte!"),E()(),I(19,"div",18)(20,"div",19)(21,"a",20),C(22),E()(),I(23,"div",16)(24,"label",20),C(25),E(),Ie(26,"br"),I(27,"label",20),C(28),E()()(),I(29,"div",21)(30,"div",19)(31,"a",22),C(32),E()()(),I(33,"div",23)(34,"button",24),j("click",function(){return r.comenzarJuego()}),C(35,"Comenzar"),E()(),I(36,"div",25)(37,"button",26),j("click",function(){return r.esMayor()}),C(38,"Mayor"),E(),I(39,"button",27),j("click",function(){return r.esMenor()}),C(40,"Menor"),E()()()()),2&t&&(vt(22),Vr(r.stringNumerosProbados),vt(3),rs("Tu puntuaci\xf3n: ",r.puntaje,""),vt(3),rs("Tus vidas: ",r.vidas,""),vt(4),Vr(r.mensajeTemporal))},styles:[".bd-placeholder-img[_ngcontent-%COMP%]{padding:1rem}#expositor-cartas[_ngcontent-%COMP%]{display:flex;background-color:#fff;align-self:center;margin-left:3rem;margin-top:2rem;margin-bottom:2rem;padding-top:2rem}#expositor-menu[_ngcontent-%COMP%]{padding:1rem;width:100%;text-align:center;border-radius:5px}#error-container[_ngcontent-%COMP%]{text-align:center}#error-login-message[_ngcontent-%COMP%]{border:1px solid white;border-radius:10px;color:#d25a5a;padding:.5rem;width:100%;margin-top:1rem}.btnMenu[_ngcontent-%COMP%]{align-self:center;width:min-content;height:2rem;font-size:20px;margin:.5rem;border-radius:10px;text-align:center;font-family:Courier New,Courier,monospace;font-weight:600}#img-card-dorso-static[_ngcontent-%COMP%]{margin-bottom:1rem;margin-left:25%}#img-card-dorso[_ngcontent-%COMP%], #img-card1[_ngcontent-%COMP%], #img-card2[_ngcontent-%COMP%], #img-card3[_ngcontent-%COMP%], #img-card4[_ngcontent-%COMP%], #img-card5[_ngcontent-%COMP%], #img-card6[_ngcontent-%COMP%], #img-card7[_ngcontent-%COMP%], #img-card8[_ngcontent-%COMP%], #img-card9[_ngcontent-%COMP%], #img-card10[_ngcontent-%COMP%]{margin-left:25%;margin-top:40px}@media (max-width: 991px){#img-card-dorso[_ngcontent-%COMP%], #img-card1[_ngcontent-%COMP%], #img-card2[_ngcontent-%COMP%], #img-card3[_ngcontent-%COMP%], #img-card4[_ngcontent-%COMP%], #img-card5[_ngcontent-%COMP%], #img-card6[_ngcontent-%COMP%], #img-card7[_ngcontent-%COMP%], #img-card8[_ngcontent-%COMP%], #img-card9[_ngcontent-%COMP%], #img-card10[_ngcontent-%COMP%]{align-self:center;margin-left:0}}"]}),n})();var V,DK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jr={},vw=vw||{},X=DK||self;function Bh(){}function _w(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ww="closure_uid_"+(1e9*Math.random()>>>0),AK=0;function SK(n,e,t){return n.call.apply(n.bind,arguments)}function MK(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Mt(n,e,t){return(Mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?SK:MK).apply(null,arguments)}function jh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function xt(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Di(){this.s=this.s,this.o=this.o}var NK={};Di.prototype.s=!1,Di.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function TK(n){return Object.prototype.hasOwnProperty.call(n,ww)&&n[ww]||(n[ww]=++AK)}(this);delete NK[n]}},Di.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NN=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},RN=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function kN(n){return Array.prototype.concat.apply([],arguments)}function bw(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function $h(n){return/^[\s\xa0]*$/.test(n)}var Xt,ON=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Jt(n,e){return-1!=n.indexOf(e)}function Iw(n,e){return n<e?-1:n>e?1:0}e:{var PN=X.navigator;if(PN){var FN=PN.userAgent;if(FN){Xt=FN;break e}}Xt=""}function Ew(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function LN(n){const e={};for(const t in n)e[t]=n[t];return e}var VN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function UN(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<VN.length;s++)t=VN[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Cw(n){return Cw[" "](n),n}Cw[" "]=Bh;var Hh,n,OK=Jt(Xt,"Opera"),Jo=Jt(Xt,"Trident")||Jt(Xt,"MSIE"),BN=Jt(Xt,"Edge"),Dw=BN||Jo,jN=Jt(Xt,"Gecko")&&!(Jt(Xt.toLowerCase(),"webkit")&&!Jt(Xt,"Edge"))&&!(Jt(Xt,"Trident")||Jt(Xt,"MSIE"))&&!Jt(Xt,"Edge"),PK=Jt(Xt.toLowerCase(),"webkit")&&!Jt(Xt,"Edge");function $N(){var n=X.document;return n?n.documentMode:void 0}e:{var Tw="",Aw=(n=Xt,jN?/rv:([^\);]+)(\)|;)/.exec(n):BN?/Edge\/([\d\.]+)/.exec(n):Jo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):PK?/WebKit\/(\S+)/.exec(n):OK?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Aw&&(Tw=Aw?Aw[1]:""),Jo){var Sw=$N();if(null!=Sw&&Sw>parseFloat(Tw)){Hh=String(Sw);break e}}Hh=Tw}var FK={};var VK=X.document&&Jo&&($N()||parseInt(Hh,10))||void 0,UK=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{X.addEventListener("test",Bh,e),X.removeEventListener("test",Bh,e)}catch{}return n}();function $t(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function pl(n,e){if($t.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(jN){e:{try{Cw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:BK[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pl.Z.h.call(this)}}$t.prototype.h=function(){this.defaultPrevented=!0},xt(pl,$t);var BK={2:"touch",3:"pen",4:"mouse"};pl.prototype.h=function(){pl.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gl="closure_listenable_"+(1e6*Math.random()|0),jK=0;function $K(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++jK,this.ca=this.fa=!1}function Gh(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function qh(n){this.src=n,this.g={},this.h=0}function xw(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=NN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Gh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Nw(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}qh.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=Nw(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new $K(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var Rw="closure_lm_"+(1e6*Math.random()|0),kw={};function GN(n,e,t,r,i){if(r&&r.once)return zN(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)GN(n,e[s],t,r,i);return null}return t=Lw(t),n&&n[gl]?n.N(e,t,fl(r)?!!r.capture:!!r,i):qN(n,e,t,!1,r,i)}function qN(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=fl(i)?!!i.capture:!!i,a=Pw(n);if(a||(n[Rw]=a=new qh(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function HK(){var e=GK;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)UK||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(KN(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function zN(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)zN(n,e[s],t,r,i);return null}return t=Lw(t),n&&n[gl]?n.O(e,t,fl(r)?!!r.capture:!!r,i):qN(n,e,t,!0,r,i)}function WN(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)WN(n,e[s],t,r,i);else r=fl(r)?!!r.capture:!!r,t=Lw(t),n&&n[gl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Nw(s=n.g[e],t,r,i))&&(Gh(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Pw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Nw(e,t,r,i)),(t=-1<n?e[n]:null)&&Ow(t))}function Ow(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[gl])xw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(KN(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Pw(e))?(xw(t,n),0==t.h&&(t.src=null,e[Rw]=null)):Gh(n)}}}function KN(n){return n in kw?kw[n]:kw[n]="on"+n}function GK(n,e){if(n.ca)n=!0;else{e=new pl(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Ow(n),n=t.call(r,e)}return n}function Pw(n){return(n=n[Rw])instanceof qh?n:null}var Fw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lw(n){return"function"==typeof n?n:(n[Fw]||(n[Fw]=function(e){return n.handleEvent(e)}),n[Fw])}function bt(){Di.call(this),this.i=new qh(this),this.P=this,this.I=null}function Nt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new $t(e,n);else if(e instanceof $t)e.target=e.target||n;else{var i=e;UN(e=new $t(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=zh(o,r,!0,e)&&i}if(i=zh(o=e.g=n,r,!0,e)&&i,i=zh(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=zh(o=e.g=t[s],r,!1,e)&&i}function zh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,u=o.ia||o.src;o.fa&&xw(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}xt(bt,Di),bt.prototype[gl]=!0,bt.prototype.removeEventListener=function(n,e,t,r){WN(this,n,e,t,r)},bt.prototype.M=function(){if(bt.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Gh(t[r]);delete n.g[e],n.h--}}this.I=null},bt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},bt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Vw=X.JSON.stringify;function qK(){var n=YN;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Bw,QN=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new WK,n=>n.reset());class WK{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function KK(n){X.setTimeout(()=>{throw n},0)}function Uw(n,e){Bw||function QK(){var n=X.Promise.resolve(void 0);Bw=function(){n.then(YK)}}(),jw||(Bw(),jw=!0),YN.add(n,e)}var jw=!1,YN=new class zK{constructor(){this.h=this.g=null}add(e,t){const r=QN.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function YK(){for(var n;n=qK();){try{n.h.call(n.g)}catch(t){KK(t)}var e=QN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}jw=!1}function Wh(n,e){bt.call(this),this.h=n||1,this.g=e||X,this.j=Mt(this.kb,this),this.l=Date.now()}function $w(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Hw(n,e,t){if("function"==typeof n)t&&(n=Mt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Mt(n.handleEvent,n)}return 2147483647<Number(e)?-1:X.setTimeout(n,e||0)}function ZN(n){n.g=Hw(()=>{n.g=null,n.i&&(n.i=!1,ZN(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xt(Wh,bt),(V=Wh.prototype).da=!1,V.S=null,V.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nt(this,"tick"),this.da&&($w(this),this.start()))}},V.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},V.M=function(){Wh.Z.M.call(this),$w(this),delete this.g};class ZK extends Di{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZN(this)}M(){super.M(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ml(n){Di.call(this),this.h=n,this.g={}}xt(ml,Di);var JN=[];function XN(n,e,t,r){Array.isArray(t)||(t&&(JN[0]=t.toString()),t=JN);for(var i=0;i<t.length;i++){var s=GN(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function eR(n){Ew(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ow(e)},n),n.g={}}function Kh(){this.g=!0}function Xo(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function t9(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Vw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ml.prototype.M=function(){ml.Z.M.call(this),eR(this)},ml.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kh.prototype.Aa=function(){this.g=!1},Kh.prototype.info=function(){};var Is={},tR=null;function Qh(){return tR=tR||new bt}function nR(n){$t.call(this,Is.Ma,n)}function yl(n){const e=Qh();Nt(e,new nR(e,n))}function rR(n,e){$t.call(this,Is.STAT_EVENT,n),this.stat=e}function en(n){const e=Qh();Nt(e,new rR(e,n))}function iR(n,e){$t.call(this,Is.Na,n),this.size=e}function vl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){n()},e)}Is.Ma="serverreachability",xt(nR,$t),Is.STAT_EVENT="statevent",xt(rR,$t),Is.Na="timingevent",xt(iR,$t);var Yh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gw(){}function aR(){}Gw.prototype.h=null;var Ww,_l={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qw(){$t.call(this,"d")}function zw(){$t.call(this,"c")}function Zh(){}function wl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new ml(this),this.P=n9,this.W=new Wh(n=Dw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new uR}function uR(){this.i=null,this.g="",this.h=!1}xt(qw,$t),xt(zw,$t),xt(Zh,Gw),Zh.prototype.g=function(){return new XMLHttpRequest},Zh.prototype.i=function(){return{}},Ww=new Zh;var n9=45e3,Kw={},Jh={};function Qw(n,e,t){n.K=1,n.v=rf(Xr(e)),n.s=t,n.U=!0,lR(n,null)}function lR(n,e){n.F=Date.now(),bl(n),n.A=Xr(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),vR(t.h,"t",r),n.C=0,t=n.l.H,n.h=new uR,n.g=jR(n.l,t?e:null,!n.s),0<n.O&&(n.L=new ZK(Mt(n.Ia,n,n.g),n.O)),XN(n.V,n.g,"readystatechange",n.gb),e=n.H?LN(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),yl(1),function JK(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function cR(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function dR(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=r9(n,t),i==Jh){4==e&&(n.o=4,en(14),r=!1),Xo(n.j,n.m,null,"[Incomplete Response]");break}if(i==Kw){n.o=4,en(15),Xo(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Xo(n.j,n.m,i,null),Yw(n,i)}cR(n)&&i!=Jh&&i!=Kw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,en(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ab(e),e.L=!0,en(11))):(Xo(n.j,n.m,t,"[Invalid Chunked Response]"),Es(n),Il(n))}function r9(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Jh:(t=Number(e.substring(t,r)),isNaN(t)?Kw:(r+=1)+t>e.length?Jh:(e=e.substr(r,t),n.C=r+t,e))}function bl(n){n.Y=Date.now()+n.P,hR(n,n.P)}function hR(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vl(Mt(n.eb,n),e)}function Xh(n){n.B&&(X.clearTimeout(n.B),n.B=null)}function Il(n){0==n.l.G||n.I||LR(n.l,n)}function Es(n){Xh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,$w(n.W),eR(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Yw(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Xw(t.i,n)))if(t.I=n.N,!n.J&&Xw(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;df(t),lf(t)}ob(t),en(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=vl(Mt(t.ab,t),6e3));if(1>=bR(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Ts(t,11)}else if((n.J||t.g==n)&&df(t),!$h(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.U=l[0],l=l[1],2==t.G)if("c"==l[0]){t.J=l[1],t.la=l[2];const c=l[3];null!=c&&(t.ma=c,t.h.info("VER="+t.ma));const d=l[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Jt(p,"spdy")||Jt(p,"quic")||Jt(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(eb(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Pe(r.F,r.D,g))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=BR(r,r.H?r.la:null,r.W),o.J){IR(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Xh(a),bl(a)),r.g=o}else PR(r);0<t.l.length&&cf(t)}else"stop"!=l[0]&&"close"!=l[0]||Ts(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ts(t,7):ib(t):"noop"!=l[0]&&t.j&&t.j.wa(l),t.A=0)}yl(4)}catch{}}function Zw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(_w(n)||"string"==typeof n)RN(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(_w(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function i9(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(_w(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function ea(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ea)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Jw(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Cs(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Cs(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Cs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(V=wl.prototype).setTimeout=function(n){this.P=n},V.gb=function(n){n=n.target;const e=this.L;e&&3==ei(n)?e.l():this.Ia(n)},V.Ia=function(n){try{if(n==this.g)e:{const c=ei(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||Dw||this.g&&(this.h.h||this.g.ga()||xR(this.g)))){this.I||4!=c||7==e||yl(8==e||0>=d?3:2),Xh(this);var t=this.g.ba();this.N=t;t:if(cR(this)){var r=xR(this.g);n="";var i=r.length,s=4==ei(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),Il(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function XK(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$h(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,en(12),Es(this),Il(this);break e}Xo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yw(this,t)}this.U?(dR(this,c,o),Dw&&this.i&&3==c&&(XN(this.V,this.W,"tick",this.fb),this.W.start())):(Xo(this.j,this.m,o,null),Yw(this,o)),4==c&&Es(this),this.i&&!this.I&&(4==c?LR(this.l,this):(this.i=!1,bl(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,en(12)):(this.o=0,en(13)),Es(this),Il(this)}}}catch{}},V.fb=function(){if(this.g){var n=ei(this.g),e=this.g.ga();this.C<e.length&&(Xh(this),dR(this,n,e),this.i&&4!=n&&bl(this))}},V.cancel=function(){this.I=!0,Es(this)},V.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function e9(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(yl(3),en(17)),Es(this),this.o=2,Il(this)):hR(this,this.Y-n)},(V=ea.prototype).R=function(){Jw(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},V.T=function(){return Jw(this),this.g.concat()},V.get=function(n,e){return Cs(this.h,n)?this.h[n]:e},V.set=function(n,e){Cs(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},V.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var fR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ds(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ds){this.g=void 0!==e?e:n.g,ef(this,n.j),this.s=n.s,tf(this,n.i),nf(this,n.m),this.l=n.l,e=n.h;var t=new Dl;t.i=e.i,e.g&&(t.g=new ea(e.g),t.h=e.h),pR(this,t),this.o=n.o}else n&&(t=String(n).match(fR))?(this.g=!!e,ef(this,t[1]||"",!0),this.s=El(t[2]||""),tf(this,t[3]||"",!0),nf(this,t[4]),this.l=El(t[5]||"",!0),pR(this,t[6]||"",!0),this.o=El(t[7]||"")):(this.g=!!e,this.h=new Dl(null,this.g))}function Xr(n){return new Ds(n)}function ef(n,e,t){n.j=t?El(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function tf(n,e,t){n.i=t?El(e,!0):e}function nf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function pR(n,e,t){e instanceof Dl?(n.h=e,function f9(n,e){e&&!n.j&&(Ti(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(mR(this,r),vR(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Cl(e,d9)),n.h=new Dl(e,n.g))}function Pe(n,e,t){n.h.set(e,t)}function rf(n){return Pe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function El(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Cl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,u9),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function u9(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ds.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Cl(e,gR,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Cl(e,gR,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Cl(t,"/"==t.charAt(0)?c9:l9,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Cl(t,h9)),n.join("")};var gR=/[#\/\?@]/g,l9=/[#\?:]/g,c9=/[#\?]/g,d9=/[#\?@]/g,h9=/#/g;function Dl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ti(n){n.g||(n.g=new ea,n.h=0,n.i&&function s9(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mR(n,e){Ti(n),e=ta(n,e),Cs(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Cs((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Jw(n)))}function yR(n,e){return Ti(n),e=ta(n,e),Cs(n.g.h,e)}function vR(n,e,t){mR(n,e),0<t.length&&(n.i=null,n.g.set(ta(n,e),bw(t)),n.h+=t.length)}function ta(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function _R(n){this.l=n||g9,n=X.PerformanceNavigationTiming?0<(n=X.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(X.g&&X.g.Ea&&X.g.Ea()&&X.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(V=Dl.prototype).add=function(n,e){Ti(this),this.i=null,n=ta(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},V.forEach=function(n,e){Ti(this),this.g.forEach(function(t,r){RN(t,function(i){n.call(e,i,r,this)},this)},this)},V.T=function(){Ti(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},V.R=function(n){Ti(this);var e=[];if("string"==typeof n)yR(this,n)&&(e=kN(e,this.g.get(ta(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=kN(e,n[t])}return e},V.set=function(n,e){return Ti(this),this.i=null,yR(this,n=ta(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},V.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},V.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var g9=10;function wR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function bR(n){return n.h?1:n.g?n.g.size:0}function Xw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function eb(n,e){n.g?n.g.add(e):n.h=e}function IR(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ER(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return bw(n.i)}function tb(){}function m9(){this.g=new tb}function y9(n,e,t){const r=t||"";try{Zw(n,function(i,s){let o=i;fl(i)&&(o=Vw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function sf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Tl(n){this.l=n.$b||null,this.j=n.ib||!1}function af(n,e){bt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=nb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_R.prototype.cancel=function(){if(this.i=ER(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},tb.prototype.stringify=function(n){return X.JSON.stringify(n,void 0)},tb.prototype.parse=function(n){return X.JSON.parse(n,void 0)},xt(Tl,Gw),Tl.prototype.g=function(){return new af(this.l,this.j)},Tl.prototype.i=function(n){return function(){return n}}({}),xt(af,bt);var nb=0;function CR(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Al(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Sl(n)}function Sl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(V=af.prototype).open=function(n,e){if(this.readyState!=nb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Sl(this)},V.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||X).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Al(this)),this.readyState=nb},V.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sl(this)),this.g&&(this.readyState=3,Sl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;CR(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},V.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Al(this):Sl(this),3==this.readyState&&CR(this)}},V.Ua=function(n){this.g&&(this.response=this.responseText=n,Al(this))},V.Ta=function(n){this.g&&(this.response=n,Al(this))},V.ha=function(){this.g&&Al(this)},V.setRequestHeader=function(n,e){this.v.append(n,e)},V.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},V.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(af.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _9=X.JSON.parse;function it(n){bt.call(this),this.headers=new ea,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=DR,this.K=this.L=!1}xt(it,bt);var DR="",w9=/^https?$/i,b9=["POST","PUT"];function E9(n){return"content-type"==n.toLowerCase()}function TR(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,AR(n),uf(n)}function AR(n){n.D||(n.D=!0,Nt(n,"complete"),Nt(n,"error"))}function SR(n){if(n.h&&typeof vw<"u"&&(!n.C[1]||4!=ei(n)||2!=n.ba()))if(n.v&&4==ei(n))Hw(n.Fa,0,n);else if(Nt(n,"readystatechange"),4==ei(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(fR)[1]||null;if(!i&&X.self&&X.self.location){var s=X.self.location.protocol;i=s.substr(0,s.length-1)}r=!w9.test(i?i.toLowerCase():"")}t=r}if(t)Nt(n,"complete"),Nt(n,"success");else{n.m=6;try{var o=2<ei(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.ba()+"]",AR(n)}}finally{uf(n)}}}function uf(n,e){if(n.g){MR(n);const t=n.g,r=n.C[0]?Bh:null;n.g=null,n.C=null,e||Nt(n,"ready");try{t.onreadystatechange=r}catch{}}}function MR(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(X.clearTimeout(n.A),n.A=null)}function ei(n){return n.g?n.g.readyState:0}function xR(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case DR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function rb(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function C9(n){let e="";return Ew(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pe(n,e,t))}function Ml(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function NR(n){this.za=0,this.l=[],this.h=new Kh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ml("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ml("baseRetryDelayMs",5e3,n),this.$a=Ml("retryDelaySeedMs",1e4,n),this.Ya=Ml("forwardChannelMaxRetries",2,n),this.ra=Ml("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new _R(n&&n.concurrentRequestLimit),this.Ca=new m9,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ib(n){if(RR(n),3==n.G){var e=n.V++,t=Xr(n.F);Pe(t,"SID",n.J),Pe(t,"RID",e),Pe(t,"TYPE","terminate"),xl(n,t),(e=new wl(n,n.h,e,void 0)).K=2,e.v=rf(Xr(t)),t=!1,X.navigator&&X.navigator.sendBeacon&&(t=X.navigator.sendBeacon(e.v.toString(),"")),!t&&X.Image&&((new Image).src=e.v,t=!0),t||(e.g=jR(e.l,null),e.g.ea(e.v)),e.F=Date.now(),bl(e)}UR(n)}function lf(n){n.g&&(ab(n),n.g.cancel(),n.g=null)}function RR(n){lf(n),n.u&&(X.clearTimeout(n.u),n.u=null),df(n),n.i.cancel(),n.m&&("number"==typeof n.m&&X.clearTimeout(n.m),n.m=null)}function sb(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&cf(n)}function cf(n){wR(n.i)||n.m||(n.m=!0,Uw(n.Ha,n),n.C=0)}function kR(n,e){var t;t=e?e.m:n.V++;const r=Xr(n.F);Pe(r,"SID",n.J),Pe(r,"RID",t),Pe(r,"AID",n.U),xl(n,r),n.o&&n.s&&rb(r,n.o,n.s),t=new wl(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=OR(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),eb(n.i,t),Qw(t,r,e)}function xl(n,e){n.j&&Zw({},function(t,r){Pe(e,r,t)})}function OR(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Mt(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{y9(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function PR(n){n.g||n.u||(n.Y=1,Uw(n.Ga,n),n.A=0)}function ob(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=vl(Mt(n.Ga,n),VR(n,n.A)),n.A++,0))}function ab(n){null!=n.B&&(X.clearTimeout(n.B),n.B=null)}function FR(n){n.g=new wl(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Xr(n.oa);Pe(e,"RID","rpc"),Pe(e,"SID",n.J),Pe(e,"CI",n.N?"0":"1"),Pe(e,"AID",n.U),xl(n,e),Pe(e,"TYPE","xmlhttp"),n.o&&n.s&&rb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=rf(Xr(e)),t.s=null,t.U=!0,lR(t,n)}function df(n){null!=n.v&&(X.clearTimeout(n.v),n.v=null)}function LR(n,e){var t=null;if(n.g==e){df(n),ab(n),n.g=null;var r=2}else{if(!Xw(n.i,e))return;t=e.D,IR(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Nt(r=Qh(),new iR(r,t,e,i)),cf(n)}else PR(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function D9(n,e){return!(bR(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=vl(Mt(n.Ha,n,e),VR(n,n.C)),n.C++,0)))}(n,e)||2==r&&ob(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ts(n,5);break;case 4:Ts(n,10);break;case 3:Ts(n,6);break;default:Ts(n,2)}}function VR(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ts(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Mt(n.jb,n);t||(t=new Ds("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||ef(t,"https"),rf(t)),function v9(n,e){const t=new Kh;if(X.Image){const r=new Image;r.onload=jh(sf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=jh(sf,t,r,"TestLoadImage: error",!1,e),r.onabort=jh(sf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=jh(sf,t,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else en(2);n.G=0,n.j&&n.j.va(e),UR(n),RR(n)}function UR(n){n.G=0,n.I=-1,n.j&&((0!=ER(n.i).length||0!=n.l.length)&&(n.i.i.length=0,bw(n.l),n.l.length=0),n.j.ua())}function BR(n,e,t){let r=function o9(n){return n instanceof Ds?Xr(n):new Ds(n,void 0)}(t);if(""!=r.i)e&&tf(r,e+"."+r.i),nf(r,r.m);else{const i=X.location;r=function a9(n,e,t,r){var i=new Ds(null,void 0);return n&&ef(i,n),e&&tf(i,e),t&&nf(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Ew(n.aa,function(i,s){Pe(r,s,i)}),t=n.sa,(e=n.D)&&t&&Pe(r,e,t),Pe(r,"VER",n.ma),xl(n,r),r}function jR(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new it(t&&n.Ba&&!n.qa?new Tl({ib:!0}):n.qa)).L=n.H,e}function $R(){}function hf(){if(Jo&&!(10<=Number(VK)))throw Error("Environmental error: no available transport.")}function Tn(n,e){bt.call(this),this.g=new NR(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!$h(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$h(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new na(this)}function HR(n){qw.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function GR(){zw.call(this),this.status=1}function na(n){this.g=n}(V=it.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ww.g(),this.C=function oR(n){return n.h||(n.h=n.i())}(this.u?this.u:Ww),this.g.onreadystatechange=Mt(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void TR(this,s)}n=t||"";const i=new ea(this.headers);r&&Zw(r,function(s,o){i.set(o,s)}),r=function RK(n){e:{var e=E9;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=X.FormData&&n instanceof X.FormData,!(0<=NN(b9,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{MR(this),0<this.B&&((this.K=function I9(n){return Jo&&function LK(){return function kK(n){var e=FK;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ON(String(Hh)).split("."),t=ON("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=Iw(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Iw(0==i[2].length,0==s[2].length)||Iw(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.pa,this)):this.A=Hw(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){TR(this,s)}},V.pa=function(){typeof vw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))},V.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Nt(this,"complete"),Nt(this,"abort"),uf(this))},V.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uf(this,!0)),it.Z.M.call(this)},V.Fa=function(){this.s||(this.F||this.v||this.l?SR(this):this.cb())},V.cb=function(){SR(this)},V.ba=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},V.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},V.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_9(e)}},V.Da=function(){return this.m},V.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(V=NR.prototype).ma=8,V.G=1,V.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},V.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new wl(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=LN(s),UN(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=OR(this,i,e),Pe(t=Xr(this.F),"RID",n),Pe(t,"CVER",22),this.D&&Pe(t,"X-HTTP-Session-Id",this.D),xl(this,t),this.o&&s&&rb(t,this.o,s),eb(this.i,i),this.Ra&&Pe(t,"TYPE","init"),this.ja?(Pe(t,"$req",e),Pe(t,"SID","null"),i.$=!0,Qw(i,t,null)):Qw(i,t,e),this.G=2}}else 3==this.G&&(n?kR(this,n):0==this.l.length||wR(this.i)||kR(this))},V.Ga=function(){if(this.u=null,FR(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=vl(Mt(this.bb,this),n)}},V.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,en(10),lf(this),FR(this))},V.ab=function(){null!=this.v&&(this.v=null,lf(this),ob(this),en(19))},V.jb=function(n){n?(this.h.info("Successfully pinged google.com"),en(2)):(this.h.info("Failed to ping google.com"),en(1))},(V=$R.prototype).xa=function(){},V.wa=function(){},V.va=function(){},V.ua=function(){},V.Oa=function(){},hf.prototype.g=function(n,e){return new Tn(n,e)},xt(Tn,bt),Tn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Uw(Mt(n.hb,n,e))),en(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=BR(n,null,n.W),cf(n)},Tn.prototype.close=function(){ib(this.g)},Tn.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,sb(this.g,e)}else this.v?((e={}).__data__=Vw(n),sb(this.g,e)):sb(this.g,n)},Tn.prototype.M=function(){this.g.j=null,delete this.j,ib(this.g),delete this.g,Tn.Z.M.call(this)},xt(HR,qw),xt(GR,zw),xt(na,$R),na.prototype.xa=function(){Nt(this.g,"a")},na.prototype.wa=function(n){Nt(this.g,new HR(n))},na.prototype.va=function(n){Nt(this.g,new GR(n))},na.prototype.ua=function(){Nt(this.g,"b")},hf.prototype.createWebChannel=hf.prototype.g,Tn.prototype.send=Tn.prototype.u,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,Yh.NO_ERROR=0,Yh.TIMEOUT=8,Yh.HTTP_ERROR=6,sR.COMPLETE="complete",aR.EventType=_l,_l.OPEN="a",_l.CLOSE="b",_l.ERROR="c",_l.MESSAGE="d",bt.prototype.listen=bt.prototype.N,it.prototype.listenOnce=it.prototype.O,it.prototype.getLastError=it.prototype.La,it.prototype.getLastErrorCode=it.prototype.Da,it.prototype.getStatus=it.prototype.ba,it.prototype.getResponseJson=it.prototype.Qa,it.prototype.getResponseText=it.prototype.ga,it.prototype.send=it.prototype.ea;var T9=Jr.createWebChannelTransport=function(){return new hf},A9=Jr.getStatEventTarget=function(){return Qh()},ub=Jr.ErrorCode=Yh,S9=Jr.EventType=sR,M9=Jr.Event=Is,qR=Jr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},x9=Jr.FetchXmlHttpFactory=Tl,ff=Jr.WebChannel=aR,N9=Jr.XhrIo=it;const zR="@firebase/firestore";class It{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");let ra="9.9.4";const Ai=new cv("@firebase/firestore");function lb(){return Ai.logLevel}function M(n,...e){if(Ai.logLevel<=me.DEBUG){const t=e.map(cb);Ai.debug(`Firestore (${ra}): ${n}`,...t)}}function Ke(n,...e){if(Ai.logLevel<=me.ERROR){const t=e.map(cb);Ai.error(`Firestore (${ra}): ${n}`,...t)}}function ia(n,...e){if(Ai.logLevel<=me.WARN){const t=e.map(cb);Ai.warn(`Firestore (${ra}): ${n}`,...t)}}function cb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function U(n="Unexpected state"){const e=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: `+n;throw Ke(e),new Error(e)}function Z(n,e){n||U()}function O(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends Wr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Et{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class WR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(It.UNAUTHENTICATED))}shutdown(){}}class O9{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Et;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Et,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Et)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z("string"==typeof r.accessToken),new WR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(null===e||"string"==typeof e),new It(e)}}class P9{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=It.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Z(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class F9{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new P9(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L9{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Z("string"==typeof t.token),this.A=t.token,new KR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function V9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class QR{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=V9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ee(n,e){return n<e?-1:n>e?1:0}function sa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Ue{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ue(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new Ue(0,0))}static max(){return new W(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nl{constructor(e,t,r){void 0===t?t=0:t>e.length&&U(),void 0===r?r=e.length-t:r>e.length-t&&U(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Nl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fe extends Nl{construct(e,t,r){return new fe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new fe(t)}static emptyPath(){return new fe([])}}const U9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Nl{construct(e,t,r){return new Qe(e,t,r)}static isValidIdentifier(e){return U9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(t)}static emptyPath(){return new Qe([])}}class k{constructor(e){this.path=e}static fromPath(e){return new k(fe.fromString(e))}static fromName(e){return new k(fe.fromString(e).popFirst(5))}static empty(){return new k(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new k(new fe(e.slice()))}}function JR(n){return new An(n.readTime,n.key,-1)}class An{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new An(W.min(),k.empty(),-1)}static max(){return new An(W.max(),k.empty(),-1)}}function hb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=k.comparator(n.documentKey,e.documentKey),0!==t?t:ee(n.largestBatchId,e.largestBatchId))}const XR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Si(n){return fb.apply(this,arguments)}function fb(){return fb=m(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==XR)throw n;M("LocalStore","Unexpectedly lost primary lease")}),fb.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof v?t:v.resolve(t)}catch(t){return v.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):v.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):v.reject(t)}static resolve(e){return new v((t,r)=>{t(e)})}static reject(e){return new v((t,r)=>{r(e)})}static waitFor(e){return new v((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=v.resolve(!1);for(const r of e)t=t.next(i=>i?v.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;t(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new v((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Mi(n){return"IndexedDbTransactionError"===n.name}class dn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function tk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}dn.at=-1;class He{constructor(e,t){this.comparator=e,this.root=t||Rt.EMPTY}insert(e,t){return new He(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Rt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1,Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Rt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ee{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rk(this.data.getIterator())}getIteratorFrom(e){return new rk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ee)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ee(this.comparator);return t.data=e,t}}class rk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new Ee(Qe.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const W9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(n){if(Z(!!n),"string"==typeof n){let e=0;const t=W9.exec(n);if(Z(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(n.seconds),nanos:Ge(n.nanos)}}function Ge(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xs(n){return"string"==typeof n?pt.fromBase64String(n):pt.fromUint8Array(n)}function gb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ik(n){const e=n.mapValue.fields.__previous_value__;return gb(e)?ik(e):e}function Ol(n){const e=xi(n.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}class K9{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Ns{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ns("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ns&&e.projectId===this.projectId&&e.database===this.database}}function Pl(n){return null==n}function Fl(n){return 0===n&&1/n==-1/0}const Ni_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gb(n)?4:lk(n)?9007199254740991:10:U()}function br(n,e){if(n===e)return!0;const t=Rs(n);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ol(n).isEqual(Ol(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=xi(r.timestampValue),o=xi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,xs(n.bytesValue).isEqual(xs(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ge(r.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ge(r.integerValue)===Ge(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ge(r.doubleValue),o=Ge(i.doubleValue);return s===o?Fl(s)===Fl(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return sa(n.arrayValue.values||[],e.arrayValue.values||[],br);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(tk(s)!==tk(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!br(s[a],o[a])))return!1;return!0}(n,e);default:return U()}var i}function Ll(n,e){return void 0!==(n.values||[]).find(t=>br(t,e))}function Ri(n,e){if(n===e)return 0;const t=Rs(n),r=Rs(e);if(t!==r)return ee(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ee(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ge(i.integerValue||i.doubleValue),a=Ge(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return ok(n.timestampValue,e.timestampValue);case 4:return ok(Ol(n),Ol(e));case 5:return ee(n.stringValue,e.stringValue);case 6:return function(i,s){const o=xs(i),a=xs(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=ee(o[u],a[u]);if(0!==l)return l}return ee(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ee(Ge(i.latitude),Ge(s.latitude));return 0!==o?o:ee(Ge(i.longitude),Ge(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Ri(o[u],a[u]);if(l)return l}return ee(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ni_mapValue&&s===Ni_mapValue)return 0;if(i===Ni_mapValue)return 1;if(s===Ni_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=ee(a[c],l[c]);if(0!==d)return d;const h=Ri(o[a[c]],u[l[c]]);if(0!==h)return h}return ee(a.length,l.length)}(n.mapValue,e.mapValue);default:throw U()}}function ok(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ee(n,e);const t=xi(n),r=xi(e),i=ee(t.seconds,r.seconds);return 0!==i?i:ee(t.nanos,r.nanos)}function aa(n){return mb(n)}function mb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=xi(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xs(n.bytesValue).toBase64():"referenceValue"in n?k.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=mb(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${mb(r.fields[a])}`;return s+"}"}(n.mapValue):U();var e}function yb(n){return!!n&&"integerValue"in n}function Vl(n){return!!n&&"arrayValue"in n}function ak(n){return!!n&&"nullValue"in n}function uk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _f(n){return!!n&&"mapValue"in n}function Ul(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ms(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ul(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ul(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(t)}setAll(e){let t=Qe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Ul(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());_f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];_f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ms(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kt(Ul(this.value))}}function hk(n){const e=[];return Ms(n.fields,(t,r)=>{const i=new Qe([t]);if(_f(r)){const s=hk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}class Re{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Re(e,0,W.min(),W.min(),kt.empty(),0)}static newFoundDocument(e,t,r){return new Re(e,1,t,W.min(),r,0)}static newNoDocument(e,t){return new Re(e,2,t,W.min(),kt.empty(),0)}static newUnknownDocument(e,t){return new Re(e,3,t,W.min(),kt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Re&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Re(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Z9{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function fk(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Z9(n,e,t,r,i,s,o)}function Os(n){const e=O(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+aa(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Pl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>aa(r)).join(",")),e.ht=t}return e.ht}function Bl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!oQ(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!br(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vk(n.startAt,e.startAt)&&vk(n.endAt,e.endAt)}function wf(n){return k.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ot extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new X9(e,t,r):"array-contains"===t?new nQ(e,r):"in"===t?new rQ(e,r):"not-in"===t?new iQ(e,r):"array-contains-any"===t?new sQ(e,r):new Ot(e,t,r)}static lt(e,t,r){return"in"===t?new eQ(e,r):new tQ(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ri(t,this.value)):null!==t&&Rs(this.value)===Rs(t)&&this.ft(Ri(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return U()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class X9 extends Ot{constructor(e,t,r){super(e,t,r),this.key=k.fromName(r.referenceValue)}matches(e){const t=k.comparator(e.key,this.key);return this.ft(t)}}class eQ extends Ot{constructor(e,t){super(e,"in",t),this.keys=mk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tQ extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=mk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>k.fromName(r.referenceValue))}class nQ extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vl(t)&&Ll(t.arrayValue,this.value)}}class rQ extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ll(this.value.arrayValue,t)}}class iQ extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ll(this.value.arrayValue,t)}}class sQ extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ll(this.value.arrayValue,r))}}class ki{constructor(e,t){this.position=e,this.inclusive=t}}class ua{constructor(e,t="asc"){this.field=e,this.dir=t}}function oQ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function yk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?k.comparator(k.fromName(o.referenceValue),t.key):Ri(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function vk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!br(n.position[t],e.position[t]))return!1;return!0}class ti{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this._t=null,this.wt=null}}function la(n){return new ti(n)}function wk(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ca(n){const e=O(n);if(null===e._t){e._t=[];const t=function _b(n){for(const e of n.filters)if(e.dt())return e.field;return null}(e),r=function vb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new ua(t)),e._t.push(new ua(Qe.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ua(Qe.keyField(),s))}}}return e._t}function hn(n){const e=O(n);if(!e.wt)if("F"===e.limitType)e.wt=fk(e.path,e.collectionGroup,ca(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of ca(e))t.push(new ua(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ki(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ki(e.startAt.position,e.startAt.inclusive):null;e.wt=fk(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function If(n,e,t){return new ti(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jl(n,e){return Bl(hn(n),hn(e))&&n.limitType===e.limitType}function bk(n){return`${Os(hn(n))}|lt:${n.limitType}`}function bb(n){return`Query(target=${function J9(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${aa(r.value)}`;var r}).join(", ")}]`),Pl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>aa(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>aa(t)).join(",")),`Target(${e})`}(hn(n))}; limitType=${n.limitType})`}function Ib(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):k.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=yk(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,ca(t),r)||t.endAt&&!function(i,s,o){const a=yk(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,ca(t),r)));var t,r}function Ek(n){return(e,t)=>{let r=!1;for(const i of ca(n)){const s=aQ(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function aQ(n,e,t){const r=n.field.isKeyField()?k.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ri(a,u):U()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}function Ck(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fl(e)?"-0":e}}function Dk(n){return{integerValue:""+n}}function Tk(n,e){return function sk(n){return"number"==typeof n&&Number.isInteger(n)&&!Fl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Dk(e):Ck(n,e)}class Ef{constructor(){this._=void 0}}function uQ(n,e,t){return n instanceof da?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ps?Sk(n,e):n instanceof Fs?Mk(n,e):function(r,i){const s=Ak(r,i),o=xk(s)+xk(r.yt);return yb(s)&&yb(r.yt)?Dk(o):Ck(r.It,o)}(n,e)}function lQ(n,e,t){return n instanceof Ps?Sk(n,e):n instanceof Fs?Mk(n,e):t}function Ak(n,e){return n instanceof ha?yb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class da extends Ef{}class Ps extends Ef{constructor(e){super(),this.elements=e}}function Sk(n,e){const t=Nk(e);for(const r of n.elements)t.some(i=>br(i,r))||t.push(r);return{arrayValue:{values:t}}}class Fs extends Ef{constructor(e){super(),this.elements=e}}function Mk(n,e){let t=Nk(e);for(const r of n.elements)t=t.filter(i=>!br(i,r));return{arrayValue:{values:t}}}class ha extends Ef{constructor(e,t){super(),this.It=e,this.yt=t}}function xk(n){return Ge(n.integerValue||n.doubleValue)}function Nk(n){return Vl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dQ{constructor(e,t){this.version=e,this.transformResults=t}}class Fe{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fe}static exists(e){return new Fe(void 0,e)}static updateTime(e){return new Fe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Df{}function Rk(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new pa(n.key,Fe.none()):new fa(n.key,n.data,Fe.none());{const t=n.data,r=kt.empty();let i=new Ee(Qe.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ni(n.key,r,new Sn(i.toArray()),Fe.none())}}function hQ(n,e,t){n instanceof fa?function(r,i,s){const o=r.value.clone(),a=Pk(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof ni?function(r,i,s){if(!Cf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Pk(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Ok(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hl(n,e,t,r){return n instanceof fa?function(i,s,o,a){if(!Cf(i.precondition,s))return o;const u=i.value.clone(),l=Fk(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof ni?function(i,s,o,a){if(!Cf(i.precondition,s))return o;const u=Fk(i.fieldTransforms,a,s),l=s.data;return l.setAll(Ok(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(n,e,t,r):(o=t,Cf(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function fQ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Ak(r.transform,i||null);null!=s&&(null===t&&(t=kt.empty()),t.set(r.field,s))}return t||null}function kk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&sa(t,r,(i,s)=>function cQ(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ps&&r instanceof Ps||t instanceof Fs&&r instanceof Fs?sa(t.elements,r.elements,br):t instanceof ha&&r instanceof ha?br(t.yt,r.yt):t instanceof da&&r instanceof da);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class fa extends Df{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ni extends Df{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ok(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Pk(n,e,t){const r=new Map;Z(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lQ(o,a,t[i]))}return r}function Fk(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,uQ(s,o,e))}return r}class pa extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eb extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pQ{constructor(e){this.count=e}}var st,pe;function Lk(n){switch(n){default:return U();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function Vk(n){if(void 0===n)return Ke("GRPC error has no .code"),w.UNKNOWN;switch(n){case st.OK:return w.OK;case st.CANCELLED:return w.CANCELLED;case st.UNKNOWN:return w.UNKNOWN;case st.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case st.INTERNAL:return w.INTERNAL;case st.UNAVAILABLE:return w.UNAVAILABLE;case st.UNAUTHENTICATED:return w.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case st.NOT_FOUND:return w.NOT_FOUND;case st.ALREADY_EXISTS:return w.ALREADY_EXISTS;case st.PERMISSION_DENIED:return w.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case st.ABORTED:return w.ABORTED;case st.OUT_OF_RANGE:return w.OUT_OF_RANGE;case st.UNIMPLEMENTED:return w.UNIMPLEMENTED;case st.DATA_LOSS:return w.DATA_LOSS;default:return U()}}(pe=st||(st={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class Oi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nk(this.inner)}size(){return this.innerSize}}const gQ=new He(k.comparator);function fn(){return gQ}const Uk=new He(k.comparator);function Gl(...n){let e=Uk;for(const t of n)e=e.insert(t.key,t);return e}function Bk(n){let e=Uk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ir(){return ql()}function jk(){return ql()}function ql(){return new Oi(n=>n.toString(),(n,e)=>n.isEqual(e))}const mQ=new He(k.comparator),yQ=new Ee(k.comparator);function ie(...n){let e=yQ;for(const t of n)e=e.add(t);return e}const vQ=new Ee(ee);function Tf(){return vQ}class zl{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,t)),new zl(W.min(),r,Tf(),fn(),ie())}}class Wl{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Wl(pt.EMPTY_BYTE_STRING,t,ie(),ie(),ie())}}class Af{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class $k{constructor(e,t){this.targetId=e,this.At=t}}class Hk{constructor(e,t,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Gk{constructor(){this.Rt=0,this.bt=zk(),this.Pt=pt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ie(),t=ie(),r=ie();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:U()}}),new Wl(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=zk()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class _Q{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=fn(),this.qt=qk(),this.Kt=new Ee(ee)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:U()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const s=i.target;if(wf(s))if(0===r){const o=new k(s.path);this.jt(t,o,Re.newNoDocument(o,W.min()))}else Z(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&wf(a.target)){const u=new k(a.target.path);null!==this.Ut.get(u)||this.ee(o,u)||this.jt(o,u,Re.newNoDocument(u,e))}s.Dt&&(t.set(o,s.xt()),s.Nt())}});let r=ie();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Xt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new zl(e,t,this.Kt,this.Ut,r);return this.Ut=fn(),this.qt=qk(),this.Kt=new Ee(ee),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new Gk,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Ee(ee),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||M("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Gk),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function qk(){return new He(k.comparator)}function zk(){return new He(k.comparator)}const wQ={asc:"ASCENDING",desc:"DESCENDING"},bQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class IQ{constructor(e,t){this.databaseId=e,this.gt=t}}function Kl(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wk(n,e){return n.gt?e.toBase64():e.toUint8Array()}function EQ(n,e){return Kl(n,e.toTimestamp())}function Ct(n){return Z(!!n),W.fromTimestamp(function(e){const t=xi(e);return new Ue(t.seconds,t.nanos)}(n))}function Cb(n,e){return(t=n,new fe(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Kk(n){const e=fe.fromString(n);return Z(rO(e)),e}function Ql(n,e){return Cb(n.databaseId,e.path)}function Er(n,e){const t=Kk(e);if(t.get(1)!==n.databaseId.projectId)throw new S(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new S(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new k(Yk(t))}function Db(n,e){return Cb(n.databaseId,e)}function Yl(n){return new fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yk(n){return Z(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Zk(n,e,t){return{name:Ql(n,e),fields:t.value.mapValue.fields}}function Xk(n,e){return{documents:[Db(n,e.path)]}}function eO(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Db(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Db(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(uk(d.value))return{unaryFilter:{field:ga(d.field),op:"IS_NAN"}};if(ak(d.value))return{unaryFilter:{field:ga(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(uk(d.value))return{unaryFilter:{field:ga(d.field),op:"IS_NOT_NAN"}};if(ak(d.value))return{unaryFilter:{field:ga(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ga(d.field),op:MQ(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:ga((c=l).field),direction:SQ(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(l=e.limit,n.gt||Pl(l)?l:{value:l});var l,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function tO(n){let e=function Qk(n){const e=Kk(n);return 4===e.length?fe.emptyPath():Yk(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Z(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=nO(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new ua(ma((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Pl(d)?null:d}(t.limit));let u=null;var c;t.startAt&&(u=new ki((c=t.startAt).values||[],!!c.before));let l=null;return t.endAt&&(l=function(c){return new ki(c.values||[],!c.before)}(t.endAt)),function _k(n,e,t,r,i,s,o,a){return new ti(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function nO(n){return n?void 0!==n.unaryFilter?[NQ(n)]:void 0!==n.fieldFilter?[xQ(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>nO(e)).reduce((e,t)=>e.concat(t)):U():[]}function SQ(n){return wQ[n]}function MQ(n){return bQ[n]}function ga(n){return{fieldPath:n.canonicalString()}}function ma(n){return Qe.fromServerFormat(n.fieldPath)}function xQ(n){return Ot.create(ma(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}function NQ(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ma(n.unaryFilter.field);return Ot.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ma(n.unaryFilter.field);return Ot.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ma(n.unaryFilter.field);return Ot.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ma(n.unaryFilter.field);return Ot.create(i,"!=",{nullValue:"NULL_VALUE"});default:return U()}}function RQ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Sb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&hQ(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=Rk(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ie())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(t,r)=>kk(t,r))&&sa(this.baseMutations,e.baseMutations,(t,r)=>kk(t,r))}}class Mb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Z(e.mutations.length===r.length);let i=mQ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Mb(e,t,r,i)}}class xb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pi{constructor(e,t,r,i,s=W.min(),o=W.min(),a=pt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cO{constructor(e){this.re=e}}function Nb(n){const e=tO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?If(e,e.limit,"L"):e}class Bs{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ge(e.integerValue));else if("doubleValue"in e){const r=Ge(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Fl(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(xs(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?lk(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):U()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),k.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}Bs.Te=new Bs;class iY{constructor(){this.Ye=new kb}addToCollectionParentIndex(e,t){return this.Ye.add(t),v.resolve()}getCollectionParents(e,t){return v.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return v.resolve()}deleteFieldIndex(e,t){return v.resolve()}getDocumentsMatchingTarget(e,t){return v.resolve(null)}getIndexType(e,t){return v.resolve(0)}getFieldIndexes(e,t){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,t){return v.resolve(An.min())}getMinOffsetFromCollectionGroup(e,t){return v.resolve(An.min())}updateCollectionGroup(e,t,r){return v.resolve()}updateIndexEntries(e,t){return v.resolve()}}class kb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ee(fe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ee(fe.comparator)).toArray()}}new Uint8Array(0);class pn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class Hs{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Hs(0)}static vn(){return new Hs(-1)}}class pY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class NO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Hl(r.mutation,i,Sn.empty(),Ue.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ie()){const i=Ir();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Gl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ir();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ie()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=fn();const o=ql(),a=ql();return t.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof ni)?s=s.insert(l.key,l):void 0!==c&&(o.set(l.key,c.mutation.getFieldMask()),Hl(c.mutation,l,c.mutation.getFieldMask(),Ue.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),t.forEach((l,c)=>{var d;return a.set(l,new pY(c,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=ql();let i=new He((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let c=r.get(u)||Sn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||ie()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=jk();c.forEach(h=>{if(!s.has(h)){const f=Rk(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return k.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function wb(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):v.resolve(Ir());let a=-1,u=s;return o.next(l=>v.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?v.resolve():this.getBaseDocument(e,c,d).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ie())).next(c=>({batchId:a,changes:Bk(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new k(t)).next(r=>{let i=Gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Gl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(l=t,c=a.child(i),new ti(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();null===i.get(l)&&(i=i.insert(l,Re.newInvalidDocument(l)))});let o=Gl();return i.forEach((a,u)=>{const l=s.get(a);void 0!==l&&Hl(l.mutation,u,Sn.empty(),Ue.now()),Ib(t,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):v.resolve(Re.newInvalidDocument(t))}}class gY{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return v.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ct(r.createTime)}),v.resolve()}getNamedQuery(e,t){return v.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:Nb(r.bundledQuery),readTime:Ct(r.readTime)}),v.resolve();var r}}class mY{constructor(){this.overlays=new He(k.comparator),this.es=new Map}getOverlay(e,t){return v.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ir();return v.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ue(e,t,s)}),v.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),v.resolve()}getOverlaysForCollection(e,t,r){const i=Ir(),s=t.length+1,o=new k(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new He((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=Ir(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Ir(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return v.resolve(a)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xb(t,r));let s=this.es.get(t);void 0===s&&(s=ie(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class Ob{constructor(){this.ns=new Ee(Tt.ss),this.rs=new Ee(Tt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Tt(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Tt(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new k(new fe([])),r=new Tt(t,e),i=new Tt(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new k(new fe([])),r=new Tt(t,e),i=new Tt(t,e+1);let s=ie();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Tt(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Tt{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return k.comparator(e.key,t.key)||ee(e._s,t._s)}static os(e,t){return ee(e._s,t._s)||k.comparator(e.key,t.key)}}class yY{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ee(Tt.ss)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new Sb(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,t){return v.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Tt(t,0),i=new Tt(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ee(ee);return t.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),v.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;k.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new k(s),0);let a=new Ee(ee);return this.gs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u._s)),!0)},o),v.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Z(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return v.forEach(t.mutations,i=>{const s=new Tt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Tt(t,0),i=this.gs.firstAfterOrEqual(r);return v.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vY{constructor(e){this.Es=e,this.docs=new He(k.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return v.resolve(r?r.document.mutableCopy():Re.newInvalidDocument(t))}getEntries(e,t){let r=fn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Re.newInvalidDocument(i))}),v.resolve(r)}getAllFromCollection(e,t,r){let i=fn();const s=new k(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||hb(JR(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return v.resolve(i)}getAllFromCollectionGroup(e,t,r,i){U()}As(e,t){return v.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _Y(this)}getSize(e){return v.resolve(this.size)}}class _Y extends class dY{constructor(){this.changes=new Oi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Re.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?v.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),v.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class wY{constructor(e){this.persistence=e,this.Rs=new Oi(t=>Os(t),Bl),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ob,this.targetCount=0,this.vs=Hs.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),v.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Hs(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,v.resolve()}updateTargetData(e,t){return this.Dn(t),v.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return v.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),v.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),v.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return v.resolve(r)}containsKey(e,t){return v.resolve(this.Ps.containsKey(t))}}class RO{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new dn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new wY(this),this.indexManager=new iY,this.remoteDocumentCache=new vY(r=>this.referenceDelegate.xs(r)),this.It=new cO(t),this.Ns=new gY(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mY,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new yY(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){M("MemoryPersistence","Starting transaction:",e);const i=new bY(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,t){return v.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class bY extends class $9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Ff{constructor(e){this.persistence=e,this.Fs=new Ob,this.$s=null}static Bs(e){return new Ff(e)}get Ls(){if(this.$s)return this.$s;throw U()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),v.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),v.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ls,r=>{const i=k.fromPath(r);return this.Us(e,i).next(s=>{s||t.removeEntry(i,W.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return v.or([()=>v.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Vb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=ie(),i=ie();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vb(e,t.fromCache,r,i)}}class OO{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Mi(e,t,i,r)).next(s=>s||this.Oi(e,t))}ki(e,t){if(wk(t))return v.resolve(null);let r=hn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=If(t,null,"F"),r=hn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ie(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Fi(t,a);return this.$i(t,l,o,u.readTime)?this.ki(e,If(t,null,"F")):this.Bi(e,l,t,u)}))})))}Mi(e,t,r,i){return wk(t)||i.isEqual(W.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Oi(e,t):(lb()<=me.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bb(t)),this.Bi(e,o,t,function ZR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=W.fromTimestamp(1e9===r?new Ue(t+1,0):new Ue(t,r));return new An(i,k.empty(),e)}(i,-1)))})}Fi(e,t){let r=new Ee(Ek(e));return t.forEach((i,s)=>{Ib(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,t){return lb()<=me.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",bb(t)),this.Ni.getDocumentsMatchingQuery(e,t,An.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class EY{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new He(ee),this.qi=new Oi(s=>Os(s),Bl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NO(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function FO(n,e){return Ub.apply(this,arguments)}function Ub(){return Ub=m(function*(n,e){const t=O(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ie();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ji:l,removedBatchIds:o,addedBatchIds:a}))})})}),Ub.apply(this,arguments)}function CY(n,e){const t=O(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);Z(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ie();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function LO(n){const e=O(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function DY(n,e){const t=O(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;e.targetMismatches.has(d)?f=f.withResumeToken(pt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),g=f,y=c,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let u=fn(),l=ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function VO(n,e,t){let r=ie(),i=ie();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=fn();return t.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(c=>{u=c.Wi,l=c.zi})),!r.isEqual(W.min())){const c=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.Ui=i,s))}function TY(n,e){const t=O(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _a(n,e){const t=O(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new Pi(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function wa(n,e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=m(function*(n,e,t){const r=O(n),i=r.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Mi(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),Bb.apply(this,arguments)}function Vf(n,e,t){const r=O(n);let i=W.min(),s=ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=O(a),d=c.qi.get(l);return void 0!==d?v.resolve(c.Ui.get(d)):c.Cs.getTargetData(u,l)}(r,o,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:W.min(),t?s:ie())).next(a=>(function jO(n,e,t){let r=W.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function Ik(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class qb{constructor(){this.activeTargetIds=Tf()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GO{constructor(){this.Lr=new qb,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new qb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MY{qr(e){}shutdown(){}}class qO{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class NY{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class RY extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,s){const o=this.ao(e,t);M("RestConnection","Sending: ",o,r);const a={};return this.ho(a,i,s),this.lo(e,o,a,r).then(u=>(M("RestConnection","Received: ",u),u),u=>{throw ia("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}fo(e,t,r,i,s,o){return this.co(e,t,r,i,s)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ra,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,t){return`${this.oo}/v1/${t}:${xY[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((s,o)=>{const a=new N9;a.listenOnce(S9.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case ub.NO_ERROR:const l=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(l)),s(l);break;case ub.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),o(new S(w.DEADLINE_EXCEEDED,"Request time out"));break;case ub.HTTP_ERROR:const c=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(p)>=0?p:w.UNKNOWN}(d.status);o(new S(h,d.message))}else o(new S(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new S(w.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=T9(),o=A9(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new x9({})),this.ho(a.initMessageHeaders,t,r),d1()||f1()||function D8(){return _t().indexOf("Electron/")>=0}()||p1()||function T8(){return _t().indexOf("MSAppHost/")>=0}()||h1()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");M("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new NY({Hr:p=>{d?M("Connection","Not sending because WebChannel is closed:",p):(c||(M("Connection","Opening WebChannel transport."),l.open(),c=!0),M("Connection","WebChannel sending:",p),l.send(p))},Jr:()=>l.close()}),f=(p,g,y)=>{p.listen(g,b=>{try{y(b)}catch(A){setTimeout(()=>{throw A},0)}})};return f(l,ff.EventType.OPEN,()=>{d||M("Connection","WebChannel transport opened.")}),f(l,ff.EventType.CLOSE,()=>{d||(d=!0,M("Connection","WebChannel transport closed"),h.io())}),f(l,ff.EventType.ERROR,p=>{d||(d=!0,ia("Connection","WebChannel transport errored:",p),h.io(new S(w.UNAVAILABLE,"The operation could not be completed")))}),f(l,ff.EventType.MESSAGE,p=>{var g;if(!d){const y=p.data[0];Z(!!y);const b=y,A=b.error||(null===(g=b[0])||void 0===g?void 0:g.error);if(A){M("Connection","WebChannel received error:",A);const _=A.status;let x=function(B){const Ce=st[B];if(void 0!==Ce)return Vk(Ce)}(_),L=A.message;void 0===x&&(x=w.INTERNAL,L="Unknown error status: "+_+" with message "+A.message),d=!0,h.io(new S(x,L)),l.close()}else M("Connection","WebChannel received:",y),h.ro(y)}}),f(o,M9.STAT_EVENT,p=>{p.stat===qR.PROXY?M("Connection","Detected buffering proxy"):p.stat===qR.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function jf(){return typeof document<"u"?document:null}function oc(n){return new IQ(n,!0)}class Wb{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class WO{constructor(e,t,r,i,s,o,a,u){this.Hs=e,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Wb(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return m(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return m(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return m(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(Ke(t.toString()),Ke("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new S(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao(m(function*(){e.state=0,e.start()}))}Qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kY extends WO{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.It=s}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function DQ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:U(),i=e.targetChange.targetIds||[],s=function(u,l){return u.gt?(Z(void 0===l||"string"==typeof l),pt.fromBase64String(l||"")):(Z(void 0===l||l instanceof Uint8Array),pt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?w.UNKNOWN:Vk(u.code);return new S(l,u.message||"")}(o);t=new Hk(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Er(n,r.document.name),s=Ct(r.document.updateTime),o=new kt({mapValue:{fields:r.document.fields}}),a=Re.newFoundDocument(i,s,o);t=new Af(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Er(n,r.document),s=r.readTime?Ct(r.readTime):W.min(),o=Re.newNoDocument(i,s);t=new Af([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Er(n,r.document);t=new Af([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return U();{const r=e.filter,s=new pQ(r.count||0);t=new $k(r.targetId,s)}}var u;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return W.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?Ct(s.readTime):W.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Yl(this.It),t.addTarget=function(i,s){let o;const a=s.target;return o=wf(a)?{documents:Xk(i,a)}:{query:eO(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Wk(i,s.resumeToken):s.snapshotVersion.compareTo(W.min())>0&&(o.readTime=Kl(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function AQ(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return U()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Yl(this.It),t.removeTarget=e,this.Bo(t)}}class OY extends WO{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function TQ(n,e){return n&&n.length>0?(Z(void 0!==e),n.map(t=>function(r,i){let s=Ct(r.updateTime?r.updateTime:i);return s.isEqual(W.min())&&(s=Ct(i)),new dQ(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ct(e.commitTime);return this.listener.Zo(r,t)}return Z(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Yl(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Zl(n,e){let t;if(e instanceof fa)t={update:Zk(n,e.key,e.value)};else if(e instanceof pa)t={delete:Ql(n,e.key)};else if(e instanceof ni)t={update:Zk(n,e.key,e.data),updateMask:RQ(e.fieldMask)};else{if(!(e instanceof Eb))return U();t={verify:Ql(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof da)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ps)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Fs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ha)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw U()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:EQ(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:U()),t;var i}(this.It,r))};this.Bo(t)}}class PY extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new S(w.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(w.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(w.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class FY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ke(t),this.ou=!1):M("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class LY{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(a=>{r.enqueueAndForget(m(function*(){var u;Vi(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(l){const c=O(l);c._u.add(4),yield ba(c),c.gu.set("Unknown"),c._u.delete(4),yield ac(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.gu=new FY(r,i)}}function ac(n){return Kb.apply(this,arguments)}function Kb(){return Kb=m(function*(n){if(Vi(n))for(const e of n.wu)yield e(!0)}),Kb.apply(this,arguments)}function ba(n){return Qb.apply(this,arguments)}function Qb(){return Qb=m(function*(n){for(const e of n.wu)yield e(!1)}),Qb.apply(this,arguments)}function $f(n,e){const t=O(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Jb(t)?Zb(t):Ea(t).ko()&&Yb(t,e))}function uc(n,e){const t=O(n),r=Ea(t);t.du.delete(e),r.ko()&&KO(t,e),0===t.du.size&&(r.ko()?r.Fo():Vi(t)&&t.gu.set("Unknown"))}function Yb(n,e){n.yu.Ot(e.targetId),Ea(n).zo(e)}function KO(n,e){n.yu.Ot(e),Ea(n).Ho(e)}function Zb(n){n.yu=new _Q({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Ea(n).start(),n.gu.uu()}function Jb(n){return Vi(n)&&!Ea(n).No()&&n.du.size>0}function Vi(n){return 0===O(n)._u.size}function QO(n){n.yu=void 0}function VY(n){return Xb.apply(this,arguments)}function Xb(){return Xb=m(function*(n){n.du.forEach((e,t)=>{Yb(n,e)})}),Xb.apply(this,arguments)}function UY(n,e){return eI.apply(this,arguments)}function eI(){return eI=m(function*(n,e){QO(n),Jb(n)?(n.gu.hu(e),Zb(n)):n.gu.set("Unknown")}),eI.apply(this,arguments)}function BY(n,e,t){return tI.apply(this,arguments)}function tI(){return tI=m(function*(n,e,t){if(n.gu.set("Online"),e instanceof Hk&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hf(n,r)}else if(e instanceof Af?n.yu.Gt(e):e instanceof $k?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(W.min()))try{const r=yield LO(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.du.get(u);l&&i.du.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(pt.EMPTY_BYTE_STRING,u.snapshotVersion)),KO(i,a);const l=new Pi(u.target,a,1,u.sequenceNumber);Yb(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield Hf(n,r)}var r}),tI.apply(this,arguments)}function Hf(n,e,t){return nI.apply(this,arguments)}function nI(){return nI=m(function*(n,e,t){if(!Mi(e))throw e;n._u.add(1),yield ba(n),n.gu.set("Offline"),t||(t=()=>LO(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){M("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield ac(n)}))}),nI.apply(this,arguments)}function YO(n,e){return e().catch(t=>Hf(n,t,e))}function Ia(n){return rI.apply(this,arguments)}function rI(){return rI=m(function*(n){const e=O(n),t=Ui(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;jY(e);)try{const i=yield TY(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,$Y(e,i)}catch(i){yield Hf(e,i)}ZO(e)&&JO(e)}),rI.apply(this,arguments)}function jY(n){return Vi(n)&&n.fu.length<10}function $Y(n,e){n.fu.push(e);const t=Ui(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function ZO(n){return Vi(n)&&!Ui(n).No()&&n.fu.length>0}function JO(n){Ui(n).start()}function HY(n){return iI.apply(this,arguments)}function iI(){return iI=m(function*(n){Ui(n).eu()}),iI.apply(this,arguments)}function GY(n){return sI.apply(this,arguments)}function sI(){return sI=m(function*(n){const e=Ui(n);for(const t of n.fu)e.Xo(t.mutations)}),sI.apply(this,arguments)}function qY(n,e,t){return oI.apply(this,arguments)}function oI(){return oI=m(function*(n,e,t){const r=n.fu.shift(),i=Mb.from(r,e,t);yield YO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ia(n)}),oI.apply(this,arguments)}function zY(n,e){return aI.apply(this,arguments)}function aI(){return aI=m(function*(n,e){var t;e&&Ui(n).Yo&&(yield(t=m(function*(r,i){if(Lk(s=i.code)&&s!==w.ABORTED){const o=r.fu.shift();Ui(r).Oo(),yield YO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ia(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),ZO(n)&&JO(n)}),aI.apply(this,arguments)}function XO(n,e){return uI.apply(this,arguments)}function uI(){return uI=m(function*(n,e){const t=O(n);t.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=Vi(t);t._u.add(3),yield ba(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield ac(t)}),uI.apply(this,arguments)}function cI(){return cI=m(function*(n,e){const t=O(n);e?(t._u.delete(2),yield ac(t)):e||(t._u.add(2),yield ba(t),t.gu.set("Unknown"))}),cI.apply(this,arguments)}function Ea(n){return n.pu||(n.pu=function(e,t,r){const i=O(e);return i.su(),new kY(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:VY.bind(null,n),Zr:UY.bind(null,n),Wo:BY.bind(null,n)}),n.wu.push(function(){var e=m(function*(t){t?(n.pu.Oo(),Jb(n)?Zb(n):n.gu.set("Unknown")):(yield n.pu.stop(),QO(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ui(n){return n.Iu||(n.Iu=function(e,t,r){const i=O(e);return i.su(),new OY(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:HY.bind(null,n),Zr:zY.bind(null,n),tu:GY.bind(null,n),Zo:qY.bind(null,n)}),n.wu.push(function(){var e=m(function*(t){t?(n.Iu.Oo(),yield Ia(n)):(yield n.Iu.stop(),n.fu.length>0&&(M("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class dI{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Et,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new dI(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ca(n,e){if(Ke("AsyncQueue",`${e}: ${n}`),Mi(n))return new S(w.UNAVAILABLE,`${e}: ${n}`);throw n}class Da{constructor(e){this.comparator=e?(t,r)=>e(t,r)||k.comparator(t.key,r.key):(t,r)=>k.comparator(t.key,r.key),this.keyedMap=Gl(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new Da(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class eP{constructor(){this.Tu=new He(k.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):U():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ta{constructor(e,t,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new Ta(e,t,Da.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class WY{constructor(){this.Au=void 0,this.listeners=[]}}class KY{constructor(){this.queries=new Oi(e=>bk(e),jl),this.onlineState="Unknown",this.Ru=new Set}}function hI(n,e){return fI.apply(this,arguments)}function fI(){return fI=m(function*(n,e){const t=O(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new WY),i)try{s.Au=yield t.onListen(r)}catch(o){const a=Ca(o,`Initialization of query '${bb(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&mI(t)}),fI.apply(this,arguments)}function pI(n,e){return gI.apply(this,arguments)}function gI(){return gI=m(function*(n,e){const t=O(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),gI.apply(this,arguments)}function QY(n,e){const t=O(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&mI(t)}function YY(n,e,t){const r=O(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function mI(n){n.Ru.forEach(e=>{e.next()})}class yI{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ta(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class rP{constructor(e){this.key=e}}class iP{constructor(e){this.key=e}}class sP{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=ie(),this.mutatedKeys=ie(),this.Ku=Ek(e),this.Gu=new Da(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new eP,i=t?t.Gu:this.Gu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Ib(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.zu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Ku(f,u)>0||l&&this.Ku(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||l)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:a,mutatedKeys:s}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return f(d)-f(h)}(l.type,c.type)||this.Ku(l.doc,c.doc)),this.Hu(r);const o=t?this.Ju():[],a=0===this.qu.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new Ta(this.query,e.Gu,i,s,e.mutatedKeys,0===a,u,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new eP,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=ie(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new iP(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new rP(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=ie();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Ta.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class XY{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class eZ{constructor(e){this.key=e,this.ec=!1}}class tZ{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Oi(a=>bk(a),jl),this.ic=new Map,this.rc=new Set,this.oc=new He(k.comparator),this.uc=new Map,this.cc=new Ob,this.ac={},this.hc=new Map,this.lc=Hs.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function nZ(n,e){return vI.apply(this,arguments)}function vI(){return vI=m(function*(n,e){const t=jI(n);let r,i;const s=t.sc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=yield _a(t.localStore,hn(e));t.isPrimaryClient&&$f(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield _I(t,e,r,"current"===a)}return i}),vI.apply(this,arguments)}function _I(n,e,t,r){return wI.apply(this,arguments)}function wI(){return wI=m(function*(n,e,t,r){n.dc=(c,d,h)=>{return(f=m(function*(p,g,y,b){let A=g.view.ju(y);A.$i&&(A=yield Vf(p.localStore,g.query,!1).then(({documents:L})=>g.view.ju(L,A)));const _=b&&b.targetChanges.get(g.targetId),x=g.view.applyChanges(A,p.isPrimaryClient,_);return xI(p,g.targetId,x.Yu),x.snapshot}),function(p,g,y,b){return f.apply(this,arguments)})(n,c,d,h);var f};const i=yield Vf(n.localStore,e,!0),s=new sP(e,i.Hi),o=s.ju(i.documents),a=Wl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),u=s.applyChanges(o,n.isPrimaryClient,a);xI(n,t,u.Yu);const l=new XY(e,t,s);return n.sc.set(e,l),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),u.snapshot}),wI.apply(this,arguments)}function rZ(n,e){return bI.apply(this,arguments)}function bI(){return bI=m(function*(n,e){const t=O(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(s=>!jl(s,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wa(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),uc(t.remoteStore,r.targetId),Aa(t,r.targetId)}).catch(Si))):(Aa(t,r.targetId),yield wa(t.localStore,r.targetId,!0))}),bI.apply(this,arguments)}function II(){return II=m(function*(n,e,t){const r=$I(n);try{const i=yield function(s,o){const a=O(s),u=Ue.now(),l=o.reduce((h,f)=>h.add(f.key),ie());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=fn(),p=ie();return a.Gi.getEntries(h,l).next(g=>{f=g,f.forEach((y,b)=>{b.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const y=[];for(const b of o){const A=fQ(b,c.get(b.key).overlayedDocument);null!=A&&y.push(new ni(b.key,A,hk(A.value.mapValue),Fe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:Bk(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ac[s.currentUser.toKey()];u||(u=new He(ee)),u=u.insert(o,a),s.ac[s.currentUser.toKey()]=u}(r,i.batchId,t),yield ri(r,i.changes),yield Ia(r.remoteStore)}catch(i){const s=Ca(i,"Failed to persist write");t.reject(s)}}),II.apply(this,arguments)}function oP(n,e){return EI.apply(this,arguments)}function EI(){return EI=m(function*(n,e){const t=O(n);try{const r=yield DY(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.uc.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Z(o.ec):i.removedDocuments.size>0&&(Z(o.ec),o.ec=!1))}),yield ri(t,r,e)}catch(r){yield Si(r)}}),EI.apply(this,arguments)}function aP(n,e,t){const r=O(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=O(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.bu(o)&&(u=!0)}),u&&mI(a)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sZ(n,e,t){return CI.apply(this,arguments)}function CI(){return CI=m(function*(n,e,t){const r=O(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new He(k.comparator);o=o.insert(s,Re.newNoDocument(s,W.min()));const a=ie().add(s),u=new zl(W.min(),new Map,new Ee(ee),o,a);yield oP(r,u),r.oc=r.oc.remove(s),r.uc.delete(e),NI(r)}else yield wa(r.localStore,e,!1).then(()=>Aa(r,e,t)).catch(Si)}),CI.apply(this,arguments)}function oZ(n,e){return DI.apply(this,arguments)}function DI(){return DI=m(function*(n,e){const t=O(n),r=e.batch.batchId;try{const i=yield CY(t.localStore,e);MI(t,r,null),SI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ri(t,i)}catch(i){yield Si(i)}}),DI.apply(this,arguments)}function aZ(n,e,t){return TI.apply(this,arguments)}function TI(){return TI=m(function*(n,e,t){const r=O(n);try{const i=yield function(s,o){const a=O(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(Z(null!==c),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);MI(r,e,t),SI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ri(r,i)}catch(i){yield Si(i)}}),TI.apply(this,arguments)}function SI(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function MI(n,e,t){const r=O(n);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Aa(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||uP(n,r)})}function uP(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(uc(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),NI(n))}function xI(n,e,t){for(const r of t)r instanceof rP?(n.cc.addReference(r.key,e),lZ(n,r)):r instanceof iP?(M("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||uP(n,r.key)):U()}function lZ(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(M("SyncEngine","New document in limbo: "+t),n.rc.add(r),NI(n))}function NI(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new k(fe.fromString(e)),r=n.lc.next();n.uc.set(r,new eZ(t)),n.oc=n.oc.insert(t,r),$f(n.remoteStore,new Pi(hn(la(t.path)),r,2,dn.at))}}function ri(n,e,t){return RI.apply(this,arguments)}function RI(){return RI=m(function*(n,e,t){const r=O(n),i=[],s=[],o=[];var a;r.sc.isEmpty()||(r.sc.forEach((a,u)=>{o.push(r.dc(u,e,t).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=Vb.Ci(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.nc.Wo(i),yield(a=m(function*(u,l){const c=O(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(l,h=>v.forEach(h.Si,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Di,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Mi(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.Ui.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.Ui=c.Ui.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),RI.apply(this,arguments)}function cZ(n,e){return kI.apply(this,arguments)}function kI(){return kI=m(function*(n,e){const t=O(n);if(!t.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield FO(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(o=>{o.forEach(a=>{a.reject(new S(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ri(t,r.ji)}var i}),kI.apply(this,arguments)}function dZ(n,e){const t=O(n),r=t.uc.get(e);if(r&&r.ec)return ie().add(r.key);{let i=ie();const s=t.ic.get(e);if(!s)return i;for(const o of s){const a=t.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function jI(n){const e=O(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sZ.bind(null,e),e.nc.Wo=QY.bind(null,e.eventManager),e.nc._c=YY.bind(null,e.eventManager),e}function $I(n){const e=O(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aZ.bind(null,e),e}class wZ{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.It=oc(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return function PO(n,e,t,r){return new EY(n,e,t,r)}(this.persistence,new OO,e.initialUser,this.It)}gc(e){return new RO(Ff.Bs,this.It)}mc(e){return new GO}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class HI{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>aP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cZ.bind(null,r.syncEngine),yield function lI(n,e){return cI.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new KY}createDatastore(e){const t=oc(e.databaseInfo.databaseId),r=new RY(e.databaseInfo);return new PY(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>aP(this.syncEngine,a,0),o=qO.C()?new qO:new MY,new LY(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new tZ(r,i,s,o,a,u);return l&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const r=O(t);M("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield ba(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Gf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Ke("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class TZ{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=QR.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Et;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ca(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function hP(n,e){return GI.apply(this,arguments)}function GI(){return GI=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield FO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),GI.apply(this,arguments)}function fP(n,e){return qI.apply(this,arguments)}function qI(){return qI=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield zI(n);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>XO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>XO(e.remoteStore,s)),n.onlineComponents=e}),qI.apply(this,arguments)}function zI(n){return WI.apply(this,arguments)}function WI(){return WI=m(function*(n){return n.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),yield hP(n,new wZ)),n.offlineComponents}),WI.apply(this,arguments)}function qf(n){return KI.apply(this,arguments)}function KI(){return KI=m(function*(n){return n.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),yield fP(n,new HI)),n.onlineComponents}),KI.apply(this,arguments)}function Sa(n){return YI.apply(this,arguments)}function YI(){return YI=m(function*(n){const e=yield qf(n),t=e.eventManager;return t.onListen=nZ.bind(null,e.syncEngine),t.onUnlisten=rZ.bind(null,e.syncEngine),t}),YI.apply(this,arguments)}const vP=new Map;function ZI(n,e,t){if(!t)throw new S(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _P(n){if(!k.isDocumentKey(n))throw new S(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wP(n){if(k.isDocumentKey(n))throw new S(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Wf(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":U()}function ge(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new S(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wf(n);throw new S(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class IP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new S(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function PZ(n,e,t,r){if(!0===e&&!0===r)throw new S(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lc{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new R9;switch(t.type){case"gapi":return new F9(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new S(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vP.get(e);t&&(M("ComponentProvider","Removing Datastore"),vP.delete(e),t.terminate())}(this),Promise.resolve()}}class Ye{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}}class Ht{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ht(this.firestore,e,this._query)}}class Dr extends Ht{constructor(e,t,r){super(e,t,la(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new k(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}function Bi(n,e,...t){if(n=Dn(n),ZI("collection","path",e),n instanceof lc){const r=fe.fromString(e,...t);return wP(r),new Dr(n,null,r)}{if(!(n instanceof Ye||n instanceof Dr))throw new S(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fe.fromString(e,...t));return wP(r),new Dr(n.firestore,null,r)}}class VZ{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Wb(this,"async_queue_retry"),this.jc=()=>{const t=jf();t&&M("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=jf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=jf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Et;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return m(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Mi(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,Ke("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=dI.createAndSchedule(this,e,t,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&U()}verifyOperationInProgress(){}Yc(){var e=this;return m(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function JI(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Le extends lc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new VZ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||EP(this),this._firestoreClient.terminate()}}function XI(n,e){const r="string"==typeof n?n:e||"(default)";return Ch("object"==typeof n?n:C1(),"firestore").getImmediate({identifier:r})}function gt(n){return n._firestoreClient||EP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function EP(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new K9(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new TZ(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Ma{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new S(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qs(pt.fromBase64String(e))}catch(t){throw new S(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qs(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class TP{constructor(e){this._methodName=e}}class eE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new S(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new S(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}const BZ=/^__.*__$/;class jZ{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ni(e,this.data,this.fieldMask,t,this.fieldTransforms):new fa(e,this.data,t,this.fieldTransforms)}}function SP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class Kf{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Yf(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(SP(this.na)&&BZ.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class $Z{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||oc(e)}fa(e,t,r,i=!1){return new Kf({na:e,methodName:t,la:r,path:Qe.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function xa(n){const e=n._freezeSettings(),t=oc(n._databaseId);return new $Z(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tE(n,e,t,r,i,s={}){const o=n.fa(s.merge||s.mergeFields?2:0,e,t,i);rE("Data must be an object, but it was:",o,r);const a=kP(r,o);let u,l;if(s.merge)u=new Sn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=iE(e,d,t);if(!o.contains(h))throw new S(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);PP(c,h)||c.push(h)}u=new Sn(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new jZ(new kt(a),u,l)}function zs(n,e){if(OP(n=Dn(n)))return rE("Unsupported field value:",e,n),kP(n,e);if(n instanceof TP)return function(t,r){if(!SP(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=zs(o,r.ca(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Dn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tk(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ue.fromDate(t);return{timestampValue:Kl(r.It,i)}}if(t instanceof Ue){const i=new Ue(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kl(r.It,i)}}if(t instanceof eE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qs)return{bytesValue:Wk(r.It,t._byteString)};if(t instanceof Ye){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cb(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${Wf(t)}`)}(n,e)}function kP(n,e){const t={};return nk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(n,(r,i)=>{const s=zs(i,e.ia(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function OP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ue||n instanceof eE||n instanceof qs||n instanceof Ye||n instanceof TP)}function rE(n,e,t){if(!OP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Wf(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function iE(n,e,t){if((e=Dn(e))instanceof Ma)return e._internalPath;if("string"==typeof e)return Qf(n,e);throw Yf("Field path arguments must be of type string or ",n,!1,void 0,t)}const zZ=new RegExp("[~\\*/\\[\\]]");function Qf(n,e,t){if(e.search(zZ)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ma(...e.split("."))._internalPath}catch{throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yf(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(w.INVALID_ARGUMENT,a+n+u)}function PP(n,e){return n.some(t=>t.isEqual(e))}class sE{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new WZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class WZ extends sE{data(){return super.data()}}function Zf(n,e){return"string"==typeof e?Qf(n,e):e instanceof Ma?e._internalPath:e._delegate._internalPath}class Ws{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends sE{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Zf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Jf extends Na{data(e={}){return super.data(e)}}class Ra{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ws(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Jf(this._firestore,this._userDataWriter,r.key,r,new Ws(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new S(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Jf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ws(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Jf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ws(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:KZ(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}function FP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new S(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ks extends class JZ{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw U()}}convertObject(e,t){const r={};return Ms(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new eE(Ge(e.latitude),Ge(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ik(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const t=xi(e);return new Ue(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=fe.fromString(e);Z(rO(r));const i=new Ns(r.get(1),r.get(3)),s=new k(r.popFirst(5));return i.isEqual(t)||Ke(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,t)}}function GP(n){n=ge(n,Ht);const e=ge(n.firestore,Le),t=gt(e),r=new Ks(e);return FP(n._query),function yP(n,e,t={}){const r=new Et;return n.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const l=new Gf({next:d=>{s.enqueueAndForget(()=>pI(i,c)),d.fromCache&&"server"===a.source?u.reject(new S(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new yI(o,l,{includeMetadataChanges:!0,Nu:!0});return hI(i,c)}(yield Sa(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Ra(e,r,n,i))}function aE(n,e){const t=ge(n.firestore,Le),r=function FZ(n,e,...t){if(n=Dn(n),1===arguments.length&&(e=QR.R()),ZI("doc","path",e),n instanceof lc){const r=fe.fromString(e,...t);return _P(r),new Ye(n,null,new k(r))}{if(!(n instanceof Ye||n instanceof Dr))throw new S(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fe.fromString(e,...t));return _P(r),new Ye(n.firestore,n instanceof Dr?n.converter:null,new k(r))}}(n),i=function oE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function dc(n,e){return function(t,r){const i=new Et;return t.asyncQueue.enqueueAndForget(m(function*(){return function iZ(n,e,t){return II.apply(this,arguments)}(yield function QI(n){return qf(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(gt(n),e)}(t,[tE(xa(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Fe.exists(!1))]).then(()=>r)}!function(n,e=!0){ra="9.9.4",Qo(new ps("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Le(new O9(t.getProvider("auth-internal")),new L9(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ns(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),bi(zR,"3.4.15",n),bi(zR,"3.4.15","esm2017")}(),bi("firebase","9.9.4","app");const lE=function F6(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:vv,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw wi.create("bad-app-name",{appName:String(r)});const i=ys.get(r);if(i){if(bh(n,i.options)&&bh(t,i.config))return i;throw wi.create("duplicate-app",{appName:r})}const s=new G8(r);for(const a of Eh.values())s.addComponent(a);const o=new P6(n,t,s);return ys.set(r,o),o}({apiKey:"AIzaSyA_xYEsfGOpV2DAzjl5P-Bzdcl9ISPbkqk",authDomain:"tp-labo-iv.firebaseapp.com",projectId:"tp-labo-iv",storageBucket:"tp-labo-iv.appspot.com",messagingSenderId:"1005341932224",appId:"1:1005341932224:web:99d7755337c19e67078b25",measurementId:"G-0BGDLY9F1S",databaseURL:"https://tp-labo-iv-default-rtdb.firebaseio.com/"});let iJ=(()=>{class n{constructor(t,r){this.router=t,this.route=r,this.title="Brainmetive",this.mailShowed="UserExample@gmail.com",Oh(bs(),s=>{if(s){this.mailShowed=s.email;let a=document.getElementById("btnLogin"),u=document.getElementById("btnSignUp");a?.setAttribute("hidden","true"),u?.setAttribute("hidden","true"),document.getElementById("btnLogout")?.removeAttribute("hidden"),console.log("LOGEADO!!!"),document.getElementById("userMail-loged")?.removeAttribute("hidden")}else{let o=document.getElementById("btnLogin"),a=document.getElementById("btnSignUp");o?.removeAttribute("hidden"),a?.removeAttribute("hidden"),document.getElementById("btnLogout")?.setAttribute("hidden","true"),document.getElementById("userMail-loged")?.setAttribute("hidden","true"),console.log("DESLOGEADO!!")}})}logOut(){(function YW(n){return Dn(n).signOut()})(bs()).then(()=>{console.log("Cierre de sesi\xf3n satisfactorio. Vuelva prontosss!"),this.router.navigate(["/login"])}).catch(r=>{console.log(r)})}navigateLogin(){this.router.navigate(["/login"])}navigateRegister(){this.router.navigate(["/register"])}}return n.\u0275fac=function(t){return new(t||n)(T(rt),T(vr))},n.\u0275cmp=yn({type:n,selectors:[["app-root"]],decls:41,vars:1,consts:[["id","header",1,"p-3","text-bg-dark"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["href","/home",1,"nav-link","px-2","text-white"],["href","/quiensoy",1,"nav-link","px-2","text-white"],["href","/salajuegos",1,"nav-link","px-2","text-white"],["href","/chat",1,"nav-link","px-2","text-white"],[1,"text-end"],["type","button","id","btnLogin",1,"btn","btn-outline-light","me-2",3,"click"],["type","button","id","btnSignUp",1,"btn","btn-outline-light","me-2",3,"click"],["hidden","","id","userMail-loged"],["type","button","id","btnLogout","hidden","",1,"btn","btn-outline-light","me-2",3,"click"],[1,"a-example-divider"],["id","footer",1,"container"],[1,"py-3","my-4"],["id","ul-footer",1,"nav","justify-content-center","border-bottom","pb-3","mb-3"],[1,"nav-item"],["href","/home",1,"nav-link","px-2","text-muted"],["href","/quiensoy",1,"nav-link","px-2","text-muted"],["href","/roomgames",1,"nav-link","px-2","text-muted"],[1,"text-center","text-muted"]],template:function(t,r){1&t&&(I(0,"header",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li")(5,"a",4),C(6,"Home"),E()(),I(7,"li")(8,"a",5),C(9,"Quien soy"),E()(),I(10,"li")(11,"a",6),C(12,"Room games"),E()(),I(13,"li")(14,"a",7),C(15,"Chat"),E()()(),I(16,"div",8)(17,"button",9),j("click",function(){return r.navigateLogin()}),C(18,"Ingresar"),E(),I(19,"button",10),j("click",function(){return r.navigateRegister()}),C(20,"Registrarse"),E(),I(21,"label",11),C(22),E(),I(23,"button",12),j("click",function(){return r.logOut()}),C(24,"Salir"),E()()()()(),Ie(25,"router-outlet")(26,"div",13),I(27,"div",14)(28,"footer",15)(29,"ul",16)(30,"li",17)(31,"a",18),C(32,"Home"),E()(),I(33,"li",17)(34,"a",19),C(35,"Quien soy"),E()(),I(36,"li",17)(37,"a",20),C(38,"Room games"),E()()(),I(39,"p",21),C(40,"\xa9 Brainmetive"),E()()()),2&t&&(vt(22),rs(" ",r.mailShowed,""))},dependencies:[Gy],styles:["#header[_ngcontent-%COMP%], #footer[_ngcontent-%COMP%], #txtBoxBuscar[_ngcontent-%COMP%], #btnLogin[_ngcontent-%COMP%], #btnSignUp[_ngcontent-%COMP%], #btnLogout[_ngcontent-%COMP%], .nav-item[_ngcontent-%COMP%], .fs-4[_ngcontent-%COMP%]{font-size:20px}.form-control-dark[_ngcontent-%COMP%]{border-color:var(--bs-gray)}.form-control-dark[_ngcontent-%COMP%]:focus{border-color:#fff;box-shadow:0 0 0 .25rem #ffffff40}.text-small[_ngcontent-%COMP%]{font-size:85%}.dropdown-toggle[_ngcontent-%COMP%]{outline:0}#userMail-loged[_ngcontent-%COMP%]{margin-right:1.2rem}@media (min-width: 40em){.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.25rem;font-size:1.25rem;line-height:1.4}.featurette-heading[_ngcontent-%COMP%]{font-size:50px}}@media (min-width: 62em){.featurette-heading[_ngcontent-%COMP%]{margin-top:7rem}}"]}),n})();class sJ{constructor(e,t){this.username=e,this.texto=t,this.horaActual=this.getHoraActual(),this.fechaActual=this.getFechaActual()}getHoraActual(){return(new Date).toLocaleTimeString()}getFechaActual(){return(new Date).toLocaleDateString()}}let zP=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(T(Or),T(En))},n.\u0275dir=Y({type:n}),n})(),Qs=(()=>{class n extends zP{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function Lt(n){return ii(()=>{const e=n.prototype.constructor,t=e[xr]||zp(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[xr]||zp(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275dir=Y({type:n,features:[be]}),n})();const Tr=new z("NgValueAccessor"),uJ={provide:Tr,useExisting:Me(()=>ka),multi:!0},cJ=new z("CompositionEventMode");let ka=(()=>{class n extends zP{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lJ(){const n=gr()?gr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Or),T(En),T(cJ,8))},n.\u0275dir=Y({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&j("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Oe([uJ]),be]}),n})();const Gt=new z("NgValidators"),$i=new z("NgAsyncValidators");function rF(n){return null!=n}function iF(n){return vu(n)?Je(n):n}function sF(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function oF(n,e){return e.map(t=>t(n))}function aF(n){return n.map(e=>function fJ(n){return!n.validate}(e)?e:t=>e.validate(t))}function cE(n){return null!=n?function uF(n){if(!n)return null;const e=n.filter(rF);return 0==e.length?null:function(t){return sF(oF(t,e))}}(aF(n)):null}function dE(n){return null!=n?function lF(n){if(!n)return null;const e=n.filter(rF);return 0==e.length?null:function(t){return function oJ(...n){const e=lC(n),{args:t,keys:r}=GM(n),i=new Ze(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;jn(t[c]).subscribe(ot(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?zM(r,a):a),s.complete())}))}});return e?i.pipe(qM(e)):i}(oF(t,e).map(iF)).pipe(de(sF))}}(aF(n)):null}function cF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function hE(n){return n?Array.isArray(n)?n:[n]:[]}function tp(n,e){return Array.isArray(n)?n.includes(e):n===e}function fF(n,e){const t=hE(e);return hE(n).forEach(i=>{tp(t,i)||t.push(i)}),t}function pF(n,e){return hE(e).filter(t=>!tp(n,t))}class gF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class nn extends gF{get formDirective(){return null}get path(){return null}}class Hi extends gF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let np=(()=>{class n extends mF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Hi,2))},n.\u0275dir=Y({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&yd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[be]}),n})(),fE=(()=>{class n extends mF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(nn,10))},n.\u0275dir=Y({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&yd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[be]}),n})();const hc="VALID",ip="INVALID",Oa="PENDING",fc="DISABLED";function yE(n){return(sp(n)?n.validators:n)||null}function vF(n){return Array.isArray(n)?cE(n):n||null}function vE(n,e){return(sp(e)?e.asyncValidators:n)||null}function _F(n){return Array.isArray(n)?dE(n):n||null}function sp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class IF{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=vF(this._rawValidators),this._composedAsyncValidatorFn=_F(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===hc}get invalid(){return this.status===ip}get pending(){return this.status==Oa}get disabled(){return this.status===fc}get enabled(){return this.status!==fc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=vF(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=_F(e)}addValidators(e){this.setValidators(fF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pF(e,this._rawAsyncValidators))}hasValidator(e){return tp(this._rawValidators,e)}hasAsyncValidator(e){return tp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hc||this.status===Oa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fc:hc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oa,this._hasOwnPendingAsyncValidator=!0;const t=iF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?fc:this.errors?ip:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oa)?Oa:this._anyControlsHaveStatus(ip)?ip:hc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class _E extends IF{constructor(e,t,r){super(yE(t),vE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function bF(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new N(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function wF(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new N(1e3,"");if(!r[t])throw new N(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function pc(n,e){wE(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function IJ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&EF(n,e)})}(n,e),function CJ(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function EJ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&EF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function bJ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function up(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wE(n,e){const t=function dF(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(cF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function hF(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(cF(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();up(e._rawValidators,i),up(e._rawAsyncValidators,i)}function EF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const MJ={provide:nn,useExisting:Me(()=>mc)},gc=(()=>Promise.resolve(null))();let mc=(()=>{class n extends nn{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new $e,this.form=new _E({},cE(t),dE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){gc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),pc(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){gc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){gc.then(()=>{const r=this._findContainer(t.path),i=new _E({});(function CF(n,e){wE(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){gc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){gc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function TF(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(T(Gt,10),T($i,10))},n.\u0275dir=Y({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&j("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([MJ]),be]}),n})();function AF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function SF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const MF=class extends IF{constructor(e=null,t,r){super(yE(t),vE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=SF(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){SF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},RJ={provide:Hi,useExisting:Me(()=>yc)},RF=(()=>Promise.resolve(null))();let yc=(()=>{class n extends Hi{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new MF,this._registered=!1,this.update=new $e,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function IE(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ka?t=s:function AJ(n){return Object.getPrototypeOf(n.constructor)===Qs}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function bE(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){RF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function $r(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);RF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function op(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(T(nn,9),T(Gt,10),T($i,10),T(Tr,10),T(Rd,8))},n.\u0275dir=Y({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Oe([RJ]),be,Rn]}),n})(),EE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Y({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),OF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=or({type:n}),n.\u0275inj=$n({}),n})(),nX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=or({type:n}),n.\u0275inj=$n({imports:[OF]}),n})(),rX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=or({type:n}),n.\u0275inj=$n({imports:[nX]}),n})();const sX=function(){return{standalone:!0}};let oX=(()=>{class n{constructor(){this.db=XI(lE),this.mensaje="",this.errorLoginMessage="",this.flagOwnMessage=!1,this.flagLoadingMessages=!0,Oh(bs(),r=>{if(r){const i=r.uid;this.usuario=r.email,this.usuarioID=i,console.log(this.usuario),console.log(this.usuarioID),document.getElementById("error-login-message")?.setAttribute("hidden","true"),document.getElementById("send-button")?.removeAttribute("hidden"),document.getElementById("chat-input")?.removeAttribute("hidden")}else document.getElementById("error-login-message")?.removeAttribute("hidden"),document.getElementById("send-button")?.setAttribute("hidden","true"),document.getElementById("chat-input")?.setAttribute("hidden","true")})}sendMessage(){var t=this;return m(function*(){let r=new sJ(t.usuario,t.mensaje);yield aE(Bi(t.db,"Mensajes"),{usuario:r.username,texto:r.texto,hora:r.horaActual,fecha:r.fechaActual})})()}recieveChanges(){!function eJ(n,...e){var t,r,i;n=Dn(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||JI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(JI(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(n instanceof Ye)l=ge(n.firestore,Le),c=la(n._key.path),u={next:d=>{e[o]&&e[o](function uE(n,e,t){const r=t.docs.get(e._key),i=new Ks(n);return new Na(n,i,e._key,r,new Ws(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=ge(n,Ht);l=ge(d.firestore,Le),c=d._query;const h=new Ks(l);u={next:f=>{e[o]&&e[o](new Ra(l,h,d,f))},error:e[o+1],complete:e[o+2]},FP(n._query)}(function(d,h,f,p){const g=new Gf(p),y=new yI(h,g,f);d.asyncQueue.enqueueAndForget(m(function*(){return hI(yield Sa(d),y)}))})(gt(l),c,a,u)}(Bi(this.db,"Mensajes"),()=>{console.log("CHANGES DETECTED")})}createNewBubble(t,r,i){let s=document.getElementById("chat-messages"),o=document.createElement("li"),a=document.createElement("p");a.innerHTML=r+" - "+i;let u=document.createElement("p"),l=this.textoTruncado(t);u.innerHTML=l,o.appendChild(a),o.appendChild(u),o.setAttribute("class","othersMessage"),console.log(o),s?.appendChild(o)}createOwnNewBubble(t,r,i){let s=document.getElementById("chat-messages"),o=document.createElement("li"),a=document.createElement("p");a.innerHTML=r+" - "+i;let u=document.createElement("p"),l=this.textoTruncado(t);u.innerHTML=l,o.appendChild(a),o.appendChild(u),o.setAttribute("class","ownMessage"),console.log(o),s?.appendChild(o)}textoTruncado(t){let r=t;if(t.length>25){let i=t.slice(void 0,25);console.log("SLICED 1:"),console.log(i);let s=t.slice(25);console.log("SLICED 2:"),console.log(s),r=i+"<br>"+s}return console.log("STRING TRUNCADO:"),console.log(r),r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["app-chat"]],decls:21,vars:4,consts:[["id","chat-main-container",1,"container"],[1,"p-4","p-md-5","mb-4","rounded","text-bg-dark"],["id","chat-header-text-container",1,"row-md-6","px-0"],[1,"display-4","fst-italic"],[1,"lead","my-3"],["id","error-container"],["id","error-login-message"],["id","chat-container",1,"row-md-6","px-0"],["id","chat-messages"],["type","text","placeholder","Escrib\xed tu mensaje ac\xe1...","id","chat-input",3,"ngModel","ngModelOptions","ngModelChange"],["id","send-button",3,"click"]],template:function(t,r){1&t&&(I(0,"main",0)(1,"div",1)(2,"div",2)(3,"h1",3),C(4),E(),I(5,"p",4),C(6,"Contamos con un nuevo chat \xa1en vivo!. "),Ie(7,"br"),C(8," Por favor. Dem\xe1s est\xe1 pedir que se mantenga el respeto entre los usuarios... "),Ie(9,"br"),C(10," Tratemos de evitar temas pol\xedticos, religiosos y futbol\xedsticos. "),Ie(11,"br"),C(12," \xa1Que lo disfrutes!"),E()(),I(13,"div",5)(14,"label",6),C(15,"No es posible utilizar el chat sin antes iniciar sesi\xf3n. \xa1Necesitamos identificarte!"),E()(),I(16,"div",7),Ie(17,"ul",8),E(),I(18,"input",9),j("ngModelChange",function(s){return r.mensaje=s}),E(),I(19,"button",10),j("click",function(){return r.sendMessage()}),C(20,"Enviar"),E()()()),2&t&&(vt(4),rs("\xa1Bienvenido/a ",r.usuario," al chat de Brainmetive!"),vt(14),hi("ngModel",r.mensaje)("ngModelOptions",os(3,sX)))},dependencies:[ka,np,yc],styles:["#chat-main-container[_ngcontent-%COMP%]{margin-top:2rem}#chat-header-text-container[_ngcontent-%COMP%]{text-align:center}#error-login-message[_ngcontent-%COMP%]{border:1px solid white;border-radius:10px;color:#d25a5a;padding:.5rem;width:100%;margin-top:1rem}#error-container[_ngcontent-%COMP%]{text-align:center}#chat-container[_ngcontent-%COMP%]{margin-top:2rem;border:1px solid white;height:25rem;border-radius:10px 10px 0 0/10px 10px 0px 0px}#box-messages[_ngcontent-%COMP%]{height:86.9%;list-style-type:none}#chat-messages[_ngcontent-%COMP%]{list-style:none;display:list-item;justify-content:right;align-items:center}#chat-input[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:19px}#send-button[_ngcontent-%COMP%]{margin-top:1px;width:100%;border-radius:0 0 10px 10px/0px 0px 10px 10px;font-family:Verdana,Geneva,Tahoma,sans-serif;font-weight:600;font-size:19px;text-transform:uppercase}.ownMessage[_ngcontent-%COMP%]{text-align:right;background-color:#d25a5a}"]}),n})(),aX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["app-error"]],decls:9,vars:0,consts:[["id","a",1,"p-4","p-md-5","mb-4","rounded","text-bg-dark"],["id","b",1,"row","mb-2"],["id","general-container",1,"row-md-6","px-0"],[1,"display-4","fst-italic"],[1,"lead","my-3"]],template:function(t,r){1&t&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),C(4,"Ups, algo sali\xf3 mal. \xbfDe qui\xe9n ser\xe1 la culpa?"),E(),I(5,"p",4),C(6,"Cuando algo sale mal como estos casos, es importante que sepas que la culpa puede ser tanto nuestra como suya. Lo que se sabe con total seguridad es que hubo un error que no permiti\xf3 seguir navegando con normalidad. Por favor, reintente su acci\xf3n. En caso de repetirse este error, comun\xedquese con el soporte de Brainmetive. 4282-3990. "),Ie(7,"br"),C(8," Muchas gracias. Disculpe las molestias. "),E()()()())},styles:["#a[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:5rem;width:100%}#b[_ngcontent-%COMP%]{justify-content:center;text-align:center}"]}),n})(),JF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["app-home"]],decls:12,vars:0,consts:[[1,"position-relative","overflow-hidden","p-3","p-md-5","m-md-3","text-center","bg-light"],[1,"col-md-5","p-lg-5","mx-auto","my-5"],[1,"display-4","fw-normal"],[1,"lead","fw-normal"],["href","#",1,"btn","btn-outline-secondary"],[1,"product-device","shadow-sm","d-none","d-md-block"],[1,"product-device","product-device-2","shadow-sm","d-none","d-md-block"]],template:function(t,r){1&t&&(I(0,"div",0)(1,"div",1)(2,"h1",2),C(3,"Brainmetive"),E(),I(4,"p",3),C(5,"Una verdadera experiencia. Una sala de juegos para la cognicion mental. "),Ie(6,"br"),C(7,"\xa1Esperamos verte de vuelta!"),E(),I(8,"a",4),C(9,"Proximamente"),E()(),Ie(10,"div",5)(11,"div",6),E())},styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5;justify-content:center}.form-signin[_ngcontent-%COMP%]{max-width:330px;padding:15px}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}#login-form[_ngcontent-%COMP%]{text-align:center;width:45%}"]}),n})();class xE{constructor(){}}const XF=function(){return{standalone:!0}},NE=XI(lE),eL=(Bi(NE,"Logs"),new Date);let uX=(()=>{class n{constructor(t,r){this.router=t,this.route=r,this.mailIngresadoLogin="",this.passwordIngresadoLogin="",this.errorShowed="Algo salio mal",this.log=new xE,this.listaLogsDB=[],this.log.mail="aux@gmail.com",this.log.fecha=eL.toString(),this.leerDB(),this.listaLogsDB.reverse(),this.listaLogsDB.pop(),console.log("LISTA DE LA DB VACIA, LIMPIA. READY TO USE."),console.log(this.listaLogsDB)}loginAuthFirebase(){var t=this;(function $W(n,e,t){return function c_(n,e){return d_.apply(this,arguments)}(Dn(n),nN.credential(e,t))})(bs(),this.mailIngresadoLogin,this.passwordIngresadoLogin).then(function(){var i=m(function*(s){console.log("El inicio de sesi\xf3n fue satisfactorio. Bienvenido/a.");let a=new xE;a.mail=t.mailIngresadoLogin,a.fecha=eL.toString(),t.listaLogsDB.push(a),yield aE(Bi(NE,"Logs"),{mail:a.mail,fechaLog:a.fecha}),t.router.navigate(["/home"])});return function(s){return i.apply(this,arguments)}}()).catch(i=>{const s=i.code;switch(this.mostrarError("MSG: "+i.message+" CODE: "+s),s){case"auth/invalid-email":this.mostrarError("El mail ingresado es invalido.");break;case"auth/internal-error":this.mostrarError("Hubo un error interno de procesamiento.");break;case"auth/wrong-password":this.mostrarError("La contrase\xf1a ingresada es incorrecta.");break;case"auth/user-not-found":this.mostrarError("No se pudo encontrar al usuario.");break;case"auth/network-request-failed":this.mostrarError("Hubo un problema de conexi\xf3n. Chequea tu red.");break;default:this.mostrarError("Ocurri\xf3 un error inesperado. Por favor comunicate con el soporte.")}})}mostrarError(t){document.getElementById("txtError")?.removeAttribute("hidden"),this.errorShowed=t}leerDB(){var t=this;return m(function*(){console.log("-------------------------------------"),console.log("USUARIOS LEIDOS DE LA DB:"),(yield GP(Bi(NE,"Logs"))).forEach(i=>{console.log(i.id," => ",i.data());let s=new xE;s.mail=i.data().mail,s.fecha=i.data().fechaLog,console.log("EL LOG QUE VOY A PUSHEAR:"),console.log(s),t.listaLogsDB.push(s)})})()}}return n.\u0275fac=function(t){return new(t||n)(T(rt),T(vr))},n.\u0275cmp=yn({type:n,selectors:[["app-login"]],decls:21,vars:7,consts:[[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"card","my-5"],[1,"card-body","cardbody-color","p-lg-5"],["id","card-tittle",1,"h3","mb-3","fw-normal"],[1,"mb-3"],["type","text","id","email","aria-describedby","emailHelp","placeholder","Mail",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","password","id","password","placeholder","Contrase\xf1a",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["color","dark","id","txtError","hidden",""],[1,"text-center"],["type","submit",1,"btn","btn-color","px-5","mb-5","w-100",3,"click"],["id","emailHelp",1,"form-text","text-center","mb-2.5","text-dark"],["href","/register",1,"text-dark","fw-bold"]],template:function(t,r){1&t&&(I(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"form",4)(6,"h1",5),C(7,"Inicie sesi\xf3n"),E(),I(8,"div",6)(9,"input",7),j("ngModelChange",function(s){return r.mailIngresadoLogin=s}),E()(),I(10,"div",6)(11,"input",8),j("ngModelChange",function(s){return r.passwordIngresadoLogin=s}),E()(),I(12,"p",9),C(13),E(),I(14,"div",10)(15,"button",11),j("click",function(){return r.loginAuthFirebase()}),C(16,"Ingresar"),E()(),I(17,"div",12),C(18,"\xbfSin cuenta? "),I(19,"a",13),C(20," Reg\xedstrese aqu\xed"),E()()()()()()()()),2&t&&(vt(9),hi("ngModel",r.mailIngresadoLogin)("ngModelOptions",os(5,XF)),vt(2),hi("ngModel",r.passwordIngresadoLogin)("ngModelOptions",os(6,XF)),vt(2),Vr(r.errorShowed))},dependencies:[EE,ka,np,fE,yc,mc],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5;justify-content:center}a[_ngcontent-%COMP%]{text-decoration:none}#card-tittle[_ngcontent-%COMP%]{text-align:center}#emailHelp[_ngcontent-%COMP%]{margin-top:-2.5rem}.btn-color[_ngcontent-%COMP%]{background-color:#0e1c36;color:#fff}#txtError[_ngcontent-%COMP%]{text-align:center;color:red}"]}),n})(),lX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["app-quiensoy"]],decls:92,vars:0,consts:[[1,"p-4","p-md-5","mb-4","rounded","text-bg-dark"],[1,"row","mb-2"],["id","general-container",1,"col-md-6","px-0"],[1,"display-4","fst-italic"],[1,"lead","my-3"],["text-decoration","none","href","https://www.linkedin.com/in/gabriel-l%C3%B3pez-gasal-610539225/",1,"link"],["id","utn-shower",1,"col-md-5"],["id","utn-row",1,"row","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],[1,"col-auto","d-none","d-lg-block"],["width","100%","height","100%","role","img","aria-label","Bootstrap","src","../../../assets/utn.jpg","alt","PageIcon",1,"bi","me-4"],[1,"col","p-4","d-flex","flex-column","position-static"],[1,"mb-0"],[1,"mb-1","text-muted"],[1,"card-text","mb-auto"],["href","https://www.fra.utn.edu.ar/",1,"link"],["id","gabriel-shower",1,"row-md-5"],["id","utn-row",1,"row","g-0","border","rounded","overflow-hidden","flex-md-row","mb-2","shadow-sm","h-md-250","position-relative"],["id","fotoGabriel","width","150px","height","150px","role","img","aria-label","Bootstrap","src","../../../assets/fotomia.jpeg","alt","PageIcon",1,"bi","me-0"],["href","https://www.instagram.com/_gabriellopez18/","target","_blank",1,"link2"],["href","https://twitter.com/GabiLpzGsl","target","_blank",1,"link2"],["href","https://www.facebook.com/gabi.lopezgasal/","target","_blank",1,"link2"],["id","expositor-proyectos",1,"row","mb-2"],[1,"col-md-6"],[1,"row","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],[1,"d-inline-block","mb-2","text-primary"],["href","https://github.com/Ex0num/tp_laboratorio_1/tree/main/TP_3%20(SIN%20TP4)",1,"stretched-link"],["width","200","height","250","src","../../../assets/C.PNG",1,"bd-placeholder-img"],["href","https://github.com/Ex0num/tp_laboratorio_2/tree/master/TP4",1,"stretched-link"],["width","200","height","250","src","../../../assets/Csharp.PNG",1,"bd-placeholder-img"],[1,"col","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],["id","ver-mas-container",1,"row-md-6","px-0"],["href","https://github.com/Ex0num","id","ver-mas-link"],["id","general-container-gracias",1,"row-md-6","px-0"]],template:function(t,r){1&t&&(I(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),C(5,"Una breve presentaci\xf3n y resumen de qui\xe9n soy"),E(),I(6,"p",4),C(7,"Soy un programador de actualmente 19 a\xf1os. Con un objetivo fijo y claro. Soy proveniente de Argentina, Buenos Aires. Inici\xe9 mi carrera en programaci\xf3n de una forma muy curiosa y repentina... teniendo la dicha fortuna de anotarme por primera vez a una carrera universitaria y entrar con los \xfaltimos cupos disponibles. Nunca program\xe9 anteriormente. Cuando recib\xed un .pdf introductorio del tema de la programaci\xf3n me engach\xf3. El camino, comenz\xf3 ah\xed. Con un simple archivo. que explicaba los conceptos y principios mas b\xe1sicos de la programaci\xf3n. "),Ie(8,"br"),C(9," Actualmente me encuentro estudiando, y pr\xf3ximo a buscar oportunidades laborales para insertarme y comenzar una nueva y emocionante etapa."),Ie(10,"br"),C(11," Ante cualquier propuesta de inter\xe9s no dudes en comunicarmela a mi "),I(12,"a",5),C(13,"Linked-in"),E(),C(14," que con gusto la analizar\xe9."),E()(),I(15,"div",6)(16,"div",7)(17,"div",8),Ie(18,"img",9),E(),I(19,"div",10)(20,"h3",11),C(21,"Mi universidad"),E(),I(22,"div",12),C(23,"Sep 2022"),E(),I(24,"p",13),C(25,"Este es el link de redirecci\xf3n a la p\xe1gina oficial de la universidad. (Especialmente mi sede, a la que estudi\xe9 y termin\xe9 la Tecnicatura en Programaci\xf3n)."),E(),I(26,"a",14),C(27,"Ir a su p\xe1gina"),E()()()()()(),I(28,"div",15)(29,"div",16)(30,"div",8),Ie(31,"img",17),E(),I(32,"div",10)(33,"h3",11),C(34,"\xa1Este soy yo, Hola!"),E(),I(35,"div",12),C(36,"Ene 2022"),E(),I(37,"p",13),C(38,"A continuaci\xf3n te dejo mis redes sociales. Para que sin compromiso alguno puedas contactarme, conocerme y/o apoyarme. "),Ie(39,"br"),I(40,"a",18),C(41,"Instagram"),E(),C(42," - "),I(43,"a",19),C(44,"Twitter"),E(),C(45," - "),I(46,"a",20),C(47,"Facebook"),E(),C(48,"\u2800Muchas gracias \u2763\ufe0f\u200b "),E()()()(),I(49,"div",21)(50,"div",22)(51,"div",23)(52,"div",10)(53,"h3",11),C(54,"Cotizaci\xf3n de importaciones y exportaciones"),E(),I(55,"strong",24),C(56,"Lenguaje: C"),E(),I(57,"div",12),C(58,"Jun 2021"),E(),I(59,"p",13),C(60,'Uno de los primeros proyectos que hice. Programado bajo varias formulas y calculos. Orientado a la cotizaci\xf3n de importaciones/exportaciones mar\xedtimas/aereas/. De los primeros lenguajes que v\xed y profundic\xe9. "C". La visual no era para nada atractiva. Era solo la funcionalidad en la consola.'),Ie(61,"br"),I(62,"a",25),C(63,"Dar un vistazo"),E()()(),I(64,"div",8),Ie(65,"img",26),E()()(),I(66,"div",22)(67,"div",23)(68,"div",10)(69,"h3",11),C(70,"Analisis de datos, filtraciones y resultados"),E(),I(71,"strong",24),C(72,"Lenguaje: C#"),E(),I(73,"div",12),C(74,"Nov 2022"),E(),I(75,"p",13),C(76,'Fue de los proyectos que personalmente m\xe1s aprend\xed y disfrut\xe9. Tuve una libertad de decisi\xf3n enorme. Cumpliendo varias condiciones, principalmente de filtrado de datos, pude darme el gusto de programar algo muy a mi "gusto" cumpliendo todo lo pedido. Windows Forms, me fue muy amigable y divertido.'),Ie(77,"br"),I(78,"a",27),C(79,"Dar un vistazo"),E()()(),I(80,"div",8),Ie(81,"img",28),E()()()(),I(82,"div",29)(83,"div",30)(84,"a",31),C(85,"Ver m\xe1s de mis proyectos"),E()()(),I(86,"div",0)(87,"div",32)(88,"h1",3),C(89,"\xa1Muchas gracias por tomarse el tiempo de conocerme!"),E(),I(90,"p",4),C(91,"Me alegra mucho que se haya tomado el tiempo de conocerme, tan solo que visite esta secci\xf3n de la pagina, significa mucho para m\xed. Muchas gracias. Espero seguir mejorando con el tiempo. Tengo muchos proyectos a futuro, planes de estudio, entre otras cosas. Ojal\xe1 pueda volver a captar su atenci\xf3n en otra ocasi\xf3n. Le deseo mucha suerte, y nuevamente, \xa1gracias! "),E()()()())},styles:[".lead[_ngcontent-%COMP%]{font-size:1.1rem}#general-container[_ngcontent-%COMP%]{margin-top:3rem}#utn-shower[_ngcontent-%COMP%]{margin-left:5rem}#subtitulo-mifoto[_ngcontent-%COMP%]{text-align:center}#gabriel-shower[_ngcontent-%COMP%]{width:100%;text-align:center}#fotoGabriel[_ngcontent-%COMP%]{margin-left:1.2rem;height:80%;border-radius:20px;margin-top:1rem}@media (max-width: 1100px){#utn-shower[_ngcontent-%COMP%]{margin-left:0rem;visibility:hidden}#general-container[_ngcontent-%COMP%]{margin-bottom:-20rem;width:100%}}@media (min-width: 980px) and (max-width: 1095px){#general-container[_ngcontent-%COMP%]{margin-bottom:-30rem;width:100%}#general-container[_ngcontent-%COMP%]{margin-bottom:-40rem;width:100%}}@media (min-width: 540px) and (max-width: 1100px){#general-container[_ngcontent-%COMP%]{margin-bottom:-20rem;width:100%}#general-container[_ngcontent-%COMP%]{margin-bottom:-16rem;width:100%}}@media (min-width: 767px) and (max-width: 900px){#general-container[_ngcontent-%COMP%]{margin-bottom:-20rem;width:100%}#general-container[_ngcontent-%COMP%]{margin-bottom:-35rem;width:100%}}.text-bg-dark[_ngcontent-%COMP%]{margin-top:2rem}#col-md-5[_ngcontent-%COMP%]{text-align:right;margin-top:4px}#utn-row[_ngcontent-%COMP%]{margin-right:3rem;margin-left:3rem;margin-top:2.2rem}.link[_ngcontent-%COMP%]{color:#fff;font-weight:600}.link2[_ngcontent-%COMP%]{color:#000;font-weight:600}#expositor-proyectos[_ngcontent-%COMP%]{margin-top:3.1rem;width:100%;padding-left:1rem}.card-text[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}#ver-mas-container[_ngcontent-%COMP%]{text-align:center;padding:.5rem 1rem;border-radius:2rem}#ver-mas-link[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-size:20px}#general-container-gracias[_ngcontent-%COMP%]{text-align:center}"]}),n})();class vc{constructor(){}constructor_2(e,t){1==vc.validarUsuario(e,t)&&(this.mail=e,this.password=t)}static validarUsuario(e,t){let r=!1;return null!=e&&null!=e&&null!=t&&null!=t&&(r=!0),r}static validarPassword(e){return null!=e&&null!=e&&e.length>5}static validarMail(e){let t=!1;for(let r=0;r<e.length;r++)"@"==e[r]&&(t=!0);return null!=e&&null!=e&&e.length>5&&1==t}}const RE=function(){return{standalone:!0}},kE=XI(lE),cX=(Bi(kE,"Usuarios"),[{path:"home",component:JF},{path:"quiensoy",component:lX},{path:"login",component:uX},{path:"register",component:(()=>{class n{constructor(t,r){this.router=t,this.route=r,this.mailIngresadoRegister="",this.passwordIngresadoRegister="",this.passwordIngresadoConfirmRegister="",this.errorShowed="Algo salio mal",this.user=new vc,this.listaUsuariosDB=[],this.user.mail="aux",this.user.password="aux",this.leerDB(),this.listaUsuariosDB.reverse(),this.listaUsuariosDB.pop(),console.log("LISTA DE LA DB VACIA, LIMPIA. READY TO USE."),console.log(this.listaUsuariosDB)}ngOnInit(){}registerAuthFirebase(){var t=this;return m(function*(){if(t.passwordIngresadoRegister==t.passwordIngresadoConfirmRegister){const r=bs();let i="0";(function jW(n,e,t){return E_.apply(this,arguments)})(r,t.mailIngresadoRegister,t.passwordIngresadoRegister).then(function(){var s=m(function*(o){let u=new vc;u.mail=t.mailIngresadoRegister,u.password=t.passwordIngresadoRegister,t.listaUsuariosDB.push(u),yield aE(Bi(kE,"Usuarios"),{mail:u.mail,password:u.password}),t.router.navigate(["/home"])});return function(o){return s.apply(this,arguments)}}()).catch(s=>{switch(i=s.code,i){case"auth/invalid-email":t.mostrarError("El mail ingresado es invalido.");break;case"auth/internal-error":t.mostrarError("Hubo un error interno de procesamiento.");break;case"auth/weak-password":t.mostrarError("La contrase\xf1a ingresada es debil. Minimo 6 caracteres.");break;case"auth/missing-email":t.mostrarError("No se ha detectado un mail.");break;case"auth/email-already-in-use":t.mostrarError("Ya existe una cuenta con el mail ingresado.");break;case"auth/network-request-failed":t.mostrarError("Hubo un problema de conexi\xf3n. Chequea tu red.");break;default:t.mostrarError("Ocurri\xf3 un error inesperado. Por favor comunicate con el soporte.")}})}else t.mostrarError("Las contrase\xf1as no coinciden.")})()}mostrarError(t){document.getElementById("txtError")?.removeAttribute("hidden"),this.errorShowed=t}leerDB(){var t=this;return m(function*(){console.log("-------------------------------------"),console.log("USUARIOS LEIDOS DE LA DB:"),(yield GP(Bi(kE,"Usuarios"))).forEach(i=>{console.log(i.id," => ",i.data());let s=new vc;s.mail=i.data().mail,s.password=i.data().password,console.log("EL USUARIO QUE VOY A PUSHEAR:"),console.log(s),t.listaUsuariosDB.push(s)}),console.log("-------------------------------------"),console.log("LA LISTA FINAL QUEDO DE LA SIGUIENTE MANERA:"),console.log(t.listaUsuariosDB)})()}}return n.\u0275fac=function(t){return new(t||n)(T(rt),T(vr))},n.\u0275cmp=yn({type:n,selectors:[["app-register"]],decls:19,vars:10,consts:[[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"card","my-5"],[1,"card-body","cardbody-color","p-lg-5"],["id","card-tittle",1,"h3","mb-3","fw-normal"],[1,"mb-3"],["type","text","id","email","aria-describedby","emailHelp","placeholder","Mail",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","password","id","password","placeholder","Contrase\xf1a",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","password","id","password-confirm","placeholder","Confirme contrase\xf1a",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["color","dark","id","txtError","hidden",""],[1,"text-center"],["type","submit",1,"btn","btn-color","px-5","mb-1","w-100",3,"click"]],template:function(t,r){1&t&&(I(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"form",4)(6,"h1",5),C(7,"Registre su cuenta"),E(),I(8,"div",6)(9,"input",7),j("ngModelChange",function(s){return r.mailIngresadoRegister=s}),E()(),I(10,"div",6)(11,"input",8),j("ngModelChange",function(s){return r.passwordIngresadoRegister=s}),E()(),I(12,"div",6)(13,"input",9),j("ngModelChange",function(s){return r.passwordIngresadoConfirmRegister=s}),E()(),I(14,"p",10),C(15),E(),I(16,"div",11)(17,"button",12),j("click",function(){return r.registerAuthFirebase()}),C(18,"Registrarse"),E()()()()()()()()),2&t&&(vt(9),hi("ngModel",r.mailIngresadoRegister)("ngModelOptions",os(7,RE)),vt(2),hi("ngModel",r.passwordIngresadoRegister)("ngModelOptions",os(8,RE)),vt(2),hi("ngModel",r.passwordIngresadoConfirmRegister)("ngModelOptions",os(9,RE)),vt(2),Vr(r.errorShowed))},dependencies:[EE,ka,np,fE,yc,mc],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5;justify-content:center}a[_ngcontent-%COMP%]{text-decoration:none}#card-tittle[_ngcontent-%COMP%]{text-align:center}.btn-color[_ngcontent-%COMP%]{background-color:#0e1c36;color:#fff}#txtError[_ngcontent-%COMP%]{text-align:center;color:red}"]}),n})()},{path:"chat",component:oX},{path:"salajuegos",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["app-salajuegos"]],decls:29,vars:0,consts:[["id","expositor-juegos",1,"row","mb-2"],[1,"col-md-6"],[1,"row","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],[1,"col","p-4","d-flex","flex-column","position-static"],[1,"mb-0"],[1,"card-text","mb-auto"],["href","juegos/ahorcado",1,"stretched-link"],[1,"col-auto","d-none","d-lg-block"],["width","200","height","200","src","../../../assets/game-files/ahorcado-files/0vidas.png",1,"bd-placeholder-img"],["href","juegos/mayoromenor",1,"stretched-link"],["width","200","height","200","src","../../../assets/game-files/mayor-o-menor-files/mas-o-menos.png",1,"bd-placeholder-img"],[1,"col","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],["id","ver-mas-container",1,"row-md-6","px-0"],["id","ver-mas-link"]],template:function(t,r){1&t&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),C(5,"\xa1El ahorcado!"),E(),I(6,"p",5),C(7,'Incorporamos El Ahorcado, un juego muy conocido popularmente, basado en la adivinanza de una palabra, con un total de "6 vidas". Prob\xe1 letra por letra, pens\xe1 e intent\xe1 adivinarla.'),Ie(8,"br"),I(9,"a",6),C(10,"Probarlo"),E()()(),I(11,"div",7),Ie(12,"img",8),E()()(),I(13,"div",1)(14,"div",2)(15,"div",3)(16,"h3",4),C(17,"\xbfMayor o Menor?"),E(),I(18,"p",5),C(19,"Un juego interesante, \xbfEs mayor o es menor? Consiste en la adivinanza de un n\xfamero en base a otro (que da el jugador). La idea es adivinar con la menor cantidad de intentos posibles."),Ie(20,"br"),I(21,"a",9),C(22,"Probarlo"),E()()(),I(23,"div",7),Ie(24,"img",10),E()()()(),I(25,"div",11)(26,"div",12)(27,"a",13),C(28,"\xa1Proximamente m\xe1s juegos!"),E()()())},styles:["#col-md-5[_ngcontent-%COMP%]{text-align:right;margin-top:4px}#utn-row[_ngcontent-%COMP%]{margin-right:3rem;margin-left:3rem;margin-top:2.2rem}p[_ngcontent-%COMP%]{margin-top:1rem}.link[_ngcontent-%COMP%]{color:#fff;font-weight:600}.link2[_ngcontent-%COMP%]{color:#000;font-weight:600}#expositor-juegos[_ngcontent-%COMP%]{margin-top:3.1rem;width:100%;padding-left:1rem}.card-text[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.bd-placeholder-img[_ngcontent-%COMP%]{padding:1rem}#ver-mas-container[_ngcontent-%COMP%]{text-align:center;padding:.5rem 1rem;border-radius:2rem}#ver-mas-link[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-size:20px}"]}),n})()},{path:"juegos/ahorcado",component:EK},{path:"juegos/mayoromenor",component:CK},{path:"",component:JF},{path:"**",component:aX}]);let dX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=or({type:n}),n.\u0275inj=$n({imports:[i1.forRoot(cX),i1]}),n})(),hX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=or({type:n,bootstrap:[iJ]}),n.\u0275inj=$n({imports:[k4,dX,rX]}),n})();(function JG(){GS=!1})(),R4().bootstrapModule(hX).catch(n=>console.error(n))}},Se=>{Se(Se.s=600)}]);